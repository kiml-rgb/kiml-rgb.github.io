<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Keep Theme</title>
  
  <subtitle>Keep theme quick starter</subtitle>
  <link href="https://kiml.github.io/atom.xml" rel="self"/>
  
  <link href="https://kiml.github.io/"/>
  <updated>2024-06-09T13:15:08.672Z</updated>
  <id>https://kiml.github.io/</id>
  
  <author>
    <name>Keep Team</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬äºŒåå¤©-669ä¿®å‰ªäºŒå‰æœç´¢æ ‘ã€108å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ã€538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</title>
    <link href="https://kiml.github.io/2024/06/09/100000037/"/>
    <id>https://kiml.github.io/2024/06/09/100000037/</id>
    <published>2024-06-09T07:54:48.000Z</published>
    <updated>2024-06-09T13:15:08.672Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š669é€šè¿‡ï¼Œä½†æ˜¯æœ‰æ›´ç®€å•çš„æ–¹æ³•ã€‚108ACã€‚538æ²¡æœ‰æ€è·¯ï¼Œçœ‹äº†è§£é¢˜æ€è·¯å†™å‡ºæ¥äº†ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24-06-09 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="669ä¿®å‰ªäºŒå‰æœç´¢æ ‘">669ä¿®å‰ªäºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/trim-a-binary-search-tree" >https://leetcode.cn/problems/trim-a-binary-search-tree<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ€è·¯ï¼šæŸ¥æ‰¾èŠ‚ç‚¹ï¼Œåˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> low  åŒºé—´å·¦èŒƒå›´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> high åŒºé—´å³èŒƒå›´</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">trimBST</span><span class="params">(TreeNode root, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…ˆå‰ªæ</span></span><br><span class="line">        cut(root, low, high);</span><br><span class="line">        <span class="comment">// å†å‡å•ä¸ª</span></span><br><span class="line">        <span class="keyword">return</span> travel(root, low, high);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TreeNode <span class="title function_">travel</span><span class="params">(TreeNode root, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (low &lt;= root.val &amp;&amp; root.val &lt;= high) &#123;</span><br><span class="line">            root.left = travel(root.left, low, high);</span><br><span class="line">            root.right = travel(root.right, low, high);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> root.right;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> root.left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">                <span class="comment">// 1.å³å­æ ‘è¡¥ä½(æ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦ä¾§èŠ‚ç‚¹)</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root.right;</span><br><span class="line">                <span class="keyword">while</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                &#125;</span><br><span class="line">                cur.left = root.left;</span><br><span class="line">                root = root.right;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> root;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        root.left = travel(root.left, low, high);</span><br><span class="line">        root.right = travel(root.right, low, high);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cut</span><span class="params">(TreeNode root, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•´æ¡å‰ªæ‰</span></span><br><span class="line">        <span class="keyword">if</span> (root.val &gt; high) &#123;</span><br><span class="line">            root.right = <span class="literal">null</span>;</span><br><span class="line">            root.left = trimBST(root.left, low, high);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.val &lt; low) &#123;</span><br><span class="line">            root.left = <span class="literal">null</span>;</span><br><span class="line">            root.right = trimBST(root.right, low, high);</span><br><span class="line">        &#125;</span><br><span class="line">        cut(root.left, low, high);</span><br><span class="line">        cut(root.right, low, high);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºæ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œåé¢åˆå†™äº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬ACä¸äº†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">trimBST</span><span class="params">(TreeNode root, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;  </span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> root;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (root.val &gt; high) &#123;  </span><br><span class="line"><span class="keyword">return</span> root.left;  </span><br><span class="line">            <span class="comment">// return trimBST(root.left, low, high);  </span></span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (root.val &lt; low) &#123;  </span><br><span class="line">            <span class="comment">// ç»§ç»­å‘å³éå†  </span></span><br><span class="line"><span class="keyword">return</span> root.right;  </span><br><span class="line">            <span class="comment">// return trimBST(root.right, low, high);  </span></span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (low &lt;= root.val &amp;&amp; root.val &lt;= high) &#123;  </span><br><span class="line">            root.left = trimBST(root.left, low, high);  </span><br><span class="line">            root.right = trimBST(root.right, low, high);  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">while</span> (root != <span class="literal">null</span> &amp;&amp; (root.val &lt; low || root.val &gt; high)) &#123;  </span><br><span class="line">            <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;  </span><br><span class="line">                root = root.right;  </span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">                root = root.left;  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                <span class="comment">// åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹  </span></span><br><span class="line">                <span class="comment">// 1.å³å­æ ‘è¡¥ä½(æ‰¾åˆ°å³å­æ ‘çš„æœ€å·¦ä¾§èŠ‚ç‚¹)  </span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root.right;  </span><br><span class="line">                <span class="keyword">while</span> (cur.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">                    cur = cur.left;  </span><br><span class="line">                &#125;  </span><br><span class="line">                cur.left = root.left;  </span><br><span class="line">                root = root.right;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="108å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘">108å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/" >https://leetcode.cn/problems/convert-sorted-array-to-binary-search-tree/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">sortedArrayToBST</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> sortedBFS(nums, <span class="number">0</span>, nums.length);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> TreeNode <span class="title function_">sortedBFS</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (i &gt;= j) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (j - i) / <span class="number">2</span> + i;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">treeNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(nums[mid]);  </span><br><span class="line">    treeNode.left = sortedBFS(nums, i, mid);  </span><br><span class="line">    treeNode.right = sortedBFS(nums , mid + <span class="number">1</span>, j);  </span><br><span class="line">    <span class="keyword">return</span> treeNode;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘">538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/convert-bst-to-greater-tree" >https://leetcode.cn/problems/convert-bst-to-greater-tree<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * çœ‹äº†é¢˜è§£ä¹‹åå†™å‡ºæ¥çš„  </span></span><br><span class="line"><span class="comment"> * æ€è·¯ï¼š  </span></span><br><span class="line"><span class="comment"> * 1.äºŒå‰æœç´¢æ ‘ï¼Œä¸­åºéå†ï¼ˆå·¦ä¸­å³ï¼‰æœ‰åº  </span></span><br><span class="line"><span class="comment"> * 2.è¦æŒ‰å€’åºç›¸åŠ ï¼Œéå†æ–¹å‘ç›¸å  </span></span><br><span class="line"><span class="comment"> * 3.å–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å‰èŠ‚ç‚¹ä¸æ–­ç´¯åŠ   </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(<span class="number">0</span>);  </span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">convertBST</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    getTreeNodeTravel(root);  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getTreeNodeTravel</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    getTreeNodeTravel(root.right);  </span><br><span class="line">  </span><br><span class="line">    root.val = pre.val + root.val;  </span><br><span class="line">    pre = root;  </span><br><span class="line">    getTreeNodeTravel(root.left);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="669ä¿®å‰ªäºŒå‰æœç´¢æ ‘-2">669ä¿®å‰ªäºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š <a class="link"   href="https://programmercarl.com/0669.%E4%BF%AE%E5%89%AA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html" >https://programmercarl.com/0669.%E4%BF%AE%E5%89%AA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š [<a class="link"   href="https://www.bilibili.com/video/BV17P41177ud" >https://www.bilibili.com/video/BV17P41177ud<i class="fas fa-external-link-alt"></i></a>](<a class="link"   href="https://www.bilibili.com/video/BV17P41177ud" >https://www.bilibili.com/video/BV17P41177ud<i class="fas fa-external-link-alt"></i></a><br>çœ‹äº†é¢˜è§£å‘ç°æ˜¯ä¸‹é¢ä¸¤è¡Œå¯¼è‡´ä¸èƒ½ACã€‚è¿™é‡Œä¸èƒ½ç›´æ¥å‰ªæ‰ï¼Œå¿½ç•¥äº†æƒ…å†µã€‚å¹¶ä¸”ç”¨äº†ä¸‹é¢çš„ç»§ç»­é€’å½’ï¼Œå°±ä¸ç”¨å†åˆ é™¤èŠ‚ç‚¹äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.val &gt; high) &#123;  </span><br><span class="line"><span class="keyword">return</span> root.left;  </span><br><span class="line">    <span class="comment">// return trimBST(root.left, low, high);  </span></span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">if</span> (root.val &lt; low) &#123;  </span><br><span class="line">    <span class="comment">// ç»§ç»­å‘å³éå†  </span></span><br><span class="line"><span class="keyword">return</span> root.right;  </span><br><span class="line">    <span class="comment">// return trimBST(root.right, low, high);  </span></span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><p><strong>æ­£ç¡®æ–¹æ³•</strong>ï¼ˆğŸ¥´å¥½éš¾ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">trimBST</span><span class="params">(TreeNode root, <span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; high) &#123;  </span><br><span class="line">        <span class="keyword">return</span> trimBST(root.left, low, high);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; low) &#123;   </span><br><span class="line">        <span class="keyword">return</span> trimBST(root.right, low, high);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (low &lt;= root.val &amp;&amp; root.val &lt;= high) &#123;  </span><br><span class="line">        root.left = trimBST(root.left, low, high);  </span><br><span class="line">        root.right = trimBST(root.right, low, high);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="108å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘-2">108å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š <a class="link"   href="https://programmercarl.com/0108.%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html" >https://programmercarl.com/0108.%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š[<a class="link"   href="https://www.bilibili.com/video/BV1uR4y1X7qL" >https://www.bilibili.com/video/BV1uR4y1X7qL<i class="fas fa-external-link-alt"></i></a>](<a class="link"   href="https://www.bilibili.com/video/BV1uR4y1X7qL" >https://www.bilibili.com/video/BV1uR4y1X7qL<i class="fas fa-external-link-alt"></i></a></p><h2 id="538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘-2">538æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š <a class="link"   href="https://programmercarl.com/0538.%E6%8A%8A%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%B4%AF%E5%8A%A0%E6%A0%91.html" >https://programmercarl.com/0538.%E6%8A%8A%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%B4%AF%E5%8A%A0%E6%A0%91.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1d44y1f7wP" >https://www.bilibili.com/video/BV1d44y1f7wP<i class="fas fa-external-link-alt"></i></a></p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š669é€šè¿‡ï¼Œä½†æ˜¯æœ‰æ›´ç®€å•çš„æ–¹æ³•ã€‚108ACã€‚538æ²¡æœ‰æ€è·¯ï¼Œçœ‹äº†è§£é¢˜æ€è·¯å†™å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24-06-09 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    <category term="äºŒå‰æœç´¢æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
    <category term="ç´¯åŠ æ ‘" scheme="https://kiml.github.io/tags/%E7%B4%AF%E5%8A%A0%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åä¹å¤©-235äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€701äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œã€450åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</title>
    <link href="https://kiml.github.io/2024/06/09/100000036/"/>
    <id>https://kiml.github.io/2024/06/09/100000036/</id>
    <published>2024-06-09T01:30:05.000Z</published>
    <updated>2024-06-09T13:15:03.500Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š235ã€701ACï¼Œ701è¿˜æœ‰æ›´ç®€å•çš„å†™æ³•ã€‚450é€šè¿‡å¤±è´¥ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24-06-09 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="235äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ">235äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree" >https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-search-tree<i class="fas fa-external-link-alt"></i></a>)<br>çœ‹äº†ä¸€éƒ¨åˆ†çš„è§£æã€‚ä¸»è¦åœ¨äº<strong>å½“æˆ‘ä»¬ä»ä¸Šå‘ä¸‹å»é€’å½’éå†ï¼Œç¬¬ä¸€æ¬¡é‡åˆ° curèŠ‚ç‚¹æ˜¯æ•°å€¼åœ¨<code>[q, p]</code>åŒºé—´ä¸­ï¼Œé‚£ä¹ˆcurå°±æ˜¯ qå’Œpçš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (p.val &lt; q.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestorTravel(root, p, q);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestorTravel(root, q, p);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">lowestCommonAncestorTravel</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span> || (p.val &lt;= root.val &amp;&amp; root.val &lt;= q.val)) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.val &gt; q.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.left, p, q);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.right, p, q);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="701äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ">701äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/description/" >https://leetcode.cn/problems/insert-into-a-binary-search-tree/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨åŒæŒ‡é’ˆ</span></span><br><span class="line">TreeNode pre;  </span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">insertIntoBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (pre == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">if</span> (pre.val &gt; val)&#123;  </span><br><span class="line">                pre.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);  </span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pre.val &lt; val) &#123;  </span><br><span class="line">                pre.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="keyword">return</span> root;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    pre = root;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; val) &#123;  </span><br><span class="line">        insertIntoBST(root.left, val);  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; val) &#123;  </span><br><span class="line">        insertIntoBST(root.right, val);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="450åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹">450åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/delete-node-in-a-bst" >https://leetcode.cn/problems/delete-node-in-a-bst<i class="fas fa-external-link-alt"></i></a>)<br>æƒ³çš„æ˜¯å·¦å­æ ‘é¡¶ä½å­çš„æƒ…å†µã€‚çœ‹äº†è§£æç”¨äº†å³å­æ ‘é¡¶ä½ï¼Œå¥½åƒç¡®å®å¥½ç†è§£ä¸€ç‚¹ã€‚ï¼ˆåŒ…æ‹¬è®²è§£ä¸­çš„æ™®é€šäºŒå‰æ ‘åˆ é™¤ï¼Œä¹Ÿæ˜¯ç”¨äº†å³å­æ ‘é¡¶ä½ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·å­ç”¨ä¾‹85ä¸èƒ½é€šè¿‡</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">deleteNode</span><span class="params">(TreeNode root, <span class="type">int</span> key)</span> &#123;  </span><br><span class="line">    <span class="comment">// ä¸ºç©ºç›´æ¥è¿”å›  </span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.val == key) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;  </span><br><span class="line">            root = root.right;  </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">            root = root.left;  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="comment">// åº”è¯¥æ˜¯è¿™é‡Œå†™å¾—ä¸å¯¹</span></span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> root.right;  </span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">leftRight</span> <span class="operator">=</span> root.left.right;  </span><br><span class="line">            root = root.left;  </span><br><span class="line">            <span class="keyword">if</span> (leftRight != <span class="literal">null</span>) &#123;  </span><br><span class="line">                root.right = leftRight;  </span><br><span class="line">                root.right.right = right;  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                root.right = right;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; key) &#123;  </span><br><span class="line">        root.left = deleteNode(root.left, key);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        root.right = deleteNode(root.right, key);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="235äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-2">235äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0235.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html" >https://programmercarl.com/0235.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š[<a class="link"   href="https://www.bilibili.com/video/BV1Zt4y1F7ww" >https://www.bilibili.com/video/BV1Zt4y1F7ww<i class="fas fa-external-link-alt"></i></a>](<a class="link"   href="https://www.bilibili.com/video/BV1Zt4y1F7ww" >https://www.bilibili.com/video/BV1Zt4y1F7ww<i class="fas fa-external-link-alt"></i></a></p><h2 id="701äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ-2">701äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0701.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C.html" >https://programmercarl.com/0701.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1Et4y1c78Y" >https://www.bilibili.com/video/BV1Et4y1c78Y<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–‡ç« ä¸­ç»™çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œç¡®å®è¿™æ ·å­æ€è·¯æ›´æ¸…æ™°äº†</span></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">insertIntoBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œä¹Ÿå°±æ„å‘³ç€valæ‰¾åˆ°äº†åˆé€‚çš„ä½ç½®ï¼Œæ­¤æ—¶åˆ›å»ºèŠ‚ç‚¹ç›´æ¥è¿”å›ã€‚</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(val);</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (root.val &lt; val)&#123;</span><br><span class="line">            root.right = insertIntoBST(root.right, val); <span class="comment">// é€’å½’åˆ›å»ºå³å­æ ‘</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (root.val &gt; val)&#123;</span><br><span class="line">            root.left = insertIntoBST(root.left, val); <span class="comment">// é€’å½’åˆ›å»ºå·¦å­æ ‘</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="450åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹-2">450åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0450.%E5%88%A0%E9%99%A4%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9.html" >https://programmercarl.com/0450.%E5%88%A0%E9%99%A4%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1tP41177us" >https://www.bilibili.com/video/BV1tP41177us<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">deleteNode</span><span class="params">(TreeNode root, <span class="type">int</span> key)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">  <span class="keyword">if</span> (root.val == key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> root.right;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> root.left;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// åªæœ‰è¿™éƒ¨åˆ†ä¸ä¸€æ ·</span></span><br><span class="line">      <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root.right;</span><br><span class="line">      <span class="keyword">while</span> (cur.left != <span class="literal">null</span>) &#123;</span><br><span class="line">        cur = cur.left;</span><br><span class="line">      &#125;</span><br><span class="line">      cur.left = root.left;</span><br><span class="line">      root = root.right;</span><br><span class="line">      <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (root.val &gt; key) root.left = deleteNode(root.left, key);</span><br><span class="line">  <span class="keyword">if</span> (root.val &lt; key) root.right = deleteNode(root.right, key);</span><br><span class="line">  <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š235ã€701ACï¼Œ701è¿˜æœ‰æ›´ç®€å•çš„å†™æ³•ã€‚450é€šè¿‡å¤±è´¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24-06-09 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    <category term="äºŒå‰æœç´¢æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>Leetcodeä¸æœ¬åœ°ç»“æœä¸ä¸€è‡´é—®é¢˜</title>
    <link href="https://kiml.github.io/2024/06/08/100000034/"/>
    <id>https://kiml.github.io/2024/06/08/100000034/</id>
    <published>2024-06-08T02:50:13.000Z</published>
    <updated>2024-06-08T14:05:05.901Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>å‚è€ƒæ–‡ç« ï¼š<a class="link"   href="https://www.jianshu.com/p/2e8f7621953d" >Leetcodeä¸æœ¬åœ°ç»“æœä¸ä¸€è‡´é—®é¢˜è§£å†³åŠåˆ†æ<i class="fas fa-external-link-alt"></i></a></p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.08 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>é—®é¢˜</h1><p>Leetcodeæäº¤çš„ä»£ç ï¼Œæµ‹è¯•ç”¨ä¾‹ä¸é€šè¿‡ã€‚æƒ³åœ¨æœ¬åœ°è°ƒå¼æŸ¥çœ‹ï¼Œä½†æ˜¯æœ¬åœ°æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><h1>åŸå› </h1><p>æœ¬åœ°åœ¨mainæ–¹æ³•ä¸­ç›´æ¥è°ƒè¯•ï¼Œéƒ¨åˆ†å…¨å±€å˜é‡ä½¿ç”¨äº†<code>static</code>å…³é”®å­—ï¼ŒLeetcodeåªåŠ è½½äº†ä¸€æ¬¡Solutionç±»ã€‚å¯¼è‡´å…¨å±€å˜é‡æ²¡æœ‰æ¢å¤åˆå§‹å€¼ã€‚</p><h1>è§£å†³</h1><p>å…¨éƒ¨å˜é‡å†æäº¤åˆ°Leetcodeæ—¶ï¼Œæ‰‹åŠ¨åˆ é™¤<code>static</code>å…³é”®å­—ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
å‚è€ƒæ–‡ç« ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://www.jianshu.com/p/2e8f7621953d&quot; &gt;Leetcodeä¸æœ¬åœ°ç»“æœä¸ä¸€è‡´é—®é¢˜è§£å†³åŠåˆ†æ&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.08 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="bugè®°å½•" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/"/>
    
    <category term="2024" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/2024/"/>
    
    
  </entry>
  
  <entry>
    <title>18 ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åå…«å¤©-530äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®ã€501äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°ã€236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
    <link href="https://kiml.github.io/2024/06/08/100000035/"/>
    <id>https://kiml.github.io/2024/06/08/100000035/</id>
    <published>2024-06-08T01:02:07.000Z</published>
    <updated>2024-06-09T01:43:29.563Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š530æš´åŠ›éå†ã€501æš´åŠ›ã€236ä¸ä¼šã€‚çœ‹äº†æ˜¨å¤©çš„é¢˜è§£æŠŠ530æ”¹æˆäº†åŒæŒ‡é’ˆã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.08 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="530äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®">530äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/minimum-absolute-difference-in-bst" >https://leetcode.cn/problems/minimum-absolute-difference-in-bst<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æš´åŠ›éå†</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMinimumDifference</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    getMinDiff(root, list);  </span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> Math.abs(list.get(<span class="number">0</span>) - list.get(<span class="number">1</span>));  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; list.size(); i++) &#123;  </span><br><span class="line">        min = Math.min(Math.abs(list.get(i) - list.get(i - <span class="number">1</span>)), min);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> min;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getMinDiff</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    getMinDiff(root.left, list);  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">    getMinDiff(root.right, list);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åé¢çœ‹äº†æ˜¨å¤©æœ€åä¸€é¢˜çš„é¢˜è§£ï¼Œè¿™é‡Œå¯ä»¥ç”¨åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * åŒæŒ‡é’ˆçš„è§£æ³•  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="type">Integer</span> <span class="variable">min</span> <span class="operator">=</span> Integer.MAX_VALUE;  </span><br><span class="line">TreeNode pre;  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMinimumDifference1</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> min;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    getMinimumDifference1(root.left);  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// ä¸­é—´éå†  </span></span><br><span class="line">    <span class="keyword">if</span> (pre != <span class="literal">null</span>) &#123;  </span><br><span class="line">        min = Math.min(Math.abs(root.val - pre.val), min);  </span><br><span class="line">    &#125;  </span><br><span class="line">    pre = root;  </span><br><span class="line">  </span><br><span class="line">    getMinimumDifference1(root.right);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> min;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="501äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°">501äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/find-mode-in-binary-search-tree" >https://leetcode.cn/problems/find-mode-in-binary-search-tree<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] findMode(TreeNode root) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  </span><br><span class="line">    find(root, map);  </span><br><span class="line">    List&lt;Map.Entry&lt;Integer, Integer&gt;&gt; collect = map.entrySet().stream()  </span><br><span class="line">            .sorted((o1, o2) -&gt; o2.getValue() - o1.getValue())  </span><br><span class="line">            .collect(Collectors.toList());  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    list.add(collect.get(<span class="number">0</span>).getKey());  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; collect.size(); i++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (collect.get(i).getValue().equals(collect.get(<span class="number">0</span>).getValue())) &#123;  </span><br><span class="line">            list.add(collect.get(i).getKey());  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> list.stream().mapToInt(i -&gt; i).toArray();  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">find</span><span class="params">(TreeNode root, Map&lt;Integer, Integer&gt; map)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    find(root.left, map);  </span><br><span class="line">    map.put(root.val, map.getOrDefault(root.val, <span class="number">0</span>) + <span class="number">1</span>);  </span><br><span class="line">    find(root.right, map);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ">236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree" >https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree<i class="fas fa-external-link-alt"></i></a>)<br>æ²¡æœ‰æ€è·¯ã€‚</p><h1>çœ‹è§£æ</h1><h2 id="530äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®-2">530äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0530.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E5%B0%8F%E7%BB%9D%E5%AF%B9%E5%B7%AE.html" >https://programmercarl.com/0530.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E5%B0%8F%E7%BB%9D%E5%AF%B9%E5%B7%AE.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1DD4y11779" >https://www.bilibili.com/video/BV1DD4y11779<i class="fas fa-external-link-alt"></i></a></p><h2 id="501äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°-2">501äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0501.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E4%BC%97%E6%95%B0.html" >https://programmercarl.com/0501.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E4%BC%97%E6%95%B0.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1fD4y117gp" >https://www.bilibili.com/video/BV1fD4y117gp<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæŒ‡é’ˆçš„å‰ä¸€ä¸ªèŠ‚ç‚¹  </span></span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;  </span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line"><span class="type">int</span> <span class="variable">maxCount</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * åŒæŒ‡é’ˆè§£æ³•  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] findMode(TreeNode root) &#123;  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// é€’å½’é€»è¾‘  </span></span><br><span class="line">    findModeTravel(root, list);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> list.stream().mapToInt(i -&gt; i).toArray();  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">findModeTravel</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    findModeTravel(root.left, list);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (pre == <span class="literal">null</span>) &#123;  </span><br><span class="line">        count = <span class="number">1</span>;  </span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (pre.val == root.val)&#123;  </span><br><span class="line">        count++;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        count = <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    pre = root;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (count == maxCount) &#123;  </span><br><span class="line">        list.add(root.val);  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count &gt; maxCount) &#123;  </span><br><span class="line">        maxCount = count;  </span><br><span class="line">        list.clear();  </span><br><span class="line">        list.add(root.val);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    findModeTravel(root.right, list);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ-2">236äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š<a class="link"   href="https://programmercarl.com/0236.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html" >https://programmercarl.com/0236.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html<i class="fas fa-external-link-alt"></i></a><br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1jd4y1B7E2" >https://www.bilibili.com/video/BV1jd4y1B7E2<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;  </span><br><span class="line">    <span class="comment">// return rootä¹Ÿæ˜¯ç©º å¯ä»¥å’Œä¸‹é¢ä¸€èµ·å†™  </span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root == p || root == q) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (left!= <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> left;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right != <span class="literal">null</span> &amp;&amp; left == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> right;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š530æš´åŠ›éå†ã€501æš´åŠ›ã€236ä¸ä¼šã€‚çœ‹äº†æ˜¨å¤©çš„é¢˜è§£æŠŠ530æ”¹æˆäº†åŒæŒ‡é’ˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.08 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="åŒæŒ‡é’ˆ" scheme="https://kiml.github.io/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"/>
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    <category term="äºŒå‰æœç´¢æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åä¸ƒå¤©-654æœ€å¤§äºŒå‰æ ‘ã€617åˆå¹¶äºŒå‰æ ‘ã€700äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ã€98éªŒè¯äºŒå‰æœç´¢æ ‘</title>
    <link href="https://kiml.github.io/2024/06/07/100000033/"/>
    <id>https://kiml.github.io/2024/06/07/100000033/</id>
    <published>2024-06-07T08:56:26.000Z</published>
    <updated>2024-06-08T02:20:11.064Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š654ACã€617ACå¯ä¼˜åŒ–ã€700ACã€98ä¸ä¼š</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.07 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="654æœ€å¤§äºŒå‰æ ‘">654æœ€å¤§äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/maximum-binary-tree/" >https://leetcode.cn/problems/maximum-binary-tree/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">constructMaximumBinaryTree</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">maxIndex</span> <span class="operator">=</span> getMaxIndex(nums);  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(nums[maxIndex]);  </span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">1</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    root.left = constructMaximumBinaryTree(Arrays.copyOfRange(nums, <span class="number">0</span>, maxIndex));  </span><br><span class="line">    root.right = constructMaximumBinaryTree(Arrays.copyOfRange(nums, maxIndex + <span class="number">1</span>, nums.length));  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMaxIndex</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Integer.MIN_VALUE;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">maxIndex</span> <span class="operator">=</span> -<span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max) &#123;  </span><br><span class="line">            maxIndex = i;  </span><br><span class="line">            max = nums[i];  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> maxIndex;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="617åˆå¹¶äºŒå‰æ ‘">617åˆå¹¶äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/merge-two-binary-trees/" >https://leetcode.cn/problems/merge-two-binary-trees/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">mergeTrees</span><span class="params">(TreeNode root1, TreeNode root2)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root1 == <span class="literal">null</span> &amp;&amp; root2 == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">value1</span> <span class="operator">=</span> root1 == <span class="literal">null</span> ? <span class="number">0</span> : root1.val;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">value2</span> <span class="operator">=</span> root2 == <span class="literal">null</span> ? <span class="number">0</span> : root2.val;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(value1 + value2);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root1 == <span class="literal">null</span>) &#123;  </span><br><span class="line">        node.left = mergeTrees(<span class="literal">null</span>, root2.left);  </span><br><span class="line">        node.right = mergeTrees(<span class="literal">null</span>, root2.right);  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root2 == <span class="literal">null</span>)&#123;  </span><br><span class="line">        node.left = mergeTrees(root1.left, <span class="literal">null</span>);  </span><br><span class="line">        node.right = mergeTrees(root1.right, <span class="literal">null</span>);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        node.left = mergeTrees(root1.left, root2.left);  </span><br><span class="line">        node.right = mergeTrees(root1.right, root2.right);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> node;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="700äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢">700äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/search-in-a-binary-search-tree" >https://leetcode.cn/problems/search-in-a-binary-search-tree<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * BFS </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">searchBST</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (val == root.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val &lt; root.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> searchBST(root.left, val);  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> searchBST(root.right, val);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * DFS </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">public</span> TreeNode <span class="title function_">searchBSTDFS</span><span class="params">(TreeNode root, <span class="type">int</span> val)</span> &#123;  </span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (val == root.val) &#123;  </span><br><span class="line">            <span class="keyword">return</span> root;  </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val &lt; root.val)&#123;  </span><br><span class="line">            root = root.left;  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">            root = root.right;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="98éªŒè¯äºŒå‰æœç´¢æ ‘">98éªŒè¯äºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/validate-binary-search-tree/" >https://leetcode.cn/problems/validate-binary-search-tree/<i class="fas fa-external-link-alt"></i></a>)<br>åªæ¯”è¾ƒäº†<strong>å·¦èŠ‚ç‚¹å°äºä¸­é—´èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹å¤§äºä¸­é—´èŠ‚ç‚¹</strong>ï¼Œå®é™…ä¸Šè¦åŠ ä¸Š<strong>å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å°äºä¸­é—´èŠ‚ç‚¹ï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å¤§äºä¸­é—´èŠ‚ç‚¹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰é€šè¿‡ï¼Œå°‘ç®—äº†ä¸€ç§æƒ…å†µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å·¦å­æ ‘ä¸ä¸ºç©ºå¹¶ä¸”å¤§äº  </span></span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span> &amp;&amp; root.left.val &gt;= root.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        <span class="comment">// å³å­æ ‘ä¸ä¸ºç©ºå¹¶ä¸”å°äº  </span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.right != <span class="literal">null</span> &amp;&amp; root.right.val &lt;= root.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> isValidBST(root.left) &amp;&amp; isValidBST(root.right);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="654æœ€å¤§äºŒå‰æ ‘-2">654æœ€å¤§äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0654.%E6%9C%80%E5%A4%A7%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0654.æœ€å¤§äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1MG411G7ox" >https://www.bilibili.com/video/BV1MG411G7ox<i class="fas fa-external-link-alt"></i></a></p><h2 id="617åˆå¹¶äºŒå‰æ ‘-2">617åˆå¹¶äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0617.%E5%90%88%E5%B9%B6%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0617.åˆå¹¶äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1m14y1Y7JK" >https://www.bilibili.com/video/BV1m14y1Y7JK<i class="fas fa-external-link-alt"></i></a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–å</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">mergeTrees1</span><span class="params">(TreeNode root1, TreeNode root2)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root1 == <span class="literal">null</span> &amp;&amp; root2 != <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root2;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root1 != <span class="literal">null</span> &amp;&amp; root2 == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root1;  </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root1 == <span class="literal">null</span> &amp;&amp; root2 == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(root1.val + root2.val);  </span><br><span class="line">        node.left = mergeTrees(root1.left, root2.left);  </span><br><span class="line">        node.right = mergeTrees(root1.right, root2.right);  </span><br><span class="line">        <span class="keyword">return</span> node;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="700äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢-2">700äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0700.%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%9A%84%E6%90%9C%E7%B4%A2.html" >https://programmercarl.com/0700.äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢.html<i class="fas fa-external-link-alt"></i></a>)<br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV1wG411g7sF" >https://www.bilibili.com/video/BV1wG411g7sF<i class="fas fa-external-link-alt"></i></a></p><p>äºŒå‰æœç´¢æ ‘æ˜¯ä¸€ä¸ªæœ‰åºæ ‘ï¼š</p><ul class="lvl-0"><li class="lvl-2"><p>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</p></li><li class="lvl-2"><p>è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</p></li><li class="lvl-2"><p>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘</p></li></ul><h2 id="98éªŒè¯äºŒå‰æœç´¢æ ‘-2">98éªŒè¯äºŒå‰æœç´¢æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0098.%E9%AA%8C%E8%AF%81%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91.html" >https://programmercarl.com/0098.éªŒè¯äºŒå‰æœç´¢æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>è§†é¢‘è®²è§£ï¼š<a class="link"   href="https://www.bilibili.com/video/BV18P411n7Q4" >https://www.bilibili.com/video/BV18P411n7Q4<i class="fas fa-external-link-alt"></i></a><br>å…³é”®åœ¨äºï¼š<strong>ä¸­åºéå†ä¸‹ï¼Œè¾“å‡ºçš„äºŒå‰æœç´¢æ ‘èŠ‚ç‚¹çš„æ•°å€¼æ˜¯æœ‰åºåºåˆ—ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    inorder(root, list);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (list.size() &lt;= <span class="number">1</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size() - <span class="number">1</span>; i++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (list.get(i) &gt;= list.get(i + <span class="number">1</span>)) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">inorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    inorder(root.left, list);  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">    inorder(root.right, list);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * å•æ¬¡å¾ªç¯æå®š</span></span><br><span class="line"><span class="comment"> * åŒæŒ‡é’ˆæ³•</span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line">TreeNode max;  </span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST1</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// å·¦  </span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">left</span> <span class="operator">=</span> isValidBST1(root.left);  </span><br><span class="line">    <span class="keyword">if</span> (!left) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// ä¸­  </span></span><br><span class="line">    <span class="keyword">if</span> (max != <span class="literal">null</span> &amp;&amp; root.val &lt;= max.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    max = root;  </span><br><span class="line">    <span class="comment">// å³  </span></span><br><span class="line">    <span class="keyword">return</span> isValidBST1(root.right);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š654ACã€617ACå¯ä¼˜åŒ–ã€700ACã€98ä¸ä¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.07 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="åŒæŒ‡é’ˆ" scheme="https://kiml.github.io/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"/>
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    <category term="äºŒå‰æœç´¢æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åå…­å¤©-513æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼ã€112è·¯å¾„æ€»å’Œã€113è·¯å¾„æ€»å’Œiiã€106ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ã€105ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</title>
    <link href="https://kiml.github.io/2024/06/07/100000032/"/>
    <id>https://kiml.github.io/2024/06/07/100000032/</id>
    <published>2024-06-07T01:10:00.000Z</published>
    <updated>2024-06-07T13:15:14.836Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š513ç”¨å±‚åºACã€112ACï¼ˆä½†æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼‰ï¼‰ï¼ˆè§£æä¸­ç»™çš„æ–¹æ³•å’Œæƒ³çš„ä¸ä¸€æ ·ï¼‰ï¼Œ113ACã€106ä¸ä¼š</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.07 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="513æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼">513æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/find-bottom-left-tree-value" >https://leetcode.cn/problems/find-bottom-left-tree-value<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * çœ‹é¢˜ç›®æ„Ÿè§‰å±‚åºéå†ç®€å•ä¸€ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findBottomLeftValue</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    findBottomDFS(root, <span class="number">0</span>, list);  </span><br><span class="line">    List&lt;Integer&gt; theLastLayer = list.get(list.size() - <span class="number">1</span>);  </span><br><span class="line">    <span class="keyword">return</span> theLastLayer.stream().filter(Objects::nonNull).collect(Collectors.toList()).get(<span class="number">0</span>);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">findBottomDFS</span><span class="params">(TreeNode root, <span class="type">int</span> i, List&lt;List&lt;Integer&gt;&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// æ·±åº¦å¢åŠ   </span></span><br><span class="line">    i++;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (list.size() &lt; i) &#123;  </span><br><span class="line">        ArrayList&lt;Integer&gt; innerList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        list.add(innerList);  </span><br><span class="line">    &#125;  </span><br><span class="line">    list.get(i - <span class="number">1</span>).add(root.val);  </span><br><span class="line">  </span><br><span class="line">    findBottomDFS(root.left, i, list);  </span><br><span class="line">    findBottomDFS(root.right, i, list);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="112è·¯å¾„æ€»å’Œã€113è·¯å¾„æ€»å’Œii">112è·¯å¾„æ€»å’Œã€113è·¯å¾„æ€»å’Œii</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/path-sum/description/" >https://leetcode.cn/problems/path-sum/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ„Ÿè§‰ä¹‹å‰åšè¿‡æ±‚è·¯å¾„çš„é¢˜ï¼ˆé€’å½’+è¿­ä»£ï¼‰è¿™é¢˜åº”è¯¥å˜æ¢ä¸€ä¸‹  </span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦å¥½åƒæœ‰ç‚¹é«˜ï¼Œå‰©ä¸‹é‚£é¢˜ç­‰çœ‹å®Œè§£æåå†å†™</span></span><br><span class="line"><span class="comment"> * åé¢æ”¹ç”¨sumç›´æ¥åŠ å‡ä¸éå†æ±‚æ€»å’Œï¼Œä½†æ˜¯leetcodeä¸é€šè¿‡ï¼Œæœ¬åœ°å€’æ˜¯æµ‹è¯•æ²¡é—®é¢˜</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> targetSum ç›®æ ‡å’Œ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasPathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();  </span><br><span class="line">    <span class="keyword">return</span> hasPathSumBFS(root, list, targetSum);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">hasPathSumBFS</span><span class="params">(TreeNode root, List&lt;Integer&gt; list, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="comment">// æ±‚listä¸­çš„æ€»å’Œ  </span></span><br><span class="line">        <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> list.stream().collect(Collectors.summarizingInt(value -&gt; value)).getSum();  </span><br><span class="line">        <span class="keyword">return</span> sum == targetSum;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">boolean</span> <span class="variable">left</span> <span class="operator">=</span> <span class="literal">false</span>;  </span><br><span class="line">    <span class="type">boolean</span> <span class="variable">right</span> <span class="operator">=</span> <span class="literal">false</span>;  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        left = hasPathSumBFS(root.left, list, targetSum);  </span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        right = hasPathSumBFS(root.right, list, targetSum);  </span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> left || right;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/path-sum-ii/" >https://leetcode.cn/problems/path-sum-ii/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    pathSumBFS(root, targetSum, result, list);  </span><br><span class="line">    <span class="keyword">return</span> result;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">pathSumBFS</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    targetSum -= root.val;  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (targetSum == <span class="number">0</span>) &#123;  </span><br><span class="line">            List&lt;Integer&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(list);  </span><br><span class="line">            result.add(arrayList);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        pathSumBFS(root.left, targetSum, result, list);  </span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        pathSumBFS(root.right, targetSum, result, list);  </span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="106ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ã€105ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘">106ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ã€105ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/description/" >https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¸ä¼šï¼Œç›´æ¥çœ‹è§£æ</span><br></pre></td></tr></table></figure><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" >https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/<i class="fas fa-external-link-alt"></i></a>)<br>æ›´å¿«çš„è§£æ³•æ˜¯æŠŠinorderæ”¾åˆ°mapå†…ï¼Œè¿™æ ·æŸ¥æ‰¾ä¸ç”¨éå†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (preorder.length == <span class="number">0</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorder[<span class="number">0</span>]);  </span><br><span class="line">    <span class="keyword">if</span> (preorder.length == <span class="number">1</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">indexIn</span> <span class="operator">=</span> -<span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (inorder[i] == preorder[<span class="number">0</span>]) &#123;  </span><br><span class="line">            indexIn = i;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// å·¦å­æ ‘  </span></span><br><span class="line">    <span class="type">int</span>[] leftTreeInorder = Arrays.copyOfRange(inorder, <span class="number">0</span>, indexIn);  </span><br><span class="line">    <span class="comment">// å³å­æ ‘  </span></span><br><span class="line">    <span class="type">int</span>[] rightTreeInorder = Arrays.copyOfRange(inorder, indexIn + <span class="number">1</span>, inorder.length);  </span><br><span class="line">  </span><br><span class="line">    root.left = buildTree(Arrays.copyOfRange(preorder, <span class="number">1</span>, leftTreeInorder.length + <span class="number">1</span>), leftTreeInorder);  </span><br><span class="line">    root.right = buildTree(Arrays.copyOfRange(preorder, inorder.length - rightTreeInorder.length, inorder.length), rightTreeInorder);  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="513æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼-2">513æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0513.%E6%89%BE%E6%A0%91%E5%B7%A6%E4%B8%8B%E8%A7%92%E7%9A%84%E5%80%BC.html" >https://programmercarl.com/0513.æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼.html<i class="fas fa-external-link-alt"></i></a>)<br>é‚£ä¹ˆå¦‚ä½•æ‰¾æœ€å·¦è¾¹çš„å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨å‰åºéå†ï¼ˆå½“ç„¶ä¸­åºï¼Œååºéƒ½å¯ä»¥ï¼Œå› ä¸ºæœ¬é¢˜æ²¡æœ‰ ä¸­é—´èŠ‚ç‚¹çš„å¤„ç†é€»è¾‘ï¼Œåªè¦å·¦ä¼˜å…ˆå°±è¡Œï¼‰ï¼Œä¿è¯ä¼˜å…ˆå·¦è¾¹æœç´¢ï¼Œç„¶åè®°å½•æ·±åº¦æœ€å¤§çš„å¶å­èŠ‚ç‚¹ï¼Œæ­¤æ—¶å°±æ˜¯æ ‘çš„æœ€åä¸€è¡Œæœ€å·¦è¾¹çš„å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’æ³•</span></span><br><span class="line"><span class="type">int</span> value;  </span><br><span class="line"><span class="type">int</span> <span class="variable">maxDeep</span> <span class="operator">=</span> Integer.MIN_VALUE;  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findBottomLeftValueBFS</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    value = root.val;  </span><br><span class="line">    findLeftValue(root,<span class="number">0</span>);  </span><br><span class="line">    <span class="keyword">return</span> value;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">findLeftValue</span><span class="params">(TreeNode root, <span class="type">int</span> deep)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (deep &gt; maxDeep) &#123;  </span><br><span class="line">            value = root.val;  </span><br><span class="line">            maxDeep = deep;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        findLeftValue(root.left, deep + <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        findLeftValue(root.right, deep + <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="112è·¯å¾„æ€»å’Œã€113è·¯å¾„æ€»å’Œii-2">112è·¯å¾„æ€»å’Œã€113è·¯å¾„æ€»å’Œii</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0112.%E8%B7%AF%E5%BE%84%E6%80%BB%E5%92%8C.html" >https://programmercarl.com/0112.è·¯å¾„æ€»å’Œ.html<i class="fas fa-external-link-alt"></i></a>)<br>ç»•æ™•äº†ï¼Œå¦‚æœæŠŠ<code>targetSum -= root.val;</code>è¿™å¥è¯å†™åœ¨å‡½æ•°æœ€å‰é¢ï¼Œå°±ä¸ç”¨å›æº¯ã€‚å¯ä»¥çœ‹ä¸‰è¡Œç®€åŒ–çš„é‚£ä¸ªæ³¨é‡Šã€‚æˆ‘ç†è§£çš„æ˜¯Javaé‡Œintä¸èƒ½ä¼ é€’å€¼ï¼Œé€’å½’å†…å±‚å¯¹targetSumçš„å€¼è¿›è¡Œæ”¹å˜ï¼Œå¤–å±‚ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥å°±ä¸ç”¨å›æº¯äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡ææ‡‚æ€ä¹ˆå°±ä¸ç”¨å›æº¯äº†ï¼Œå› ä¸ºintä¸èƒ½ä¼ å€¼å—ï¼Ÿ</span></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ„Ÿè§‰ä¹‹å‰åšè¿‡æ±‚è·¯å¾„çš„é¢˜ï¼ˆé€’å½’+è¿­ä»£ï¼‰è¿™é¢˜åº”è¯¥å˜æ¢ä¸€ä¸‹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> targetSum ç›®æ ‡å’Œ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">hasPathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    targetSum -= root.val;  </span><br><span class="line">    <span class="keyword">return</span> hasPathSumBFS(root, targetSum);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">hasPathSumBFS</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="comment">// æ±‚listä¸­çš„æ€»å’Œ  </span></span><br><span class="line">        <span class="keyword">return</span> targetSum == <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        targetSum -= root.left.val;  </span><br><span class="line">        <span class="keyword">if</span> (hasPathSumBFS(root.left, targetSum)) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„å›æº¯å°±æ˜¯æŠŠå½“å‰èŠ‚ç‚¹å‡æ‰ï¼ˆæ•°å€¼åŠ ä¸Šï¼‰ã€‚åŒ…æ‹¬ä¹‹å‰ä¹Ÿæ˜¯ï¼Œä½†æ˜¯ä¹‹å‰æ˜¯listä¸å¤ªå¥½ç§»é™¤ï¼Œæ‰€ä»¥é€‰æ‹©ç§»é™¤æœ€åä¸€ä½</span></span><br><span class="line">        targetSum += root.left.val;  </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// ä¸Šé¢ä¸‰è¡Œå¯ä»¥ç®€åŒ–æˆ  </span></span><br><span class="line"><span class="comment">if (root.left != null) &#123;  </span></span><br><span class="line"><span class="comment">    // è¿™é‡ŒtargetSumçš„å€¼æ˜¯æ²¡æœ‰å˜åŒ–çš„ã€‚å‡å®Œçš„å€¼è¿›å…¥å¾ªç¯ï¼Œå°±ä¸ç”¨å›æº¯äº†  </span></span><br><span class="line"><span class="comment">    hasPathSumBFS(root.left, targetSum - root.left.val);  </span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        targetSum -= root.right.val;  </span><br><span class="line">        <span class="keyword">if</span> (hasPathSumBFS(root.right, targetSum)) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        targetSum += root.right.val;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * ç®€åŒ–ç‰ˆæœ¬  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">hasPathSum</span><span class="params">(TreeNode root, <span class="type">int</span> targetSum)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> targetSum == <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">return</span> hasPathSum(root.left, targetSum - root.val) || hasPathSum(root.right, targetSum - root.val);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="106ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ã€105ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘-2">106ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ã€105ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0106.%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>æ›´å¿«çš„è§£æ³•æ˜¯æŠŠinorderæ”¾åˆ°mapå†…ï¼Œè¿™æ ·æŸ¥æ‰¾ä¸ç”¨éå†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * 1.ååºæœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * 2.æ ¹æ®è¿™ä¸ªèŠ‚ç‚¹åˆ‡å‰²ä¸­åºæ•°ç»„ï¼ˆèŠ‚ç‚¹å‰ä¸ºå·¦å­æ ‘ï¼ŒèŠ‚ç‚¹åä¸ºå³å­æ ‘ï¼‰  </span></span><br><span class="line"><span class="comment"> * 3.æ ¹æ®ä¸­åºæ•°ç»„çš„åˆ‡å‰²åˆ‡å‰²ååºæ•°ç»„  </span></span><br><span class="line"><span class="comment"> * 4.é€’å½’  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inorder ä¸­åºéå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> postorder ååºéå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> æ ‘  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span>[] postorder)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (inorder.length != postorder.length) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (postorder.length == <span class="number">0</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(postorder[postorder.length - <span class="number">1</span>]);  </span><br><span class="line">    <span class="keyword">if</span> (postorder.length == <span class="number">1</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> root;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">indexIn</span> <span class="operator">=</span> -<span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (inorder[i] == postorder[postorder.length - <span class="number">1</span>]) &#123;  </span><br><span class="line">            indexIn = i;  </span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// å·¦å­æ ‘  </span></span><br><span class="line">    <span class="type">int</span>[] leftTreeInorder = Arrays.copyOfRange(inorder, <span class="number">0</span>, indexIn);  </span><br><span class="line">    <span class="comment">// å³å­æ ‘  </span></span><br><span class="line">    <span class="type">int</span>[] rightTreeInorder = Arrays.copyOfRange(inorder, indexIn + <span class="number">1</span>, inorder.length);  </span><br><span class="line">  </span><br><span class="line">    root.left = buildTree(leftTreeInorder, Arrays.copyOfRange(postorder, <span class="number">0</span>, leftTreeInorder.length));  </span><br><span class="line">    root.right = buildTree(rightTreeInorder, Arrays.copyOfRange(postorder, leftTreeInorder.length, postorder.length - <span class="number">1</span>));  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š513ç”¨å±‚åºACã€112ACï¼ˆä½†æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼‰ï¼‰ï¼ˆè§£æä¸­ç»™çš„æ–¹æ³•å’Œæƒ³çš„ä¸ä¸€æ ·ï¼‰ï¼Œ113ACã€106ä¸ä¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.07 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>WebStormå¸¸ç”¨è®¾ç½®</title>
    <link href="https://kiml.github.io/2024/06/06/100000030/"/>
    <id>https://kiml.github.io/2024/06/06/100000030/</id>
    <published>2024-06-06T09:54:58.000Z</published>
    <updated>2024-06-06T13:32:09.621Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>WebStormå¸¸ç”¨è®¾ç½®</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.06 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åŸºæœ¬è®¾ç½®</h1><p>å› ä¸ºæ˜¯åŒä¸€å®¶å…¬å¸ï¼Œä¸€äº›åŸºæœ¬çš„é…ç½®ä¸IntelliJ IDEAæ˜¯ç›¸åŒçš„ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p><blockquote><p>[[IntelliJ IDEAå¸¸ç”¨è®¾ç½®]]<br><a class="link"   href="https://kiml.site/2023/07/02/100000003/" >IntelliJ IDEAå¸¸ç”¨è®¾ç½®<i class="fas fa-external-link-alt"></i></a></p></blockquote><h1>æ¨èæ’ä»¶</h1><h2 id="ESLint-Restart-Service-Action">ESLint Restart Service Action</h2><blockquote><p>ä½¿ç”¨ ESLintè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚<br><img                       lazyload                     alt="image"                     data-src="https://blog-resources.oss-cn-hangzhou.aliyuncs.com/240606/Snipaste_2024-06-06_21-16-59.png"                      alt=""                ></p></blockquote><h2 id="GitToolBox">GitToolBox</h2><blockquote><p>æ˜¾ç¤ºæ›´è¯¦ç»†çš„gitä¿¡æ¯å¾ˆå¤š Git çš„åŠŸèƒ½å¢å¼ºï¼Œæ¯”å¦‚è‡ªåŠ¨ fetch ä»£ç ï¼ŒçŠ¶æ€æ ä¸­æ˜¾ç¤ºå½“å‰ Git åˆ†æ”¯çš„æœªæäº¤å’Œè½åæäº¤æ•°æ˜¾ç¤ºï¼Œè¿‡æ—¶åˆ†æ”¯æ¸…ç†ï¼Œcommit çª—å£æ”¯æŒ emoji è¡¨æƒ…ï¼ŒInline Blame å¯ä»¥çœ‹åˆ°æ¯è¡Œä»£ç æ˜¯è°æäº¤çš„ã€ä»€ä¹ˆæ—¶å€™æäº¤çš„ã€ä»¥åŠ commit ä¿¡æ¯ç­‰ç­‰ï¼Œå¦‚æœä½ ç»å¸¸ç”¨ Gitï¼Œè¿™ä¸ªæ’ä»¶å¿…è£…äº†ã€‚</p></blockquote><h2 id="HighlightBracketPair">HighlightBracketPair</h2><blockquote><p>é«˜äº®æ‹¬å·</p></blockquote><h2 id="Key-Promoter-X">Key Promoter X</h2><blockquote><p>å¿«æ·é”®æç¤º</p></blockquote><h2 id="IntelliVue">IntelliVue</h2><blockquote><p>Webstorm ä¸Šå¯¹ Vue æ”¯æŒå¾ˆæ£’çš„æ’ä»¶ï¼Œç°åœ¨å·²ç»æ”¯æŒ Vue3 çš„ä¸€äº›è¯­æ³•ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»º Vue2 çš„ dataã€methods ç­‰ï¼Œæˆ–è€… Vue3 çš„ setup method ç­‰ï¼Œå¸®ä½ å°‘äº›ä¸€äº›æ¨¡æ¿ä»£ç ã€‚</p></blockquote><h2 id="ignore">.ignore</h2><blockquote><p><code>.ignore</code>Â æ’ä»¶æ”¯æŒåˆ›å»ºå¤šç§Â <code>.ignore</code>Â æ–‡ä»¶æ¯”å¦‚Â <code>.gitignore</code>ã€<code>.eslintignore</code>ã€<code>.dockerignore</code>Â ç­‰ç­‰ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„åŸºæœ¬éƒ½æ”¯æŒï¼Œæ–°å»ºçš„æ—¶å€™æ”¯æŒé€‰æ‹©ä¸åŒç±»å‹çš„æ¡†æ¶æˆ–åº“å¸¸ç”¨çš„å¿½ç•¥é…ç½®ï¼Œå¦‚Â <code>node_modules</code>ã€<code>dist</code>ã€<code>.cache</code>Â ç­‰ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
WebStormå¸¸ç”¨è®¾ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.06 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="ç¯å¢ƒæ­å»º" scheme="https://kiml.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>Longé•¿åº¦å¤§äº17ä½æ—¶ï¼Œç²¾åº¦ä¸¢å¤±</title>
    <link href="https://kiml.github.io/2024/06/06/100000029/"/>
    <id>https://kiml.github.io/2024/06/06/100000029/</id>
    <published>2024-06-06T09:07:38.000Z</published>
    <updated>2024-06-06T09:16:17.861Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.06 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>é—®é¢˜</h1><p>å‰ç«¯JSåœ¨Longé•¿åº¦å¤§äº17ä½æ—¶ï¼Œå‡ºç°ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜</p><h1>è§£å†³</h1><p>åœ¨æ­¤å¤„æ·»åŠ æ³¨ è§£å°†è¿”å›ç»™å‰ç«¯çš„é—¨åº—IDè‡ªåŠ¨è½¬ä¸ºstringç±»å‹ã€‚</p><ol><li class="lvl-3"><p>ä½¿ç”¨jacksonæ¥å®Œæˆè‡ªåŠ¨è½¬æ¢ï¼Œæ·»åŠ ä¾èµ–</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>åœ¨å¯¹åº”çš„å®ä½“ç±»ä¸­æ·»åŠ æ³¨è§£</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@JsonSerialize(using= ToStringSerializer.class)</span> </span><br><span class="line"><span class="keyword">private</span> Long id;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.06 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="bugè®°å½•" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/"/>
    
    <category term="2024" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/2024/"/>
    
    
    <category term="Java" scheme="https://kiml.github.io/tags/Java/"/>
    
    <category term="BUG" scheme="https://kiml.github.io/tags/BUG/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åäº”å¤©-110å¹³è¡¡äºŒå‰æ ‘ ã€257äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ã€404å·¦å¶å­ä¹‹å’Œ</title>
    <link href="https://kiml.github.io/2024/06/06/100000028/"/>
    <id>https://kiml.github.io/2024/06/06/100000028/</id>
    <published>2024-06-06T01:07:13.000Z</published>
    <updated>2024-06-06T06:15:31.213Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š110ï¼Œ404ACï¼Œ257ä¸ä¼šã€‚è¿­ä»£æ³•æ²¡æœ‰å†™</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.06 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="110å¹³è¡¡äºŒå‰æ ‘">110å¹³è¡¡äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/balanced-binary-tree/" >https://leetcode.cn/problems/balanced-binary-tree/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LE110</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> getHeight(root) != -<span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getHeight</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">int</span> <span class="variable">leftHeight</span> <span class="operator">=</span> getHeight(root.left);  </span><br><span class="line">        <span class="keyword">if</span> (leftHeight == -<span class="number">1</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="type">int</span> <span class="variable">rightHeight</span> <span class="operator">=</span> getHeight(root.right);  </span><br><span class="line">        <span class="keyword">if</span> (rightHeight == -<span class="number">1</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (Math.abs(leftHeight - rightHeight) &gt; <span class="number">1</span>) &#123;  </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + Math.max(leftHeight, rightHeight);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="257äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„">257äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/binary-tree-paths/description/" >https://leetcode.cn/problems/binary-tree-paths/description/<i class="fas fa-external-link-alt"></i></a>)<br>(ä¸ä¼š)</p><h2 id="404å·¦å¶å­ä¹‹å’Œ">404å·¦å¶å­ä¹‹å’Œ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ¬æ¥æƒ³ç”¨intåšä¼ å‚çš„ã€‚ä½†æ˜¯intä¸èƒ½ä¼ å‚ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span> &amp;&amp; root.left.left == <span class="literal">null</span> &amp;&amp; root.left.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        sum += root.left.val;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> sum + sumOfLeftLeaves(root.left) + sumOfLeftLeaves(root.right);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="110å¹³è¡¡äºŒå‰æ ‘-2">110å¹³è¡¡äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0110.%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0110.å¹³è¡¡äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>åˆ†åˆ«æ±‚å‡ºå…¶å·¦å³å­æ ‘çš„é«˜åº¦ï¼Œç„¶åå¦‚æœå·®å€¼å°äºç­‰äº1ï¼Œåˆ™è¿”å›å½“å‰äºŒå‰æ ‘çš„é«˜åº¦ï¼Œå¦åˆ™è¿”å›-1ï¼Œè¡¨ç¤ºå·²ç»ä¸æ˜¯äºŒå‰å¹³è¡¡æ ‘äº†ã€‚</p><h2 id="257äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„-2">257äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0257.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%89%80%E6%9C%89%E8%B7%AF%E5%BE%84.html" >https://programmercarl.com/0257.äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„.html<i class="fas fa-external-link-alt"></i></a>)<br>ä¸»è¦æ˜¯è¿™ä¸ªå›æº¯æœ‰ç‚¹æ‡µï¼Œä¸çŸ¥é“æ€ä¹ˆå†™äº†ã€‚ä½†æ˜¯å†™å®Œä»£ç è·Ÿç€æ–­ç‚¹è·‘ä¸€éï¼Œå¯ä»¥çœ‹åˆ°ï¼šåœ¨æœ‰ä¸‹ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä¼šä¸€ç›´é€’å½’ï¼Œç›´åˆ°è¿›å…¥åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨è¿”å›çš„é€”ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰çš„è¿›å…¥æ“ä½œï¼Œå›é€€å›å»ï¼ˆå³å›é€€åˆ°äº¤å‰èŠ‚ç‚¹é‚£ä¸ªä½ç½®ï¼‰ã€‚å¯èƒ½è¡¨è¿°çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå†™å®Œä»£ç è·‘ä¸€éå°±æ¸…æ¥šäº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    List&lt;String&gt; pathString = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> pathString;  </span><br><span class="line">    &#125;  </span><br><span class="line">    List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    binaryTree(root, path, pathString);  </span><br><span class="line">    <span class="keyword">return</span> pathString;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">binaryTree</span><span class="params">(TreeNode root, List&lt;Integer&gt; path, List&lt;String&gt; pathString)</span> &#123; </span><br><span class="line">    path.add(root.val);  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span> &amp;&amp; (root.right == <span class="literal">null</span> &amp;&amp; root.left == <span class="literal">null</span>)) &#123;  </span><br><span class="line">        pathString.add(path.stream().map(Object::toString).collect(Collectors.joining(<span class="string">&quot;-&gt;&quot;</span>)));  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        binaryTree(root.left, path, pathString);  </span><br><span class="line">        path.remove(path.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        binaryTree(root.right, path, pathString);  </span><br><span class="line">        path.remove(path.size() - <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="404å·¦å¶å­ä¹‹å’Œ-2">404å·¦å¶å­ä¹‹å’Œ</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0404.%E5%B7%A6%E5%8F%B6%E5%AD%90%E4%B9%8B%E5%92%8C.html" >https://programmercarl.com/0404.å·¦å¶å­ä¹‹å’Œ.html<i class="fas fa-external-link-alt"></i></a>)</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š110ï¼Œ404ACï¼Œ257ä¸ä¼šã€‚è¿­ä»£æ³•æ²¡æœ‰å†™&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.06 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨mapstructè½¬æ¢å¯¹è±¡ï¼ŒæŠ¥é”™Cannot find implementation forâ€¦â€¦</title>
    <link href="https://kiml.github.io/2024/06/05/100000027/"/>
    <id>https://kiml.github.io/2024/06/05/100000027/</id>
    <published>2024-06-05T08:31:33.000Z</published>
    <updated>2024-06-05T08:39:12.205Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>å‚è€ƒæ–‡ç« ï¼š<a class="link"   href="https://blog.csdn.net/qq_41169544/article/details/127664756" >mapstruct æŠ¥é”™ java.lang.ClassNotFoundException: Cannot find implementation for<i class="fas fa-external-link-alt"></i></a></p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.05 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>é—®é¢˜</h1><p>ä½¿ç”¨mapstructè½¬æ¢å¯¹è±¡ï¼Œæ¥å£å¯ä»¥å¯åŠ¨ï¼Œä½†æ˜¯æ‰§è¡ŒæŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.ClassNotFoundException: Cannot find implementation for com.â€¦â€¦.convert.AuthorizationPrivilegeConvert</span><br></pre></td></tr></table></figure><h1>åŸå› </h1><p>æ³¨è§£æ²¡æœ‰å¼•ç”¨å…¨ã€‚</p><h1>è§£å†³</h1><p>æ·»åŠ ä¾èµ–ï¼Œé‡å¯æœåŠ¡ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-jdk8<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>â€¦â€¦<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>â€¦â€¦<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
å‚è€ƒæ–‡ç« ï¼š&lt;a class=&quot;link&quot;   href=&quot;https://blog.csdn.net/qq_41169544/article/details/127664756&quot; &gt;mapstruct æŠ¥é”™ java.lang.ClassNotFoundException: Cannot find implementation for&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.05 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="bugè®°å½•" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/"/>
    
    <category term="2024" scheme="https://kiml.github.io/categories/bug%E8%AE%B0%E5%BD%95/2024/"/>
    
    
    <category term="Java" scheme="https://kiml.github.io/tags/Java/"/>
    
    <category term="BUG" scheme="https://kiml.github.io/tags/BUG/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åå››å¤©-104äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ã€111äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ã€222å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</title>
    <link href="https://kiml.github.io/2024/06/05/100000026/"/>
    <id>https://kiml.github.io/2024/06/05/100000026/</id>
    <published>2024-06-05T01:07:38.000Z</published>
    <updated>2024-06-05T03:13:00.619Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š104ã€111å¯ä»¥ACï¼Œ222æ²¡æœ‰æ€è·¯</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.04 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="104äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦">104äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/" >https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ€è·¯ï¼šé€’å½’è®¡ç®—å·¦å³å­æ ‘çš„æ·±åº¦ã€‚å–è¾ƒå¤§å€¼  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">leftLength</span> <span class="operator">=</span> maxDepth(root.left);  </span><br><span class="line">    <span class="type">int</span> <span class="variable">rightLength</span> <span class="operator">=</span> maxDepth(root.right);  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + Math.max(leftLength, rightLength);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="111äºŒå‰æ ‘çš„æœ€å°æ·±åº¦">111äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/minimum-depth-of-binary-tree/description/" >https://leetcode.cn/problems/minimum-depth-of-binary-tree/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ€è·¯ï¼š  </span></span><br><span class="line"><span class="comment"> * é€’å½’ç»ˆæ­¢æ¡ä»¶  </span></span><br><span class="line"><span class="comment"> * 1.æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›0  </span></span><br><span class="line"><span class="comment"> * 2.æ ¹èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œè¿”å›å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€å°æ·±åº¦  </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minDepth</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.right == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + minDepth(root.left);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + minDepth(root.right);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + Math.min(minDepth(root.right), minDepth(root.left));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="222å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°">222å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</h2><p>é¢˜ç›®é“¾æ¥:(<a class="link"   href="https://leetcode.cn/problems/count-complete-tree-nodes/description/" >https://leetcode.cn/problems/count-complete-tree-nodes/description/<i class="fas fa-external-link-alt"></i></a>)<br>æ²¡æœ‰ACï¼Œæ€è·¯åªæœ‰ä¸€åŠã€‚æ ¹æ®é¢˜è§£ï¼šé€’å½’åˆ°æŸä¸€æ·±åº¦ä¸€å®šä¼šæœ‰å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºæ»¡äºŒå‰æ ‘ï¼Œç„¶åæŒ‰æ»¡äºŒå‰æ ‘çš„æƒ…å†µæ¥ç®—ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯è§£æ³•ï¼Œæ­£ç¡®è§£æ³•åœ¨çœ‹è§£æéƒ¨åˆ†ã€‚</span></span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ€è·¯ï¼šæ—¢ç„¶æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚æ·±åº¦å¯ä»¥å¾ˆç®€å•çš„æ±‚å‡ºæ¥  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNodes</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> getDepth(root);  </span><br><span class="line">    <span class="comment">// n - 1 å±‚çš„èŠ‚ç‚¹æ•°é‡  </span></span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> (depth - <span class="number">1</span>) ^ <span class="number">2</span> - <span class="number">1</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ±‚å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getDepth</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">null</span>) &#123;  </span><br><span class="line">        depth++;  </span><br><span class="line">        root = root.left;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> depth;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="104äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦-2">104äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0104.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6.html" >https://programmercarl.com/0104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦.html<i class="fas fa-external-link-alt"></i></a>)<br>æœ¬é¢˜å¯ä»¥ä½¿ç”¨å‰åºï¼ˆä¸­å·¦å³ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ååºéå†ï¼ˆå·¦å³ä¸­ï¼‰ï¼Œä½¿ç”¨å‰åºæ±‚çš„å°±æ˜¯æ·±åº¦ï¼Œä½¿ç”¨ååºæ±‚çš„æ˜¯é«˜åº¦ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>äºŒå‰æ ‘èŠ‚ç‚¹çš„æ·±åº¦ï¼šæŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„æœ€é•¿ç®€å•è·¯å¾„è¾¹çš„æ¡æ•°æˆ–è€…èŠ‚ç‚¹æ•°ï¼ˆå–å†³äºæ·±åº¦ä»0å¼€å§‹è¿˜æ˜¯ä»1å¼€å§‹ï¼‰</p></li><li class="lvl-2"><p>äºŒå‰æ ‘èŠ‚ç‚¹çš„é«˜åº¦ï¼šæŒ‡ä»è¯¥èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿ç®€å•è·¯å¾„è¾¹çš„æ¡æ•°æˆ–è€…èŠ‚ç‚¹æ•°ï¼ˆå–å†³äºé«˜åº¦ä»0å¼€å§‹è¿˜æ˜¯ä»1å¼€å§‹ï¼‰<br><strong>æ ¹èŠ‚ç‚¹çš„é«˜åº¦å°±æ˜¯äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</strong>ã€‚</p></li></ul><h3 id="559-N-å‰æ ‘çš„æœ€å¤§æ·±åº¦">559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦</h3><p>é¢˜ç›®é“¾æ¥(<a class="link"   href="https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/" >https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(Node root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">for</span> (Node child : root.children) &#123;  </span><br><span class="line">        max = Math.max(maxDepth(child), max);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + max;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="111äºŒå‰æ ‘çš„æœ€å°æ·±åº¦-2">111äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0111.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%B0%8F%E6%B7%B1%E5%BA%A6.html" >https://programmercarl.com/0111.äºŒå‰æ ‘çš„æœ€å°æ·±åº¦.html<i class="fas fa-external-link-alt"></i></a>)<br><strong>æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚</strong> æ³¨æ„æ˜¯<strong>å¶å­èŠ‚ç‚¹</strong>ã€‚ï¼ˆå·¦å³å­©å­éƒ½ä¸ºç©ºçš„èŠ‚ç‚¹æ‰æ˜¯å¶å­èŠ‚ç‚¹ï¼‰</p><h2 id="222å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°-2">222å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0222.%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E8%8A%82%E7%82%B9%E4%B8%AA%E6%95%B0.html" >https://programmercarl.com/0222.å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°.html<i class="fas fa-external-link-alt"></i></a>)<br>é€’å½’åˆ°æŸä¸€æ·±åº¦ä¸€å®šä¼šæœ‰å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºæ»¡äºŒå‰æ ‘ï¼Œç„¶åæŒ‰æ»¡äºŒå‰æ ‘çš„æƒ…å†µæ¥ç®—ã€‚<strong>æ‰€ä»¥éœ€è¦åˆ¤æ–­æ˜¯å¦æ˜¯æ»¡äºŒå‰æ ‘</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * å®Œå…¨äºŒå‰æ ‘æ±‚èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNodes</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> root.left;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> root.right;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">leftLength</span> <span class="operator">=</span> <span class="number">0</span>, rightLength = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">while</span> (left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        left = left.left;  </span><br><span class="line">        leftLength++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">while</span> (right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        right = right.right;  </span><br><span class="line">        rightLength++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (leftLength == rightLength) &#123;  </span><br><span class="line">        <span class="keyword">return</span> (<span class="number">2</span> &lt;&lt; leftLength) - <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> countNodes(root.left) + countNodes(root.right) + <span class="number">1</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š104ã€111å¯ä»¥ACï¼Œ222æ²¡æœ‰æ€è·¯&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.04 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•-å¹¶å‘</title>
    <link href="https://kiml.github.io/2024/06/03/100000024/"/>
    <id>https://kiml.github.io/2024/06/03/100000024/</id>
    <published>2024-06-03T13:42:40.000Z</published>
    <updated>2024-06-07T14:27:16.098Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.03 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>é«˜å¹¶å‘ï¼ˆé”ï¼‰</h1><h2 id="â—Javaå†…å­˜æ¨¡å‹çš„ç†è§£">â—Javaå†…å­˜æ¨¡å‹çš„ç†è§£</h2><p>å¤§ç™½è¯ï¼šJavaçš„å¯¹è±¡éƒ½æ˜¯å¤„äºä¸»å†…å­˜ä¹‹ä¸­ï¼Œè€Œçº¿ç¨‹æ‹¥æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆCPUçº§åˆ«çš„ç¼“å­˜ï¼‰ã€‚æ“ä½œè¿‡ç¨‹ï¼Œ1) çº¿ç¨‹æŠŠä¸»å†…å­˜ä¸­çš„æ•°æ®è¯»å‡ºreadï¼Œ2) çº¿ç¨‹æŠŠå€¼åŠ è½½åˆ°å·¥ä½œå†…å­˜ä¸­loadï¼Œ3) çº¿ç¨‹ä½¿ç”¨è¿™ä¸ªå€¼useï¼Œ4) çº¿ç¨‹æŠŠç®—å¥½çš„å€¼è®¾ç½®åˆ°å·¥ä½œå†…å­˜assignï¼Œ5) æŠŠå€¼å­˜å…¥storeï¼Œ6) å†™å…¥ä¸»å†…å­˜writeã€‚å¦‚æœæœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¼šåŒæ—¶æ“ä½œï¼Œå³å¹¶å‘ï¼ˆæ“ä½œç»“æœå¯èƒ½åªæœ‰ä¸€æ¬¡çš„ç»“æœï¼‰ã€‚</p><h3 id="â—Javaå†…å­˜æ¨¡å‹ä¸­çš„åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§">â—Javaå†…å­˜æ¨¡å‹ä¸­çš„åŸå­æ€§ã€æœ‰åºæ€§ã€å¯è§æ€§</h3><p>å¯è§æ€§ï¼šä¸€ä¸ªçº¿ç¨‹æ“ä½œå®Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¿…é¡»è¯»å–æ“ä½œåçš„æ•°æ®ã€‚åŸå­æ€§ï¼šåŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ“ä½œã€‚ï¼ˆä¸åŠ æ“ä½œé»˜è®¤æƒ…å†µä¸‹å°±æ˜¯æ²¡æœ‰åŸå­æ€§çš„ï¼‰æœ‰åºæ€§ï¼šç¼–è¯‘ä¹‹åï¼Œå¯èƒ½ä¼šæŒ‡ä»¤é‡æ’ã€‚å¦‚æœå…·å¤‡æœ‰åºæ€§ï¼Œå°±ä¸ä¼šå‘ç”ŸæŒ‡ä»¤é‡æ’ã€‚</p><h3 id="â—ä»Javaåº•å±‚è§’åº¦èŠèŠvolatileå…³é”®å­—çš„åŸç†">â—ä»Javaåº•å±‚è§’åº¦èŠèŠvolatileå…³é”®å­—çš„åŸç†</h3><blockquote><p>volatileå…³é”®å­—ä¸å¯è§æ€§çš„å…³ç³»</p></blockquote><p>volatileå…³é”®å­—æ˜¯ç”¨æ¥è§£å†³å¯è§æ€§å’Œæœ‰åºæ€§ã€‚ç»™æ•°æ®åŠ ä¸Švolatileå…³é”®å­—ï¼Œåœ¨çº¿ç¨‹æ›´æ–°æ•°æ®æ—¶ï¼Œä¼šæŠŠå…¶ä»–çº¿ç¨‹å†…ç¼“å­˜çš„æ•°æ®å€¼å¤±æ•ˆï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹ä¼šå¼ºåˆ¶é‡æ–°ä»ä¸»å†…å­˜åŠ è½½æ•°æ®å€¼ï¼ˆå˜æˆæ–°çš„ç¼“å­˜ï¼‰ã€‚</p><p>åœ¨å¾ˆå¤šå¼€æºä¸­é—´ä»¶ç³»ç»Ÿä¸­ï¼Œå¤§é‡ä½¿ç”¨volatileã€‚ä¾‹å­ï¼šåœ¨mainæ–¹æ³•ä¸­ï¼Œä¼šæœ‰ä¸€æ®µé€»è¾‘ï¼Œå¦‚æœä¸»çº¿ç¨‹åœ¨æ‰§è¡Œï¼Œä¸å¯ä»¥åå°é€€å‡ºï¼ˆè¿™é‡Œçš„æ‰§è¡ŒçŠ¶æ€ç”¨ä¸€ä¸ªå€¼è¡¨ç¤ºï¼Œæ ¹æ®å€¼åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦åœ¨è¿è¡Œï¼‰ã€‚å¦‚æœæä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œéœ€è¦å…³é—­ä¸»çº¿ç¨‹ï¼Œå¦‚æœä¸åŠ volatileå…³é”®å­—ï¼Œå…¶ä»–çº¿ç¨‹æ›´æ–°çŠ¶æ€ï¼Œä¸»çº¿ç¨‹æ²¡æœ‰åŒæ­¥ï¼Œå°±ä¼šå‡ºé—®é¢˜ã€‚ï¼ˆ<strong>è¿™ä¸ªç±»ä¼¼çš„ç”¨æ³•ä¼šåœ¨å¤šå¤„ä½¿ç”¨</strong>ï¼‰</p><h3 id="â—æŒ‡ä»¤é‡æ’ä»¥åŠhappens-beforeåŸåˆ™">â—æŒ‡ä»¤é‡æ’ä»¥åŠhappens-beforeåŸåˆ™</h3><blockquote><p>volatileå…³é”®å­—ä¸æœ‰åºæ€§çš„å…³ç³»ã€è¿å¸¦é—®é¢˜</p></blockquote><p>â”<strong>happens-beforeåŸåˆ™</strong>ï¼š</p><ol><li class="lvl-3"><p>ç¨‹åºæ¬¡åºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹å†…ï¼Œä»£ç æŒ‰å†™çš„é¡ºåºæ‰§è¡Œ</p></li><li class="lvl-3"><p>é”å®šè§„åˆ™ï¼šä¸€ä¸ªunLockæ“ä½œå…ˆè¡Œä¸åä¸€ä¸ªLockçš„æ“ä½œï¼ˆå…ˆè§£é”ï¼ŒååŠ é”ï¼‰</p></li><li class="lvl-3"><p>volatileå˜é‡è§„åˆ™ï¼šåŠ äº†volatileå…³é”®å­—ï¼Œå†™æ“ä½œå…ˆï¼Œè¯»æ“ä½œå</p></li><li class="lvl-3"><p>ä¼ é€’è§„åˆ™ï¼šå¦‚æœAå…ˆäºBï¼ŒBå…ˆäºCï¼Œé‚£ä¹ˆAä¸€å®šå…ˆäºC</p></li><li class="lvl-3"><p>çº¿ç¨‹å¯åŠ¨è§„åˆ™ï¼šçº¿ç¨‹çš„å¯åŠ¨<code>start()</code>æ–¹æ³•å…ˆäºæ­¤çº¿ç¨‹çš„æ¯ä¸ªæ“ä½œ</p></li><li class="lvl-3"><p>çº¿ç¨‹ä¸­æ–­è§„åˆ™ï¼šå¯¹çº¿ç¨‹çš„<code>interrupt()</code>è°ƒç”¨ï¼Œå…ˆäºæ£€æµ‹åˆ°ç»ˆç«¯çš„å‘ç”Ÿ</p></li><li class="lvl-3"><p>çº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹çš„æ‰€æœ‰æ“ä½œéƒ½å…ˆäºçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹æ“ä½œ</p></li><li class="lvl-3"><p>å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šå¯¹è±¡çš„åˆå§‹åŒ–åœ¨<code>finalize()</code>ä¹‹å‰</p></li></ol><p>è¿™ä¸ªè§„åˆ™åˆ¶å®šäº†åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸å…è®¸æŒ‡ä»¤é‡æ’ã€‚è€Œå› ä¸ºè¿™ä¸ªè§„åˆ™ï¼Œvolatileå…³é”®å­—æœ‰ä¸€å®šçš„é˜²æ­¢æŒ‡ä»¤é‡æ’çš„æ•ˆæœï¼ˆåªèƒ½å…ˆå†™åè¯»ï¼‰ã€‚</p><p>åŒæ—¶ï¼Œvolatileå…³é”®å­—æœ¬èº«ï¼Œå°±æœ‰å…¶ä»–é¿å…æŒ‡ä»¤é‡æ’çš„è§„åˆ™ï¼ˆå°±æ˜¯åº•å±‚ã€‚ã€‚ã€‚æœ€å¥½ä¸è¦é—®è¿™ä¸ªï¼Œè°è®°å¾—ä½å•Šï¼‰ã€‚</p><h3 id="â—volatileåº•å±‚æ˜¯å¦‚ä½•åŸºäºå†…å­˜å±éšœä¿è¯å¯è§æ€§å’Œæœ‰åºæ€§çš„">â—volatileåº•å±‚æ˜¯å¦‚ä½•åŸºäºå†…å­˜å±éšœä¿è¯å¯è§æ€§å’Œæœ‰åºæ€§çš„</h3><p>volatileä¸èƒ½ä¿è¯åŸå­æ€§ã€‚ï¼ˆæç«¯ï¼šï¼‰</p><blockquote><p>å¯¹äºvolatileä¿®æ”¹å˜é‡çš„è¯»å†™æ“ä½œï¼Œéƒ½ä¼šåŠ å…¥å†…å­˜å±éšœã€‚æ¯ä¸ªvolatileå†™æ“ä½œå‰é¢ï¼ŒåŠ StoreStoreå±éšœï¼Œç¦æ­¢ä¸Šé¢çš„æ™®é€šå†™å’Œä»–é‡æ’ï¼›æ¯ä¸ªvolatileå†™æ“ä½œåé¢ï¼ŒåŠ StoreLoadå±éšœï¼Œç¦æ­¢è·Ÿä¸‹é¢çš„volatileè¯»/å†™é‡æ’ã€‚æ¯ä¸ªvolatileè¯»æ“ä½œåé¢ï¼ŒåŠ LoadLoadå±éšœï¼Œç¦æ­¢ä¸‹é¢çš„æ™®é€šè¯»å’Œvoaltileè¯»é‡æ’ï¼›æ¯ä¸ªvolatileè¯»æ“ä½œåé¢ï¼ŒåŠ LoadStoreå±éšœï¼Œç¦æ­¢ä¸‹é¢çš„æ™®é€šå†™å’Œvolatileè¯»é‡æ’ã€‚</p></blockquote><h2 id="â—è¯´è¯´synchronizedå…³é”®å­—çš„åº•å±‚åŸç†">â—è¯´è¯´synchronizedå…³é”®å­—çš„åº•å±‚åŸç†</h2><p><strong>å› ä¸ºsynchronizedå¯ä»¥åŒæ—¶ä¿è¯åŸå­æ€§ã€å¯è§æ€§å’Œæœ‰åºæ€§ï¼Œæ‰€ä»¥åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ç»å¸¸ä¼šç”¨åˆ°ä»–ï¼Œsynchronizedä¸»è¦æœ‰ä¸‰ç§ç”¨æ³•</strong>ï¼šä¿®é¥°å®ä¾‹æ–¹æ³•ã€ä¿®é¥°é™æ€æ–¹æ³•ã€ä¿®é¥°ä»£ç å—ã€‚</p><p>synchronized ä¿®é¥°ä»£ç å—æ—¶ï¼ŒJVM é‡‡ç”¨monitorenter ã€monitorexit ä¸¤ä¸ªæŒ‡ä»¤æ¥å®ç°åŒæ­¥ï¼Œmonitorenter æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œ monitorexit æŒ‡ä»¤åˆ™æŒ‡å‘åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ã€‚</p><p>synchronized ä¿®é¥°åŒæ­¥æ–¹æ³•æ—¶ï¼ŒJVM é‡‡ç”¨ACC_SYNCHRONIZED æ ‡è®°ç¬¦æ¥å®ç°åŒæ­¥ï¼Œè¿™ä¸ªæ ‡äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚</p><p>â—å¤§ç™½è¯ï¼ˆä¿®é¥°ä»£ç å—ï¼‰ï¼šæ¯ä¸ªå¯¹è±¡å®ä¾‹éƒ½ä¼šå…³è”ä¸€ä¸ªmonitorï¼Œä¸€ä¸ªç±»çš„classå¯¹è±¡ä¹Ÿä¼šå…³è”ä¸€ä¸ªmonitorã€‚ä¸€ä¸ªçº¿ç¨‹è¿‡æ¥ï¼ŒæŠŠmonitorç½®1ï¼ˆå¯ä»¥é‡å¤åŠ é”ï¼ŒäºŒæ¬¡åŠ monitorå˜æˆ2ã€3â€¦ï¼‰ã€‚å½“çº¿ç¨‹èµ°å‡ºsynchronizedï¼Œæ‰§è¡Œmonitorexitï¼Œåº•å±‚è·å–å¯¹åº”çš„monitorè¿›è¡Œé‡Šæ”¾ã€‚çº¿ç¨‹2åŠ é”å¤±è´¥ï¼Œé™·å…¥ä¸€ä¸ªé˜»å¡ç­‰å¾…çš„çŠ¶æ€ã€‚</p><h2 id="â—å¯¹CASçš„ç†è§£åŠå…¶åº•å±‚å®ç°åŸç†">â—å¯¹CASçš„ç†è§£åŠå…¶åº•å±‚å®ç°åŸç†</h2><p>CAS å«åšæ¯”è¾ƒå¹¶äº¤æ¢ï¼ŒCAS æŒ‡ä»¤åŒ…å« 3 ä¸ªå‚æ•°ï¼šæ–°å€¼ï¼Œæ—§å€¼ï¼Œå†…å­˜å€¼ï¼ˆå†…å­˜ä½ç½®ï¼‰ï¼Œçº¿ç¨‹ä¼šå…ˆè·å–å†…å­˜å€¼ï¼Œç„¶åå¤åˆ¶åˆ°å˜é‡å‰¯æœ¬ï¼Œç”Ÿæˆæ—§å€¼ï¼Œæ—§å€¼åœ¨ä¸€ç³»åˆ—æ“ä½œåç”Ÿæˆæ–°å€¼ã€‚</p><p>è‹¥æ—§å€¼=å†…å­˜å€¼ï¼Œè¯´æ˜æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹æŠ¢å…ˆå æœ‰ï¼Œåˆ™ä¿®æ”¹å†…å­˜å€¼ä¸ºæ–°å€¼ï¼›</p><p>è‹¥æ—§å€¼â‰ å†…å­˜å€¼ï¼Œè¯´æ˜å†…å­˜å€¼å·²ç»è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼Œåˆ™è‡ªæ—‹è·å–æ–°çš„å†…å­˜å€¼ï¼Œç„¶åé‡æ–°æ“ä½œã€‚</p><p>å¤§ç™½è¯ï¼šæ¯”å¦‚è¯´ä½¿ç”¨synchronizedå¯¹äºä»£ç å—è¿›è¡ŒåŠ é”ï¼Œè¿™ä¸ªæ—¶å€™å¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ˜¯ä¸²è¡Œçš„ã€‚æ¯”å¦‚ä¸€ä¸ªç´¯åŠ çš„è®¡æ•°å™¨ï¼Œä¼˜åŒ–å¯ä»¥æŠŠintç±»å‹çš„ç´¯åŠ å­—æ®µæ”¹æˆAtomicIntegerç±»å‹ï¼ˆ<strong>åŸå­ç±»</strong>ï¼‰ï¼Œæ–¹æ³•æ”¹ä¸ºincrementAndGetï¼Œæ­¤æ—¶ä¸ç”¨synchronizedä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™ä¸ªåŸå­ç±»åº•å±‚å°±æ˜¯CASï¼ˆCompare and Setï¼‰ã€‚åœ¨çº¿ç¨‹æ‰§è¡ŒincrementAndGetæ—¶ï¼Œä¼šå…ˆè¯»å–ï¼Œå†å°è¯•è®¾ç½®ï¼šå½“ä¸€ä¸ªçº¿ç¨‹æˆåŠŸæ‰§è¡ŒCASæ“ä½œï¼ˆå°±æ˜¯å¯¹æ¯”æ—§å€¼æ˜¯å¦æ˜¯åŸæ¥çš„å€¼ï¼‰ï¼Œå¦ä¸€ä¸ªå°±ä¼šå¤±è´¥ï¼Œå¤±è´¥å°±ä¼šé‡æ–°è¯»å–ï¼Œå†æ¬¡è®¾ç½®ã€‚</p><h3 id="â—CASä¼šå‡ºç°ç»å…¸çš„ABAé—®é¢˜">â—CASä¼šå‡ºç°ç»å…¸çš„ABAé—®é¢˜</h3><p>åŸå› ï¼šç¬¬ä¸€ä¸ªçº¿ç¨‹åˆšè·å¾—Aï¼Œç¬¬äºŒä¸ªçº¿ç¨‹å°±æŠ¢èµ°ä¹Ÿè·å¾—Aï¼Œç„¶åæ”¹æˆBååˆæ”¹æˆAï¼Œè¿™æ—¶å€™ç¬¬ä¸€ä¸ªçº¿ç¨‹å‘ç°å˜é‡æ˜¯Aï¼Œå°±ç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°æ½œè—çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¿®æ”¹çš„æ˜¯é‡‘é¢ï¼Œå­˜ä¸€ç¬”å’Œå­˜ä¸¤ç¬”æ˜¯ä¸¤ä¸ªæ¦‚å¿µã€‚</p><p>è§£å†³ï¼šåŠ å…¥ç‰ˆæœ¬å·è§£å†³ã€‚</p><h2 id="â—ConcurrentHashMapå®ç°çº¿ç¨‹å®‰å…¨çš„åº•å±‚åŸç†">â—ConcurrentHashMapå®ç°çº¿ç¨‹å®‰å…¨çš„åº•å±‚åŸç†</h2><p>JDK1.8ä»¥å‰ï¼Œå¤šä¸ªæ•°ç»„ï¼Œåˆ†æ®µåŠ é”ï¼Œä¸€ä¸ªæ•°ç»„ä¸€ä¸ªé”ã€‚ä»–å°†ä¸€ä¸ªå¤§çš„ ConcurrentHashMapåˆ†æˆ16ä¸ªå°çš„ Segmentã€‚ä¹Ÿå°±æ˜¯è¯´å¯ä»¥åŒæ—¶æ‰¿å—16ä¸ªçº¿ç¨‹çš„å¹¶å‘ã€‚<br>JDK1.8ä»¥åï¼Œæ•°ç»„é‡Œæ¯ä¸ªå…ƒç´ è¿›è¡Œputæ“ä½œï¼Œéƒ½æ˜¯æœ‰ä¸€ä¸ªä¸åŒçš„é”ï¼Œå¯¹å½“ä¸ªä½ç½®è¿›è¡Œputæ“ä½œæ—¶ï¼Œé‡‡å–çš„æ˜¯CASçš„ç­–ç•¥ã€‚å¦‚æœCASæ“ä½œå¤±è´¥ï¼Œå°±ä½¿ç”¨synchronizedå¯¹è¿™ä¸ªä½ç½®çš„å¯¹è±¡è¿›è¡Œé”å®šï¼Œç„¶ååŸºäºé“¾è¡¨æˆ–çº¢é»‘æ ‘ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå†™å…¥ã€‚</p><h2 id="â—å¯¹JDKä¸­çš„AQSçš„ç†è§£ï¼ŒAQSçš„å®ç°åŸç†">â—å¯¹JDKä¸­çš„AQSçš„ç†è§£ï¼ŒAQSçš„å®ç°åŸç†</h2><p>å¤šçº¿ç¨‹è®¿é—®æ•°æ®é™¤äº†synchronizedï¼ŒCASï¼ŒConcurrentHashMapï¼Œè¿˜æœ‰Lockã€‚ReentrantLockçš„åº•å±‚å°±æ˜¯AQSï¼ˆAbstract Queue Synchronizerï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(); <span class="comment">// é»˜è®¤ä½¿ç”¨éå…¬å¹³é”</span></span><br><span class="line"><span class="comment">// ä¼ å…¥å‚æ•°trueï¼Œå°±ä½¿ç”¨å…¬å¹³é”</span></span><br><span class="line"><span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(<span class="literal">true</span>);</span><br><span class="line">lock.lock();</span><br><span class="line"></span><br><span class="line">look.unlock();</span><br></pre></td></tr></table></figure><p>å¤§ç™½è¯ï¼šAQSåº•å±‚æœ‰ä¸ªstateï¼Œå¤šä¸ªçº¿ç¨‹æ‰§è¡ŒCASæ›´æ–°stateï¼›è¿˜æœ‰ä¸€ä¸ªå˜é‡è®°å½•åŠ é”çº¿ç¨‹ã€‚AQSä¸­ä¼šæœ‰ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—çš„æ¦‚å¿µã€‚å½“å‰ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾äº†é”ï¼Œä¼šå»å”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸­çš„é˜Ÿé¦–å…ƒç´ ã€‚</p><p>éå…¬å¹³é”ï¼šåœ¨å”¤é†’ç­‰å¾…é˜Ÿåˆ—çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰å¦ä¸€ä¸ªçº¿ç¨‹æŠ¢å é”ï¼Œæ˜¯å¯ä»¥æˆåŠŸçš„ã€‚å…¬å¹³é”ï¼šåœ¨å”¤é†’ç­‰å¾…é˜Ÿåˆ—çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœéœ€è¦æŠ¢å é”ï¼Œéœ€è¦åŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—å†…ï¼Œè¿›è¡Œç­‰å¾…ã€‚</p><h3 id="ReentrantLockä¸Synchronizedçš„åŒºåˆ«ã€‚">ReentrantLockä¸Synchronizedçš„åŒºåˆ«ã€‚</h3><ul class="lvl-0"><li class="lvl-2"><p>äºŒè€…çš„æœ¬è´¨åŒºåˆ«ï¼šsynchronized æ˜¯å…³é”®å­—ï¼ŒReentrantLock æ˜¯ä¸€ä¸ªç±» ç›¸åŒç‚¹ï¼šè¿™ä¸¤ä¸ªéƒ½æ˜¯å¯é‡å…¥é”ã€‚</p></li><li class="lvl-2"><p>ReentrantLock å¿…é¡»æ‰‹åŠ¨è·å–ä¸é‡Šæ”¾é”ï¼Œè€Œ synchronized ä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å’Œå¼€å¯é”</p></li><li class="lvl-2"><p>ReentrantLock åªé€‚ç”¨äºä»£ç å—é”ï¼Œè€Œ synchronized å¯ä»¥ä¿®é¥°ç±»ã€æ–¹æ³•ã€å˜é‡ç­‰ã€‚</p></li></ul><h1>å¤šçº¿ç¨‹</h1><h2 id="â—åˆ›å»ºçº¿ç¨‹çš„4ç§æ–¹æ³•">â—åˆ›å»ºçº¿ç¨‹çš„4ç§æ–¹æ³•</h2><ol><li class="lvl-3"><p>ç»§æ‰¿ Thread ç±»é€šè¿‡ç»§æ‰¿ Thread ç±»ï¼Œå¹¶é‡å†™å®ƒçš„ run æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªç±»æ¥ç»§æ‰¿ Thread ç±»ï¼Œé‡å†™ run æ–¹æ³•ã€‚</p></li><li class="lvl-2"><p>ç„¶ååˆ›å»ºè¿™ä¸ªå­ç±»å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ start æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">5</span>;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * é‡å†™çˆ¶ç±»ä¸­çš„run()ï¼Œ æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;  </span><br><span class="line">        count--;  </span><br><span class="line">        System.out.println(count);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        <span class="comment">//1. åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„å®ä¾‹ï¼Œ è¯¥å¯¹è±¡å¿…é¡»ç»§æ‰¿Threadç±»åŠé‡å†™äº†run()  </span></span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">my</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">//2. åˆ›å»ºå¤šä¸ªçº¿ç¨‹çš„å®ä¾‹ï¼Œ è¿›å…¥çº¿ç¨‹çš„åˆå§‹åŒ–çŠ¶æ€  </span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(my);  </span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(my);  </span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(my);  </span><br><span class="line">  </span><br><span class="line">      <span class="comment">/*3. å¯åŠ¨çº¿ç¨‹ï¼Œ çº¿ç¨‹åªæœ‰æ‰§è¡Œstart()ä¹‹åæ‰ç®—æ˜¯çœŸæ­£çš„å¯åŠ¨, æ‰ä¼šæ‰§è¡Œrun()æ–¹æ³•é‡Œé¢çš„å…·ä½“é€»è¾‘  </span></span><br><span class="line"><span class="comment">         çº¿ç¨‹å¯åŠ¨åä¼šè¿›å…¥çº¿ç¨‹çš„å°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…CPUçš„è°ƒç”¨*/</span>  </span><br><span class="line">        t1.start();  </span><br><span class="line">        t2.start();  </span><br><span class="line">        t3.start();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>å®ç° Runnable æ¥å£é€šè¿‡å®ç° Runnable ï¼Œå¹¶å®ç° run æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªç±»å®ç° Runnable æ¥å£ï¼Œå¹¶å®ç° run æ–¹æ³•ã€‚</p></li><li class="lvl-2"><p>ç„¶ååˆ›å»º Runnable å®ç°ç±»å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒä½œä¸º target ä¼ å…¥ Thread çš„æ„é€ å‡½æ•°ä¸­</p></li><li class="lvl-2"><p>æœ€åè°ƒç”¨ start æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RunnableThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;thread run ......&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">RunnableThread</span>()).run();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li class="lvl-3"><p>å®ç° Callable æ¥å£ï¼Œå¹¶ç»“åˆ Future å®ç°</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ª Callable çš„å®ç°ç±»ï¼Œå¹¶å®ç° call æ–¹æ³•ã€‚call æ–¹æ³•æ˜¯å¸¦è¿”å›å€¼çš„ã€‚</p></li><li class="lvl-2"><p>ç„¶åé€šè¿‡ FutureTask çš„æ„é€ æ–¹æ³•ï¼ŒæŠŠè¿™ä¸ª Callable å®ç°ç±»ä¼ è¿›å»ã€‚</p></li><li class="lvl-2"><p>æŠŠ FutureTask ä½œä¸º Thread ç±»çš„ target ï¼Œåˆ›å»º Thread çº¿ç¨‹å¯¹è±¡ã€‚</p></li><li class="lvl-2"><p>é€šè¿‡ FutureTask çš„ get æ–¹æ³•è·å–çº¿ç¨‹çš„æ‰§è¡Œç»“æœã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFuture</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123; </span><br><span class="line">        <span class="type">FutureTask</span> <span class="variable">futureTask</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">CallableThread</span>());  </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(futureTask).start();  </span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> futureTask.get();  </span><br><span class="line">        System.out.println(o);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CallableThread</span> <span class="keyword">implements</span> <span class="title class_">Callable</span> &#123;  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;callä¸€ä¸‹&quot;</span>);  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li class="lvl-3"><p>é€šè¿‡çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ­¤å¤„ç”¨ JDK è‡ªå¸¦çš„ Executors æ¥åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ã€‚</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>é¦–å…ˆï¼Œå®šä¸€ä¸ª Runnable çš„å®ç°ç±»ï¼Œé‡å†™ run æ–¹æ³•ã€‚</p></li><li class="lvl-2"><p>ç„¶ååˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ã€‚</p></li><li class="lvl-2"><p>æœ€åé€šè¿‡ ExecutorService å¯¹è±¡çš„ execute æ–¹æ³•ä¼ å…¥çº¿ç¨‹å¯¹è±¡ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExecutorThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;runä¸€ä¸‹&quot;</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);  </span><br><span class="line">        executorService.execute(<span class="keyword">new</span> <span class="title class_">ExecutorThread</span>());  </span><br><span class="line">        executorService.shutdown();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çº¿ç¨‹æ± </h1><h2 id="â—è¯´è¯´çº¿ç¨‹æ± çš„åº•å±‚å·¥ä½œåŸç†">â—è¯´è¯´çº¿ç¨‹æ± çš„åº•å±‚å·¥ä½œåŸç†</h2><p>é¿å…é¢‘ç¹çš„åˆ›å»ºçº¿ç¨‹ï¼Œé”€æ¯çº¿ç¨‹â€¦â€¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>) <span class="comment">// corePoolSize</span></span><br></pre></td></tr></table></figure><p>å¦‚æœçº¿ç¨‹æ± å†…æ•°é‡å°äºcorePoolSizeï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚çº¿ç¨‹æ± ä¸€èˆ¬ä¼šå¸¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½“çº¿ç¨‹æ‰§è¡Œä»»åŠ¡å®Œæˆï¼Œä¼šç­‰å¾…é˜»å¡åœ¨é˜Ÿåˆ—ä¸Šï¼ˆé˜Ÿé¦–ï¼‰ï¼Œå°è¯•ä»é˜Ÿåˆ—ç»§ç»­è·å–ä»»åŠ¡ã€‚å¦‚æœä»»åŠ¡å¤šäºcorePoolSizeï¼Œä¼šè¿›å…¥é˜»å¡é˜Ÿåˆ—ã€‚å¦‚æœé˜»å¡é˜Ÿåˆ—æ»¡äº†ï¼Œå¯ä»¥æ ¹æ®maximumPoolSizeåˆ›å»ºé¢å¤–çš„çº¿ç¨‹ã€‚é¢å¤–çº¿ç¨‹çš„ç©ºé—²æ—¶é—´æ ¹æ®keepAliveTimeè¿›è¡Œè‡ªè¡Œé”€æ¯ã€‚</p><p>å¦‚æœé¢å¤–çš„çº¿ç¨‹éƒ½åˆ›å»ºå®Œäº†ï¼Œé˜Ÿåˆ—è¿˜æ˜¯æ»¡çš„ï¼Œè¿˜æœ‰æ–°æ¥çš„ä»»åŠ¡ã€‚ä¼šrejectæ‰ï¼Œæœ‰å‡ ç§rejectç­–ç•¥ï¼Œå¯ä»¥ä¼ å…¥RejectedExecutionHandlerã€‚</p><ol><li class="lvl-3"><p>AbortPolicyï¼šæŠ›å¼‚å¸¸</p></li><li class="lvl-3"><p>DiscardPolicyï¼šæ‰”æ‰</p></li><li class="lvl-3"><p>DiscardOldestPolicyï¼šåˆ é™¤æœ€æ—§çš„ä»»åŠ¡</p></li><li class="lvl-3"><p>CallerRunsPolicy</p></li><li class="lvl-3"><p>è‡ªå®šä¹‰</p></li></ol><p>ï¼ˆå¸¸ç”¨ï¼‰FixedThreadPoolçš„é˜Ÿåˆ—æ˜¯LinkedBlockingQueueï¼Œæ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œå³é˜Ÿåˆ—é•¿åº¦æ— çº¿å¤§ã€‚corePoolSizeä¸maximumPoolSizeä¸€æ ·å¤§ã€‚</p><h3 id="â—çº¿ç¨‹æ± çš„æ ¸å¿ƒé…ç½®å‚æ•°">â—çº¿ç¨‹æ± çš„æ ¸å¿ƒé…ç½®å‚æ•°</h3><p>ä»£è¡¨çº¿ç¨‹æ± çš„ç±»æ˜¯ThreadPoolExecutorã€‚corePoolSizeï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°ï¼‰ï¼ŒmaximumPoolSizeï¼ˆçº¿ç¨‹æ± ï¼‰ï¼ŒkeepAliveTimeï¼ˆå¤šä½™çš„ç©ºé—²çº¿ç¨‹åœ¨ç»ˆæ­¢ä¹‹å‰ç­‰å¾…æ–°ä»»åŠ¡çš„æœ€é•¿æ—¶é—´ï¼‰ï¼ŒworkQueueï¼ˆé˜»å¡é˜Ÿåˆ—ï¼‰ã€‚</p><h3 id="â—å¦‚æœåœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨æ— ç•Œé˜»å¡é˜Ÿåˆ—ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ">â—å¦‚æœåœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨æ— ç•Œé˜»å¡é˜Ÿåˆ—ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><blockquote><p>é¢è¯•é¢˜ï¼šåœ¨è¿œç¨‹æœåŠ¡å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œæ˜¯å¦ä¼šå¯¼è‡´å†…å­˜å¼‚å¸¸é£™å‡ï¼Ÿ</p><p>è°ƒç”¨è¶…æ—¶ï¼Œé˜Ÿåˆ—å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œä¼šå¯¼è‡´å†…å­˜é£™å‡ï¼Œå¯èƒ½è¿˜ä¼šå¯¼è‡´OOM</p></blockquote><h3 id="â—çº¿ç¨‹æ± é˜Ÿåˆ—æ»¡äº†ä¹‹åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…">â—çº¿ç¨‹æ± é˜Ÿåˆ—æ»¡äº†ä¹‹åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…</h3><p>æ— ç•Œé˜Ÿåˆ—ï¼Œå†…å­˜æº¢å‡ºã€‚æœ‰ç•Œé˜Ÿåˆ—ï¼Œä½†æ˜¯å¦‚æœmaximumPoolSizeæ•°é‡å¾ˆå¤§ï¼Œå¯ä»¥æ— é™åˆ¶åˆ›å»ºçº¿ç¨‹ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹å ç”¨æ ˆå†…å­˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜èµ„æºè€—å°½ï¼Œæˆ–è€…çº¿ç¨‹å¤ªå¤šï¼ŒCPUè´Ÿè½½å¤ªé«˜ã€‚æœ‰ç•Œé˜Ÿåˆ—ï¼ŒmaximumPoolSizeæ•°é‡å›ºå®šï¼Œå¤šä½™çš„ä»»åŠ¡ä¼šè¢«æ‹’ç»ã€‚</p><p>å»ºè®®ï¼šè‡ªå®šä¹‰ä¸€ä¸ªrejectç­–ç•¥ï¼Œå¦‚æœçº¿ç¨‹æ± æ— æ³•æ‰§è¡Œæ›´å¤šä»»åŠ¡ï¼Œå¯ä»¥æŠŠä»»åŠ¡ä¿¡æ¯æŒä¹…åŒ–å†™å…¥ç£ç›˜ã€‚ç­‰è´Ÿè½½é™ä½é‡æ–°æ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚</p><h3 id="â—å¦‚æœçº¿ä¸Šæœºå™¨çªç„¶å®•æœºï¼Œçº¿ç¨‹æ± çš„é˜»å¡é˜Ÿåˆ—ä¸­çš„è¯·æ±‚æ€ä¹ˆåŠï¼Ÿ">â—å¦‚æœçº¿ä¸Šæœºå™¨çªç„¶å®•æœºï¼Œçº¿ç¨‹æ± çš„é˜»å¡é˜Ÿåˆ—ä¸­çš„è¯·æ±‚æ€ä¹ˆåŠï¼Ÿ</h3><p>çº¿ç¨‹æ± å†…ç§¯å‹çš„ä»»åŠ¡ä¸¢å¤±ã€‚è§£å†³ï¼šåœ¨æäº¤ä»»åŠ¡å‰ï¼Œåœ¨æ•°æ®åº“å†…æ’å…¥ä»»åŠ¡ä¿¡æ¯ï¼Œå¹¶æ›´æ–°ä»–çš„çŠ¶æ€ï¼šå·²æäº¤ã€æœªæäº¤ã€å·²å®Œæˆâ€¦â€¦ã€‚ç³»ç»Ÿé‡å¯åæŠŠä»»åŠ¡çŠ¶æ€é‡æ–°æäº¤ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.03 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/tags/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    <category term="å¤šçº¿ç¨‹" scheme="https://kiml.github.io/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
    <category term="çº¿ç¨‹æ± " scheme="https://kiml.github.io/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•-åŸºç¡€</title>
    <link href="https://kiml.github.io/2024/06/03/100000025/"/>
    <id>https://kiml.github.io/2024/06/03/100000025/</id>
    <published>2024-06-03T13:09:05.000Z</published>
    <updated>2024-06-04T06:03:53.754Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.03 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="â—Javaçš„åŸºæœ¬æ•°æ®ç±»å‹">â—Javaçš„åŸºæœ¬æ•°æ®ç±»å‹</h2><p>byteï¼Œshortï¼Œintï¼Œlongï¼Œfloatï¼Œdoubleï¼Œcharï¼Œboolean</p><h2 id="é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§">é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§</h2><p>ç»§æ‰¿ã€å¤šæ€ã€å°è£…</p><h2 id="JDKå’ŒJREçš„åŒºåˆ«">JDKå’ŒJREçš„åŒºåˆ«</h2><p>JREï¼šJava è¿â¾æ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿â¾å·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJava ç±»åº“ï¼ŒJava å‘½ä»¤å’Œå…¶ä»–çš„â¼€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½â½¤äºåˆ›å»ºæ–°ç¨‹åºã€‚</p><p>JDK(Java Development Kit)ï¼šå®ƒæ˜¯åŠŸèƒ½â»¬å…¨çš„ Java SDKã€‚å®ƒæ‹¥æœ‰ JRE æ‰€æ‹¥æœ‰çš„â¼€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œâ¼¯å…·ï¼ˆå¦‚ javadoc å’Œ jdbï¼‰ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚</p><p><strong>ç®€å•æ¥è¯´ï¼ŒJDK åŒ…å« JREï¼ŒJRE åŒ…å« JVMã€‚</strong></p><h2 id="Javaæ”¯æŒå¤šç»§æ‰¿å’Œå¤šå®ç°å—">Javaæ”¯æŒå¤šç»§æ‰¿å’Œå¤šå®ç°å—</h2><p>ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œæ”¯æŒå¤šå®ç°ã€‚</p><h2 id="æ„é€ å‡½æ•°å’Œä¸€èˆ¬å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«">æ„é€ å‡½æ•°å’Œä¸€èˆ¬å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«</h2><ol><li class="lvl-3"><p>å®šä¹‰æ ¼å¼ä¸åŒ</p></li><li class="lvl-3"><p>æ„é€ å‡½æ•°æ˜¯åœ¨å¯¹è±¡åˆ›å»ºæ—¶ï¼Œå°±è¢«è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–ï¼Œè€Œä¸”åˆå§‹åŒ–åŠ¨ä½œåªæ‰§è¡Œä¸€æ¬¡ã€‚ ä¸€èˆ¬å‡½æ•°ï¼Œæ˜¯å¯¹è±¡åˆ›å»ºåï¼Œéœ€è¦è°ƒç”¨æ‰æ‰§è¡Œï¼Œå¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ã€‚</p></li></ol><h2 id="Javaæ€ä¹ˆåˆ›å»ºå¯¹è±¡">Javaæ€ä¹ˆåˆ›å»ºå¯¹è±¡</h2><ol><li class="lvl-3"><p>ä½¿ç”¨ new å…³é”®å­—</p></li><li class="lvl-3"><p>ä½¿ç”¨newInstanceæ–¹æ³•</p></li></ol><blockquote><p>Java åå°„ä¸­æœ‰ä¸€ä¸ª newInstance() æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºå¯¹è±¡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼šè·å–è¦åˆ›å»ºçš„ç±»çš„ Class å¯¹è±¡ã€‚å¦‚æœåªéœ€è¦è°ƒç”¨è¿™ä¸ªç±»çš„è®¿é—®æƒé™ä¸º public æ— å‚æ„é€ å™¨ï¼Œ<strong>ç›´æ¥ä½¿ç”¨ Class ç±»çš„å®ä¾‹æ–¹æ³• newInstance()</strong>ã€‚è·å– Class å¯¹è±¡çš„æ„é€ å™¨å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨ Class ç±»çš„å®ä¾‹æ–¹æ³• getDeclaredConstractors() æ¥è·å–æ„é€ å™¨å¯¹è±¡çš„æ•°ç»„ã€‚(è·å–æ‰€æœ‰æ„é€ å™¨ï¼Œæ— è§†è®¿é—®æƒé™çš„é™åˆ¶ï¼Œæ•°ç»„é¡ºåºæŒ‰ç…§ä»£ç ä¸­çš„é¡ºåºå†³å®š)å¦‚æœè°ƒç”¨çš„æ„é€ å™¨æ˜¯ private çš„ï¼Œéœ€è¦è°ƒç”¨ Constractor ç±»çš„çˆ¶ç±» AccessibleObject ç±»çš„å®ä¾‹æ–¹æ³• setAccessible(true) æ¥æ‰“ç ´è®¿é—®é™åˆ¶ã€‚ä½¿ç”¨ Constractor ç±»çš„å®ä¾‹æ–¹æ³• newInstance()ã€‚è·å– Class å¯¹è±¡çš„æ–¹æ³•æœ‰3ä¸ªï¼Œæ­¤å¤„ä¸å¤šèµ˜è¿°ã€‚è·å–Constractor å¯¹è±¡çš„æ–¹æ³•æœ‰4ä¸ªï¼Œæ­¤å¤„ä¸å¤šèµ˜è¿°ã€‚</p></blockquote><ol start="3"><li class="lvl-3"><p>ä½¿ç”¨clone()æ–¹æ³•</p></li></ol><blockquote><p>Object ç±»æ˜¯æ‰€æœ‰ç±»çš„ç›´æ¥æˆ–é—´æ¥çˆ¶ç±»ï¼ŒObject ç±»ä¸­æä¾›äº† å®ä¾‹æ–¹æ³• native()ï¼Œåœ¨ç»™å®šå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªå®Œå…¨ç›¸åŒçš„å¯¹è±¡ã€‚æ­¥éª¤å¦‚ä¸‹ï¼šæƒ³è¦ä½¿ç”¨ clone() æ–¹æ³•åˆ›å»ºå¯¹è±¡çš„ç±»ï¼Œå®ç° Cloneable æ¥å£ã€‚åœ¨ç±»çš„å†…éƒ¨ï¼Œé‡å†™ Object ç±»çš„ clone() æ–¹æ³•ã€‚å¤‡æ³¨ï¼šæ²¡æœ‰å®ç° Cloneable æ¥å£ï¼Œä¼šæŠ›å‡º CloneNotSupportedException å¼‚å¸¸ã€‚Object ç±»æä¾›çš„ clone() æ–¹æ³•ï¼Œè®¿é—®æƒé™æ˜¯ protectedï¼Œæ‰€ä»¥å¦‚æœä¸é‡å†™ clone() æ–¹æ³•ï¼Œæ˜¯æ²¡æœ‰æƒé™è°ƒç”¨çš„ã€‚Object ç±»çš„ clone() æ–¹æ³•ï¼Œæ˜¯ native æ–¹æ³•ã€‚</p></blockquote><ol start="4"><li class="lvl-3"><p>â”ä½¿ç”¨ååºåˆ—åŒ–çš„readObject()æ–¹æ³•</p></li></ol><blockquote><p>è¿™ä¸ªæ–¹æ³•ä¸€å…±åˆ†ä¸¤æ­¥ï¼šå°†å¯¹è±¡åºåˆ—åŒ–ï¼Œå­˜å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ä»æ–‡ä»¶ä¸­ååºåˆ—åŒ–ï¼Œå¾—åˆ°ç±»å¯¹è±¡ã€‚</p><p>åºåˆ—åŒ–ï¼šæƒ³è¦åºåˆ—åŒ–å¯¹è±¡çš„ç±»ï¼Œå®ç°Serializableæ¥å£ã€‚ä½¿ç”¨æ–‡ä»¶è¾“å‡ºæµFileOutputStreamåˆ›å»ºå­˜å‚¨åºåˆ—åŒ–ä¹‹åå¯¹è±¡çš„æ–‡ä»¶ã€‚ä½¿ç”¨å¯¹è±¡è¾“å‡ºæµObjectOutputStreamçš„å®ä¾‹æ–¹æ³•writeObject(obj)ã€‚åˆ¤æ–­ç±»ä¸­æ˜¯å¦å­˜åœ¨ï¼Œåä¸ºwriteReplace()ï¼Œè¿”å›ç±»å‹ä¸ºObjectçš„æ–¹æ³•ï¼Œè‹¥æœ‰ï¼Œå†™å…¥è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ï¼›å¦åˆ™ï¼Œå†™å…¥objå¯¹è±¡ã€‚</p><p>ååºåˆ—åŒ–ï¼šä½¿ç”¨æ–‡ä»¶è¾“å…¥æµFileInputStreamæ‰¾åˆ°å­˜å‚¨åºåˆ—åŒ–å¯¹è±¡çš„æ–‡ä»¶ã€‚ä½¿ç”¨å¯¹è±¡è¾“å…¥æµObjectInputStreamçš„å®ä¾‹æ–¹æ³•readObject()ã€‚åˆ¤æ–­ç±»ä¸­æ˜¯å¦å­˜åœ¨ï¼Œåä¸ºreadResolve()ï¼Œè¿”å›ç±»å‹ä¸ºObjectçš„æ–¹æ³•ï¼Œè‹¥æœ‰è¯»å–è¿™ä¸ªå¯¹è±¡ï¼›å¦åˆ™ï¼Œååºåˆ—åŒ–æ–‡ä»¶ä¸­çš„å¯¹è±¡æµã€‚</p><p>å¤‡æ³¨ï¼šåœ¨ç±»ä¸­ï¼ŒwriteReplace()å’ŒreadResoleve()æ˜¯ä¸¤ä¸ªéå¸¸ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå…¶ç‰¹å¾ç­¾åéœ€è¦ä¸¥æ ¼é™åˆ¶ï¼šæ–¹æ³•åé™å®šï¼Œå‚æ•°ä¸ªæ•°é™å®šä¸º0ï¼Œè¿”å›ç±»å‹å¿…é¡»æ˜¯Objectï¼Œä¸èƒ½ä¸ºObjectçš„å­ç±»ï¼Œä½†æ˜¯å¯ä»¥æŠ›å‡ºä¸åŒçš„å¼‚å¸¸ã€‚è®¿é—®ä¿®é¥°ç¬¦æ²¡æœ‰é™åˆ¶ï¼Œä½†ä¸€èˆ¬æ¨èä¸ºprivateï¼Œé˜²æ­¢è¯¯æ“ä½œã€‚å…¶ç‰¹æ®Šçš„åœ°æ–¹è¿˜åœ¨äºå°†å…¶è®¾ä¸ºprivateæ–¹æ³•ï¼Œæ²¡æœ‰å…¶ä»–æ–¹æ³•è°ƒç”¨çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¸ä¼šå‘å‡ºè­¦å‘Šã€‚</p></blockquote><h2 id="Javaä¸­çš„å¼‚å¸¸">Javaä¸­çš„å¼‚å¸¸</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Throwable -&gt;Exception -&gt; ClassNotFoundException</span><br><span class="line">  -&gt; IOException</span><br><span class="line">  -&gt; RuntimeException      -&gt; NullPointerException</span><br><span class="line">  -&gt; NumberFormatException</span><br><span class="line">  -&gt; IndexOutOfBoundsException</span><br><span class="line">  ......</span><br><span class="line">          -&gt;Error</span><br></pre></td></tr></table></figure><h2 id="â—æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«">â—æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«</h2><ol><li class="lvl-3"><p>å®šä¹‰ï¼šæ¥å£å®šä¹‰ï¼šinterfaceï¼›æŠ½è±¡ç±»ï¼šabstrat class;</p></li><li class="lvl-3"><p>æŠ½è±¡ç±»å¯ä»¥å®šä¹‰æ„é€ æ–¹æ³•ä¾›å­ç±»è°ƒç”¨ï¼Œæ¥å£ä¸å¯ä»¥ï¼›</p></li><li class="lvl-3"><p>æ¥å£çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œæ‰€æœ‰å±æ€§éƒ½æ˜¯å¸¸é‡ï¼šstatic final ç±»å‹ï¼›è€ŒæŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰ä¸æ˜¯æŠ½è±¡çš„æ–¹æ³•å’Œä¸æ˜¯å¸¸é‡çš„å±æ€§ï¼›</p></li><li class="lvl-3"><p>æŠ½è±¡ç±»åªèƒ½å•ç»§æ‰¿ï¼Œè€Œæ¥å£ä¹‹é—´å¯ä»¥å¤šç»§æ‰¿ï¼Œæ¥å£ä¹‹é—´çš„ç»§æ‰¿ç”¨extexds,ç±»å®ç°æ¥å£ç”¨implements.</p></li></ol><h2 id="å’Œequals"><code>==</code>å’Œ<code>equals()</code></h2><p><code>==</code>ï¼š</p><ol><li class="lvl-3"><p>å¦‚æœæ¯”è¾ƒçš„å¯¹è±¡æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯å…¶å­˜å‚¨çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼›</p></li><li class="lvl-3"><p>å¦‚æœæ¯”è¾ƒçš„æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯æ‰€æŒ‡å‘å¯¹è±¡çš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ï¼ˆæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚<code>equals</code>ï¼š</p></li><li class="lvl-3"><p>å¦‚æœæ²¡æœ‰å¯¹ equals æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œåˆ™ç›¸å½“äº<code>==</code>ï¼Œæ¯”è¾ƒçš„æ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡æ‰€æŒ‡å‘çš„å¯¹è±¡çš„åœ°å€å€¼ã€‚</p></li><li class="lvl-3"><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç±»ä¼šé‡å†™equalsæ–¹æ³•ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚æ¯”å¦‚Stringç±»ä¸­çš„equals()æ˜¯è¢«é‡å†™äº†ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚</p></li></ol><h2 id="ä¸ºä»€ä¹ˆé‡å†™equalsæ–¹æ³•ï¼Œè¿˜å¿…é¡»è¦é‡å†™hashcodeæ–¹æ³•">ä¸ºä»€ä¹ˆé‡å†™equalsæ–¹æ³•ï¼Œè¿˜å¿…é¡»è¦é‡å†™hashcodeæ–¹æ³•</h2><ol><li class="lvl-3"><p>ä¿è¯æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœé‡å†™äº†equalsæ–¹æ³•ï¼Œè€Œæ²¡æœ‰é‡å†™hashcodeæ–¹æ³•ï¼Œä¼šå‡ºç°equalsç›¸ç­‰çš„å¯¹è±¡ï¼Œhashcodeä¸ç›¸ç­‰çš„æƒ…å†µï¼Œé‡å†™hashcodeæ–¹æ³•å°±æ˜¯ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‡ºç°ã€‚</p></li><li class="lvl-3"><p>ä½¿ç”¨hashcodeæ–¹æ³•æå‰æ ¡éªŒï¼Œå¯ä»¥é¿å…æ¯ä¸€æ¬¡æ¯”å¯¹éƒ½è°ƒç”¨equalsæ–¹æ³•ï¼Œæé«˜æ•ˆç‡</p></li></ol><p>é‡å†™åï¼š</p><ol><li class="lvl-3"><p>equals()ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œhashcode()ä¸€å®šç›¸ç­‰ï¼›</p></li><li class="lvl-3"><p>hashcode()ä¸ç­‰ï¼Œä¸€å®šèƒ½æ¨å‡ºequals()ä¹Ÿä¸ç­‰ï¼›</p></li><li class="lvl-3"><p>hashcode()ç›¸ç­‰ï¼Œequals()å¯èƒ½ç›¸ç­‰ï¼Œä¹Ÿå¯èƒ½ä¸ç­‰ã€‚</p></li><li class="lvl-3"><p>æ‰€ä»¥å…ˆè¿›è¡Œhashcodeï¼ˆï¼‰åˆ¤æ–­ï¼Œä¸ç­‰å°±ä¸ç”¨equalsï¼ˆï¼‰æ–¹æ³•äº†ã€‚</p></li><li class="lvl-3"><p>ä½†equelsæ˜¯æ˜¯æ ¹æ®å¯¹è±¡çš„ç‰¹å¾è¿›è¡Œé‡å†™çš„ï¼Œæœ‰æ—¶å€™ç‰¹å¾ç›¸åŒï¼Œä½†hashå€¼ä¸åŒï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ æ‰€ä»¥ä¸¤ä¸ªéƒ½é‡å†™æ‰èƒ½ä¿éšœæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.03 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/tags/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åä¸‰å¤©-å±‚åºéå†ã€226ç¿»è½¬äºŒå‰æ ‘ã€101å¯¹ç§°äºŒå‰æ ‘ 2</title>
    <link href="https://kiml.github.io/2024/06/03/100000023/"/>
    <id>https://kiml.github.io/2024/06/03/100000023/</id>
    <published>2024-06-03T02:22:57.000Z</published>
    <updated>2024-06-05T01:08:46.690Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼šå±‚åºéå†ç›´æ¥çœ‹è§£æã€‚226ã€101çœ‹äº†éƒ¨åˆ†è§£æã€‚å¯ä»¥å®Œæˆé€’å½’æ³•ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.03 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="102äºŒå‰æ ‘çš„å±‚åºéå†">102äºŒå‰æ ‘çš„å±‚åºéå†</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/binary-tree-level-order-traversal/description/" >https://leetcode.cn/problems/binary-tree-level-order-traversal/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;List&lt;Integer&gt;&gt; resultList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    levelOrderDFS(root, <span class="number">0</span>, resultList);  </span><br><span class="line">    levelOrderBFS(root, resultList);  </span><br><span class="line">    <span class="keyword">return</span> resultList;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * è¿­ä»£æ³•å®ç°å±‚åºéå†ï¼ˆå¹¿åº¦ä¼˜å…ˆï¼‰  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> resultList è¿”å›çš„list  </span></span><br><span class="line"><span class="comment"> */</span><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">levelOrderBFS</span><span class="params">(TreeNode root, ArrayList&lt;List&lt;Integer&gt;&gt; resultList)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();  </span><br><span class="line">    queue.offer(root);  </span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;  </span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// éå†å½“å‰å±‚æ‰€æœ‰èŠ‚ç‚¹  </span></span><br><span class="line">        <span class="keyword">while</span> (size &gt; <span class="number">0</span>) &#123;  </span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();  </span><br><span class="line">            list.add(node.val);  </span><br><span class="line">  </span><br><span class="line">            <span class="comment">// æŠŠè¿™å±‚æ‰€æœ‰çš„å·¦èŠ‚ç‚¹åŠ å…¥  </span></span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">                queue.offer(node.left);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="comment">// æŠŠè¿™å±‚æ‰€æœ‰çš„å³èŠ‚ç‚¹åŠ å…¥  </span></span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">                queue.offer(node.right);  </span><br><span class="line">            &#125;  </span><br><span class="line">            size--;  </span><br><span class="line">        &#125;  </span><br><span class="line">        resultList.add(list);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * é€’å½’æ–¹å¼å®ç°å±‚åºéå†(æ·±åº¦ä¼˜å…ˆ)  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> i å±‚æ•°  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> resultList éå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">levelOrderDFS</span><span class="params">(TreeNode root, <span class="type">int</span> i, ArrayList&lt;List&lt;Integer&gt;&gt; resultList)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    i++;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å¦‚æœå°äºï¼Œè¯´æ˜ç¬¬ä¸€æ¬¡è¿›è¿™å±‚ï¼Œéœ€è¦åˆå§‹åŒ–è¿™ä¸ªä½ç½®çš„list  </span></span><br><span class="line">    <span class="keyword">if</span> (resultList.size() &lt; i) &#123;  </span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        resultList.add(list);  </span><br><span class="line">    &#125;  </span><br><span class="line">    resultList.get(i - <span class="number">1</span>).add(root.val);  </span><br><span class="line">  </span><br><span class="line">    levelOrderDFS(root.left, i, resultList);  </span><br><span class="line">    levelOrderDFS(root.right, i, resultList);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="226ç¿»è½¬äºŒå‰æ ‘">226ç¿»è½¬äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/invert-binary-tree/description/" >https://leetcode.cn/problems/invert-binary-tree/description/<i class="fas fa-external-link-alt"></i></a>)<br>çœ‹äº†ä¸€éƒ¨åˆ†çš„é¢˜ç›®è§£æï¼Œçªç„¶ååº”è¿‡æ¥treeä¸ç”¨è‡ªå·±æ„å»ºï¼Œç›´æ¥ç”¨æ–¹æ³•ç®€å•å¾ˆå¤šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * DFSé€’å½’  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç¿»è½¬ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    invertTreePreorder(root);  </span><br><span class="line">    <span class="keyword">return</span> root;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">invertTreePreorder</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>();  </span><br><span class="line">    <span class="comment">// æŒ‡é’ˆäº¤æ¢  </span></span><br><span class="line">    temp = root.left;  </span><br><span class="line">    root.left = root.right;  </span><br><span class="line">    root.right = temp;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        invertTreePreorder(root.left);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        invertTreePreorder(root.right);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="101å¯¹ç§°äºŒå‰æ ‘">101å¯¹ç§°äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/symmetric-tree/description/" >https://leetcode.cn/problems/symmetric-tree/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * è¿™é¢˜å’Œç¿»è½¬æ”¾åœ¨ä¸€èµ·  </span></span><br><span class="line"><span class="comment"> * ç¬¬ä¸€æ€è·¯å°±æ˜¯ç¿»è½¬ä¹‹åæ¯”è¾ƒæ˜¯å¦ç›¸ç­‰(ä½†æ˜¯æ˜¯æŒ‡é’ˆå¼•ç”¨ï¼Œç¿»è½¬ä¹‹åæ˜¯ä¸èƒ½è¿›è¡Œæ¯”è¾ƒçš„)  </span></span><br><span class="line"><span class="comment"> * çœ‹äº†éƒ¨åˆ†è®²è§£ï¼Œè¯´æ˜¯æŠŠå·¦å­ï¼Œå³å­æ‹†åˆ†æˆä¸¤æ£µæ ‘æ¥çœ‹.  </span></span><br><span class="line"><span class="comment"> * å¯ä»¥æ‹†åˆ†ä¹‹åç¿»è½¬ä¸€æ£µæ ‘ï¼Œç„¶åæ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ã€‚  </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> root.right;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> root.left;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">// å·¦å­æ ‘ç¿»è½¬  </span></span><br><span class="line">    invertTreePreorder(left);  </span><br><span class="line">    <span class="keyword">return</span> isEqual(right, left);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isEqual</span><span class="params">(TreeNode right, TreeNode left)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (right == <span class="literal">null</span> &amp;&amp; left == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> ((right == <span class="literal">null</span> &amp;&amp; left != <span class="literal">null</span>) || (right != <span class="literal">null</span> &amp;&amp; left == <span class="literal">null</span>)) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (right.val != left.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> isEqual(right.right, left.right) &amp;&amp; isEqual(right.left, left.left);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">invertTreePreorder</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    TreeNode temp;  </span><br><span class="line">    <span class="comment">// æŒ‡é’ˆäº¤æ¢  </span></span><br><span class="line">    temp = root.left;  </span><br><span class="line">    root.left = root.right;  </span><br><span class="line">    root.right = temp;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">        invertTreePreorder(root.left);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">        invertTreePreorder(root.right);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="102äºŒå‰æ ‘çš„å±‚åºéå†-2">102äºŒå‰æ ‘çš„å±‚åºéå†</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0102.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.html" >https://programmercarl.com/0102.äºŒå‰æ ‘çš„å±‚åºéå†.html<i class="fas fa-external-link-alt"></i></a>)<br>å±‚åºéå†ä¸€ä¸ªäºŒå‰æ ‘ã€‚éœ€è¦å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©æ•°æ®ç»“æ„å³é˜Ÿåˆ—æ¥å®ç°ï¼Œ<strong>é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œç¬¦åˆä¸€å±‚ä¸€å±‚éå†çš„é€»è¾‘ï¼Œè€Œç”¨æ ˆå…ˆè¿›åå‡ºé€‚åˆæ¨¡æ‹Ÿæ·±åº¦ä¼˜å…ˆéå†ä¹Ÿå°±æ˜¯é€’å½’çš„é€»è¾‘ã€‚</strong></p><p><strong>è€Œè¿™ç§å±‚åºéå†æ–¹å¼å°±æ˜¯å›¾è®ºä¸­çš„å¹¿åº¦ä¼˜å…ˆéå†ï¼Œåªä¸è¿‡æˆ‘ä»¬åº”ç”¨åœ¨äºŒå‰æ ‘ä¸Šã€‚</strong></p><h2 id="226ç¿»è½¬äºŒå‰æ ‘-2">226ç¿»è½¬äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0226.%E7%BF%BB%E8%BD%AC%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0226.ç¿»è½¬äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br><strong>é€’å½’çš„ä¸­åºéå†æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºä½¿ç”¨é€’å½’çš„ä¸­åºéå†ï¼ŒæŸäº›èŠ‚ç‚¹çš„å·¦å³å­©å­ä¼šç¿»è½¬ä¸¤æ¬¡ã€‚</strong></p><h2 id="101å¯¹ç§°äºŒå‰æ ‘-2">101å¯¹ç§°äºŒå‰æ ‘</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0101.%E5%AF%B9%E7%A7%B0%E4%BA%8C%E5%8F%89%E6%A0%91.html" >https://programmercarl.com/0101.å¯¹ç§°äºŒå‰æ ‘.html<i class="fas fa-external-link-alt"></i></a>)<br>æœ¬é¢˜éå†åªèƒ½æ˜¯â€œååºéå†â€ï¼Œå› ä¸ºæˆ‘ä»¬è¦é€šè¿‡é€’å½’å‡½æ•°çš„è¿”å›å€¼æ¥åˆ¤æ–­ä¸¤ä¸ªå­æ ‘çš„å†…ä¾§èŠ‚ç‚¹å’Œå¤–ä¾§èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ã€‚<br><strong>æ­£æ˜¯å› ä¸ºè¦éå†ä¸¤æ£µæ ‘è€Œä¸”è¦æ¯”è¾ƒå†…ä¾§å’Œå¤–ä¾§èŠ‚ç‚¹ï¼Œæ‰€ä»¥å‡†ç¡®çš„æ¥è¯´æ˜¯ä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å·¦å³ä¸­ï¼Œä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å³å·¦ä¸­ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**   </span></span><br><span class="line"><span class="comment"> * çœ‹å®Œè§£æåçš„æ€è·¯ï¼Œä¸ç”¨ç¿»è½¬ç›´æ¥æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰  </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> root.right;  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> root.left;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> compare(right, left);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">(TreeNode right, TreeNode left)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (right == <span class="literal">null</span> &amp;&amp; left == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> ((right == <span class="literal">null</span> &amp;&amp; left != <span class="literal">null</span>) || (right != <span class="literal">null</span> &amp;&amp; left == <span class="literal">null</span>)) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> (right.val != left.val) &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> compare(right.right, left.left) &amp;&amp; compare(right.left, left.right);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œç›¸å½“äºä¸¤ä¸ªæ ˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric2</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque.offerFirst(root.left);</span><br><span class="line">        deque.offerLast(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> deque.pollFirst();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> deque.pollLast();</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> &amp;&amp; rightNode == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> || rightNode == <span class="literal">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            deque.offerFirst(leftNode.left);</span><br><span class="line">            deque.offerFirst(leftNode.right);</span><br><span class="line">            deque.offerLast(rightNode.right);</span><br><span class="line">            deque.offerLast(rightNode.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿­ä»£æ³•</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨æ™®é€šé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric3</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque.offer(root.left);</span><br><span class="line">        deque.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> &amp;&amp; rightNode == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> || rightNode == <span class="literal">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿™é‡Œé¡ºåºä¸ä½¿ç”¨Dequeä¸åŒ</span></span><br><span class="line">            deque.offer(leftNode.left);</span><br><span class="line">            deque.offer(rightNode.right);</span><br><span class="line">            deque.offer(leftNode.right);</span><br><span class="line">            deque.offer(rightNode.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼šå±‚åºéå†ç›´æ¥çœ‹è§£æã€‚226ã€101çœ‹äº†éƒ¨åˆ†è§£æã€‚å¯ä»¥å®Œæˆé€’å½’æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.03 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•-æ€»è§ˆ</title>
    <link href="https://kiml.github.io/2024/06/02/100000021/"/>
    <id>https://kiml.github.io/2024/06/02/100000021/</id>
    <published>2024-06-02T13:59:58.000Z</published>
    <updated>2024-06-02T14:30:11.967Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>è¿™ä¸ªéƒ¨åˆ†ä½œä¸ºä¸€ä¸ªèƒŒé¢˜æ‰“å¡Listã€‚å±•ç¤ºé¢è¯•å‰å¿…é¡»æŒæ¡çš„ä¸œè¥¿ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.02 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>é›†åˆHashMap</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox0"><label for="checkbox0">putçš„è¿‡ç¨‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox1"><label for="checkbox1">å¤´æ’æ³•å’Œå°¾æ’æ³•çš„åŒºåˆ«</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox2"><label for="checkbox2">1.7å’Œ1.8çš„æ‰©å®¹æœºåˆ¶(å…ˆæ‰©å®¹åœ¨æ·»åŠ è°ƒæ•´ä¸ºå…ˆæ·»åŠ åœ¨æ‰©å®¹)</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox3"><label for="checkbox3">é“¾è¡¨å’Œçº¢é»‘æ ‘çš„è½¬åŒ–è¿‡ç¨‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox4"><label for="checkbox4">çº¿ç¨‹ä¸å®‰å…¨çš„é—®é¢˜(è§£å†³æ–¹æ¡ˆ)</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox5"><label for="checkbox5">ConcurrentHashMapçš„1.7å’Œ1.8åŸç†å’ŒåŒºåˆ«</label></p></li></ul><h1>ArrayList</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox6"><label for="checkbox6">ä»€ä¹ˆæ˜¯åŒå‘é“¾è¡¨</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox7"><label for="checkbox7">åº•å±‚åŸç†</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox8"><label for="checkbox8">å’ŒLinkedListçš„åŒºåˆ«</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox9"><label for="checkbox9">çº¿ç¨‹ä¸å®‰å…¨å¦‚ä½•è§£å†³</label></p></li></ul><h1>å¤šçº¿ç¨‹</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox10"><label for="checkbox10">å®ç°æ–¹å¼ï¼Œæ¯ç§å®ç°æ–¹å¼çš„åŒºåˆ«</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox11"><label for="checkbox11">Volatileå…³é”®å­—</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox12"><label for="checkbox12">CASè‡ªæ—‹é”</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox13"><label for="checkbox13">Locké”æ˜¯å…¬å¹³é”è¿˜æ˜¯éå…¬å¹³é”</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox14"><label for="checkbox14">ä½ äº†è§£AQSæœºåˆ¶å®ƒçš„æ ¸å¿ƒåŸç†æ˜¯ä»€ä¹ˆ</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox15"><label for="checkbox15">å…¬å¹³é”ï¼Œéå…¬å¹³é”ï¼Œåå‘é”ï¼Œè½»é‡é”</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox16"><label for="checkbox16">çº¿ç¨‹çš„6ç§çŠ¶æ€</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox17"><label for="checkbox17">çº¿ç¨‹æ± çš„7å¤§æ ¸å¿ƒå‚æ•°</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox18"><label for="checkbox18">4ä¸ªæ‹’ç»ç­–ç•¥</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox19"><label for="checkbox19">å¤šçº¿ç¨‹çš„æ‰§è¡Œæµç¨‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox20"><label for="checkbox20">çº¿ç¨‹æ± çš„å¸¸ç”¨å®ç°æ–¹æ³•</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox21"><label for="checkbox21">ThreadLocalçš„åŸç†</label></p></li></ul><h1>JVM</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox22"><label for="checkbox22">è¯´ä¸€ä¸‹ JVM çš„ä¸»è¦ç»„æˆéƒ¨åˆ†åŠå…¶ä½œç”¨</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox23"><label for="checkbox23">è¯´ä¸€ä¸‹ JVM è¿è¡Œæ—¶æ•°æ®åŒº</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox24"><label for="checkbox24">å †é‡Œé¢çš„åˆ†åŒºï¼šEdenï¼Œsurvival ï¼ˆfrom+ toï¼‰ï¼Œè€å¹´ä»£ï¼Œå„è‡ªçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆ</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox25"><label for="checkbox25">è¯´ä¸€ä¸‹ JVM è°ƒä¼˜çš„å·¥å…·</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox26"><label for="checkbox26">å¸¸ç”¨çš„ JVM è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox27"><label for="checkbox27">ç®€è¿°Javaåƒåœ¾å›æ”¶æœºåˆ¶</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox28"><label for="checkbox28">ä»€ä¹ˆæ˜¯Full GC</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox29"><label for="checkbox29">ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè§¦å‘</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox30"><label for="checkbox30">è¯´ä¸€ä¸‹ JVM æœ‰å“ªäº›åƒåœ¾å›æ”¶ç®—æ³•</label></p></li></ul><h1>æ•°æ®åº“</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox31"><label for="checkbox31">ç´¢å¼•çš„æœºåˆ¶å’Œåº•å±‚åŸç†</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox32"><label for="checkbox32">ä»€ä¹ˆæ˜¯ç»„åˆç´¢å¼•</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox33"><label for="checkbox33">æœ€å·¦åŒ¹é…åŸåˆ™</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox34"><label for="checkbox34">æ•°æ®åº“çš„äº‹åŠ¡</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox35"><label for="checkbox35">å¼•æ“çš„åŸç†</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox36"><label for="checkbox36">æ•°æ®åº“æ‚²è§‚é”å’Œä¹è§‚é”çš„å®ç°</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox37"><label for="checkbox37">b+æ ‘çš„å¥½å¤„</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox38"><label for="checkbox38">æ•°æ®åº“çš„ä¼˜åŒ–</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox39"><label for="checkbox39">å¤šä¸ªæ•°æ®æºå¦‚ä½•æ“ä½œ</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox40"><label for="checkbox40">æ•°æ®åº“çš„ä¼˜åŒ–</label></p></li></ul><h1>æ¡†æ¶</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox41"><label for="checkbox41">Springçš„äº‹åŠ¡ä¼ æ’­æœºåˆ¶</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox42"><label for="checkbox42">bean çš„ç”Ÿå‘½å‘¨æœŸ</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox43"><label for="checkbox43">SpringMVCçš„æ‰§è¡Œæµç¨‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox44"><label for="checkbox44">ioc</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox45"><label for="checkbox45">di</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox46"><label for="checkbox46">aop</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox47"><label for="checkbox47">SpringBootå¼‚å¸¸å¤„ç†æœºåˆ¶</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox48"><label for="checkbox48">ç®€åŒ–æ“ä½œçš„åŸç†</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox49"><label for="checkbox49">è‡ªå®šä¹‰æ³¨è§£</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox50"><label for="checkbox50">Springcloudçš„ç»„ä»¶</label></p></li></ul><h1>Redis</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox51"><label for="checkbox51">Redisçš„æ•°æ®ç±»å‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox52"><label for="checkbox52">å¸¸ç”¨å‘½ä»¤</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox53"><label for="checkbox53">æŒä¹…åŒ–æ–¹æ³•</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox54"><label for="checkbox54">é›ªå´©ã€å‡»ç©¿ã€ç©¿é€</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox55"><label for="checkbox55">è¿‡æœŸç­–ç•¥</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox56"><label for="checkbox56">æ·˜æ±°ç­–ç•¥</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox57"><label for="checkbox57">ä¸æ•°æ®åº“çš„ä¸€è‡´æ€§</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox58"><label for="checkbox58">å“¨å…µæ¨¡å¼</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox59"><label for="checkbox59">é›†ç¾¤</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox60"><label for="checkbox60">åˆ†å¸ƒå¼é”</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox61"><label for="checkbox61">å¼‚æ­¥é˜Ÿåˆ—</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox62"><label for="checkbox62">å»¶æ—¶é˜Ÿåˆ—</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox63"><label for="checkbox63">çº¿ç¨‹æ¨¡å‹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox64"><label for="checkbox64">åˆ†åŒº</label></p></li></ul><h1>MQ</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox65"><label for="checkbox65">ä¸ºä»€ä¹ˆè¦ç”¨MQ</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox66"><label for="checkbox66">MQçš„ä¼˜åŠ¿</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox67"><label for="checkbox67">æ¶ˆæ¯è¡¥å¿æœºåˆ¶</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox68"><label for="checkbox68">ä¸€è‡´æ€§</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox69"><label for="checkbox69">é¢„é˜²æ¶ˆæ¯ä¸¢å¤±</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox70"><label for="checkbox70">å¯é æ€§</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox71"><label for="checkbox71">ä¸é‡å¤æ¶ˆè´¹</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox72"><label for="checkbox72">é›†ç¾¤é•œåƒæ¨¡å¼</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox73"><label for="checkbox73">MQçš„å·¥ä½œæ¨¡å¼</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox74"><label for="checkbox74">é¡¹ç›®åº”ç”¨åœºæ™¯</label></p></li></ul><h1>åœºæ™¯</h1><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox75"><label for="checkbox75">è¯·æ±‚é‡å¤§å¦‚ä½•æ‹¦æˆª</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox76"><label for="checkbox76">å¦‚ä½•å»ä¸¤ä¸ªåº“æŸ¥æ•°æ®</label></p></li></ul>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
è¿™ä¸ªéƒ¨åˆ†ä½œä¸ºä¸€ä¸ªèƒŒé¢˜æ‰“å¡Listã€‚å±•ç¤ºé¢è¯•å‰å¿…é¡»æŒæ¡çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.02 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
  </entry>
  
  <entry>
    <title>é¢è¯•-é›†åˆ</title>
    <link href="https://kiml.github.io/2024/06/01/100000020/"/>
    <id>https://kiml.github.io/2024/06/01/100000020/</id>
    <published>2024-06-01T03:32:49.000Z</published>
    <updated>2024-06-03T13:14:41.547Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>é›†åˆå¸¸è§é—®é¢˜ï¼Œå…¶ä¸­HashMapå¾ˆé‡è¦â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.06.01 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h1>Javaé›†åˆ</h1><p>é›†åˆåˆ†ä¸ºå•åˆ—é›†åˆ(collection)å’ŒåŒåˆ—é›†åˆ(map)ã€‚å•åˆ—é›†åˆåˆåŒ…æ‹¬List(å¯é‡å¤)å’ŒSet(ä¸å¯é‡å¤)ï¼ŒListåˆ†ä¸ºArrayListå’ŒLinkedListï¼ŒSetåˆ†ä¸ºHashSetå’ŒTreeSetã€‚åŒåˆ—é›†åˆMapåˆ†ä¸ºTreeMapå’ŒHashMapã€‚å•åˆ—é›†åˆæ˜¯å®ç°Iterableæ¥å£äº§æˆçš„å¯¹è±¡ï¼Œæ”¯æŒè¿­ä»£å™¨å’Œå¢å¼ºforã€‚</p><h2 id="è¿­ä»£å™¨">è¿­ä»£å™¨</h2><h3 id="åŸºç¡€">åŸºç¡€</h3><p><strong>æ‰€æœ‰çš„å•åˆ—é›†åˆéƒ½å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨ï¼Œå› ä¸ºä»–ä»¬éƒ½ç»§æ‰¿äº†Iterableæ¥å£</strong>ï¼Œè¿™ä¸ªæ¥å£é‡Œçš„Iteratoræ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªIteratorå¯¹è±¡ï¼Œè¿™ä¸ªIteratorå¯¹è±¡å°±æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼Œåº•å±‚é’ˆå¯¹ä¸åŒç±»å‹çš„é›†åˆéƒ½å†™äº†ä¸åŒçš„å®ç°ç±»ï¼Œæ‰€ä»¥é›†åˆå¯ä»¥ç›´æ¥ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†æŸ¥è¯¢ã€‚è¿™ç§åªéœ€è¦æä¾›ä¸€ç§æ–¹æ³•ï¼ˆiteratoræ–¹æ³•ï¼‰è®¿é—®ä¸€ä¸ªå®¹å™¨å¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚çš„æ–¹å¼å°±æ˜¯è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ã€‚</p><h3 id="è¿­ä»£å™¨å€’åº">è¿­ä»£å™¨å€’åº</h3><p>Listé›†åˆå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨å€’ç€éå†ï¼ŒListIteratoræœ‰previous()æ–¹æ³•å’Œhasprevious()æ–¹æ³•ï¼Œå¯ä»¥è‡ªåŠ¨æŒ‡å‘å¹¶å–å‡ºä¸Šä¸€ä¸ªå…ƒç´ ã€‚Seté›†åˆä¸èƒ½ç”¨è¿­ä»£å™¨å€’ç€éå†ï¼Œä½†å¯ä»¥æ ¹æ®å®ƒçš„å¤§å°é¡ºåºå€’ç€å–å‡ºã€‚</p><h3 id="ä½¿ç”¨foreachã€iteratorã€foråœ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ•ˆç‡ä¸Šå“ªä¸ªæ›´é«˜ï¼Ÿ">ä½¿ç”¨foreachã€iteratorã€foråœ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ•ˆç‡ä¸Šå“ªä¸ªæ›´é«˜ï¼Ÿ</h3><p>åŒºåˆ«ä¸Šï¼šæ™®é€šforå¾ªç¯ä¸€èˆ¬ç”¨æ¥å¤„ç†æ¯”è¾ƒç®€å•çš„æœ‰åºçš„ï¼Œå¯é¢„çŸ¥å¤§å°çš„é›†åˆæˆ–æ•°ç»„.<br>foreachå¯ç”¨äºéå†ä»»ä½•é›†åˆæˆ–æ•°ç»„ï¼Œè€Œä¸”æ“ä½œç®€å•æ˜“æ‡‚ï¼Œå”¯ä¸€çš„ä¸å¥½å°±æ˜¯éœ€è¦äº†è§£é›†åˆå†…éƒ¨ç±»å‹ï¼Œå®ƒçš„åº•å±‚æœ‰å‡½æ•°å¼ç¼–ç¨‹æ³¨è§£Â @FunctionalInterfaceï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯ä»¥è¿›è¡ŒLamdaå½¢å¼ç®€å†™ã€‚<br>iteratoræ˜¯æœ€å¼ºå¤§çš„ï¼Œä»–å¯ä»¥éšæ—¶ä¿®æ”¹æˆ–è€…åˆ é™¤é›†åˆå†…éƒ¨çš„å…ƒç´ ï¼Œå¹¶ä¸”æ˜¯åœ¨ä¸éœ€è¦çŸ¥é“å…ƒç´ å’Œé›†åˆçš„ç±»å‹çš„æƒ…å†µä¸‹è¿›è¡Œçš„ï¼Œå½“ä½ éœ€è¦å¯¹ä¸åŒçš„å®¹å™¨å®ç°åŒæ ·çš„éå†æ–¹å¼æ—¶ï¼Œè¿­ä»£å™¨æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼è‡³äºå¢å¼ºforå’Œiteratorå…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå¢å¼ºforç¼–è¯‘åçš„.classæ–‡ä»¶ä¸­ï¼Œå°±æ˜¯iteratorï¼Œæ‰€ä»¥äºŒè€…é™¤äº†å†™æ³•æ˜¯ç”¨ç¬¬ä¸‰æ–¹å‚æ•°æ¥è¡¨ç¤ºï¼Œæ•ˆç‡ä¸Šæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><p>æ•ˆç‡ä¸Šï¼šè¿™ä¸ªéœ€è¦å¤šæ–¹è€ƒè™‘ï¼Œæ¯”å¦‚æ™®é€šforå¾ªç¯ç”¨åœ¨æ•°ç»„æ˜¯éå†æœ€å¿«çš„ï¼Œå®ƒæ˜¯ç›´æ¥è·å–æ•°æ®ï¼Œä½†æ™®é€šforä¸èƒ½ç”¨åœ¨ä¸çŸ¥é“é•¿åº¦çš„é›†åˆä¸­ï¼Œè¿™å°±éœ€è¦ç”¨iteratoræˆ–è€…foreachï¼Œç›¸å¯¹æ¥è¯´ï¼Œiteratoræ•ˆç‡ä¼šé«˜äºforeachï¼Œå› ä¸ºforeachåœ¨è®¿é—®è¿‡ç¨‹ä¸­äº§ç”Ÿä¸€ä¸ªé¢å¤–çš„Enumeratorå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šè¿›è¡Œç‰ˆæœ¬æ£€æŸ¥å¤„ç†ï¼Œæ‰€ä»¥å®ƒæ˜¯çº¿å®‰å…¨çš„ã€‚å¯¹äºArrayListæ¥è¯´ï¼Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªæ•°ç»„å®ç°çš„ï¼Œå¯ä»¥éšæœºå­˜å–ï¼›ä½†æ˜¯LinkedListæ˜¯é€šè¿‡é“¾è¡¨å®ç°çš„ï¼Œå½“è¦éå†ä¾ä¸ªå–å‡ºæ—¶ï¼Œforå¾ªç¯æ—¶è¦å–çš„æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»ä»å¤´å¼€å§‹éå†ï¼Œè€Œiteratoréå†åˆ™ä»å¤´å¼€å§‹ï¼Œè¾¹éå†è¾¹å–ï¼Œå–å®Œåªéœ€è¦ä¸€æ¬¡éå†ï¼Œæ‰€ä»¥forå¾ªç¯éœ€è¦çš„æ—¶é—´è¿œè¿œè¶…è¿‡foreachå¾ªç¯ã€‚Â å¯¹äºæ•°ç»„æ¥è¯´ï¼Œforå’Œforeachå¾ªç¯æ•ˆç‡å·®ä¸å¤šï¼Œä½†æ˜¯å¯¹äºé“¾è¡¨æ¥è¯´ï¼Œforå¾ªç¯æ•ˆç‡æ˜æ˜¾æ¯”foreachä½ã€‚</p><h2 id="ArrayListå’ŒLinkedListçš„åº•å±‚åŸç†">ArrayListå’ŒLinkedListçš„åº•å±‚åŸç†</h2><p>é¦–å…ˆï¼ŒListé›†åˆæ˜¯æœ‰åºé›†åˆï¼Œå³å­˜å–æœ‰åºï¼ŒListé›†åˆçš„ç‰¹ç‚¹æ˜¯å­˜å–é¡ºåºä¸€è‡´ï¼Œå­˜å‚¨å…ƒç´ å¯é‡å¤ï¼Œéƒ½æœ‰ç´¢å¼•ã€‚<br>ArrayListçš„åº•å±‚æ˜¯æ•°ç»„ï¼Œä¸€ä¸ªç´¢å¼•å¯¹åº”ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æŸ¥è¯¢é€Ÿåº¦å¿«ï¼›ä½†æ˜¯åœ¨å¢åˆ æ—¶ï¼Œéœ€è¦è°ƒæ•´æ•´ç»„æ•°æ®çš„ç§»åŠ¨ï¼Œæ‰€ä»¥å¢åˆ è¾ƒæ…¢ã€‚è€ŒLinkedListçš„åº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œæ¯æ¬¡æŸ¥è¯¢æ—¶éƒ½è¦ä»ä¸¤å¤´å¼€å§‹æŸ¥è¯¢ï¼ˆç¦»å¤´è¿‘å°±ä»å¤´æŸ¥ï¼Œç¦»å°¾è¿‘å°±ä»å°¾æŸ¥ï¼‰ï¼Œæ‰€ä»¥æŸ¥è¯¢è¾ƒæ…¢ï¼›ä½†æ˜¯å¢åˆ æ—¶ï¼Œåªéœ€è¦å°†é“¾è¡¨å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹æŒ‡å‘æ–°æ’å…¥çš„ç»“ç‚¹å³å¯ï¼Œæ‰€ä»¥å¢åˆ é€Ÿåº¦è¾ƒå¿«ã€‚ä½†å¦‚æœæ˜¯æ–°å¢çš„æ•°æ®é‡è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼ŒArrayListçš„æ–°å¢æ•ˆç‡åé¢æ¯”LinkedListçš„æ•ˆç‡æ›´é«˜ã€‚å› ä¸ºArrayListråº•å±‚æ•°ç»„çš„æ‰©å®¹æ˜¯1.5å€ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ‰©å®¹çš„é€Ÿåº¦å°±è¶Šå¿«ï¼Œè€Œé“¾è¡¨ä»éœ€ä¸€ä¸ªä¸ªæ–­å¼€é“¾æ¥å’Œé‡ç»­æ–°é“¾æ¥ã€‚æœ€åï¼Œ<strong>jdk8ç‰ˆè¿˜å¯¹ArrayListåšäº†æ‡’åŠ è½½ä¼˜åŒ–ï¼Œåœ¨ä¹‹å‰æ˜¯æ„é€ ArrayListæ—¶å°±é»˜è®¤å¼€è¾Ÿ10ä¸ªç©ºé—´ï¼Œjdk8ä¹‹åå˜æˆäº†åªæœ‰æ”¾å…¥ç¬¬1ä¸ªå…ƒç´ æ—¶ï¼Œæ‰ä¼šå¼€è¾Ÿ10ä¸ªç©ºé—´ã€‚</strong><br>â—â—<strong>æ•°ç»„çš„èµ·å§‹é•¿åº¦æ˜¯0ï¼Œåœ¨å‘æ•°ç»„ä¸­æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ•°ç»„å®¹é‡æ‰©ä¸º10ã€‚</strong> åç»­æ‰©å®¹å› å­ä¸º1.5å€ã€‚æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ã€‚</p><h2 id="åˆ†åˆ«è®²ä¸€ä¸‹Seté›†åˆå’ŒTreeè¿™ç§æ•°æ®ç»“æ„">åˆ†åˆ«è®²ä¸€ä¸‹Seté›†åˆå’ŒTreeè¿™ç§æ•°æ®ç»“æ„</h2><p>Seté›†åˆçš„ç‰¹ç‚¹æ˜¯å¿…é¡»æ’åºï¼Œæ²¡æœ‰ç´¢å¼•ï¼Œä¸å¯é‡å¤ã€‚Seté›†åˆåˆ†ä¸ºHashSetå’ŒTreeSetï¼ŒHashSetåº•å±‚ä½¿ç”¨çš„æ˜¯å“ˆå¸Œè¡¨ï¼Œå®ƒçš„æ’åºè§„åˆ™æ˜¯æŒ‰ç…§åº•Hashå‡½æ•°å†³å®šçš„ï¼Œæ— æ³•äººä¸ºè®¾ç½®ï¼›è€ŒTreeSetçš„åº•å±‚åˆ™æ˜¯ä½¿ç”¨çº¢é»‘æ ‘ï¼Œå¯ä»¥ä½¿ç”¨è‡ªç„¶æ’åºï¼ˆè‡ªå®šä¹‰ç±»ä¸­å®ç°Comparableæ¥å£ï¼Œé‡å†™CompareToæ–¹æ³•ï¼‰æˆ–æ¯”è¾ƒå™¨æ’åºï¼ˆåœ¨åˆ›å»ºTreeSetå¯¹è±¡åˆ›å»ºä¸€ä¸ªComparatorçš„åŒ¿åå†…éƒ¨ç±»ï¼Œå¹¶é‡å†™Compareæ–¹æ³•ï¼‰ï¼Œæ‰©å®¹æ—¶é€šè¿‡ç»“ç‚¹é“¾æ¥ã€‚<br>Â <br>Â ### TreeSetä½¿ç”¨Iteratoréå†çš„è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ<br>Â å› ä¸ºTreeSetæ˜¯æŒ‰å¤§å°æ’åºçš„ï¼Œæ‰€ä»¥ä¼šæ ¹æ®ä»å·¦å¾€å³ï¼Œä»ä¸‹å¾€ä¸Šçš„é¡ºåºæ‰“å°ã€‚<br>Â <br>Â ## Listé›†åˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œä½ æ˜¯æ€ä¹ˆä½¿ç”¨Listé›†åˆçš„å‘¢ï¼Ÿ<br>Â ä½¿ç”¨Collectionsé›†åˆå·¥å…·ç±»ï¼Œå¯¹é›†åˆè¿›è¡ŒåŒæ­¥å¤„ç†ï¼š<br>Â <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Â Â List&lt;String&gt; list = Collections.synchronizedList(<span class="keyword">new</span>Â <span class="title class_">ArrayList</span>&lt;&gt;());Â </span><br></pre></td></tr></table></figure><br>ä½†æ˜¯åœ¨å¤šçº¿ç¨‹å¼€å‘ä¸­ï¼Œå¯¹å…¶è¿›è¡Œéå†ï¼Œéœ€è¦æ·»åŠ Â synchronized å…³é”®å­—ï¼Œå› ä¸ºListçš„ addã€index ç­‰æ–¹æ³•ä¸­éƒ½æ˜¯å¸¦æœ‰synchronized å…³é”®å­—ï¼Œä½†æ˜¯åœ¨ iterator ä¸­æ²¡æœ‰synchronized å…³é”®å­—ã€‚</p><h2 id="HashMap">HashMap</h2><h3 id="â—HashMapåº•å±‚çš„æ•°æ®ç»“æ„">â—HashMapåº•å±‚çš„æ•°æ®ç»“æ„</h3><p>æ•°ç»„ + æœ€ç®€å•çš„åŸç†ã€‚å¯¹å­˜å…¥çš„keyè¿›è¡Œhashè®¡ç®—ï¼Œæ ¹æ®è®¡ç®—å‡ºçš„hashå€¼ï¼Œå¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡ï¼Œè·å–åˆ°è¦å­˜å…¥çš„ä½ç½®ã€‚<br><strong>JDK8ä»¥å‰ï¼ŒHashè¡¨çš„åº•å±‚æ˜¯ã€æ•°ç»„ã€‘+ã€é“¾è¡¨ã€‘<br>JDK8åŠä¹‹åï¼Œå˜æˆäº†ã€æ•°ç»„ã€‘+ã€é“¾è¡¨ã€‘+ã€çº¢é»‘æ ‘ã€‘</strong></p><h3 id="â—JDK-1-8-ä¸­å¯¹hashç®—æ³•å’Œå¯»å€ç®—æ³•æ˜¯å¦‚ä½•ä¼˜åŒ–çš„ï¼Ÿ">â—JDK 1.8 ä¸­å¯¹hashç®—æ³•å’Œå¯»å€ç®—æ³•æ˜¯å¦‚ä½•ä¼˜åŒ–çš„ï¼Ÿ</h3><p>hashç®—æ³•ï¼šhashå€¼ä¸hashå€¼å³ç§»16ä½è¿›è¡Œå¼‚æˆ–è®¡ç®—ã€‚å¾—åˆ°ç»“æœä½é«˜16ä½+é«˜16ä½ä¸ä½16ä½çš„å¼‚æˆ–å€¼ã€‚ï¼ˆ<strong>è¿™ä¸€æ­¥ä¸»è¦ä¸ºäº†ä½16ä½åœ¨ä¸‹ä¸€æ­¥å¯»å€çš„æ—¶å€™ï¼Œä½¿ä½16ä½ä¿ç•™é«˜16ä½çš„ç‰¹å¾ï¼Œå‡å°‘å“ˆå¸Œå†²çª</strong>ï¼‰å¯»å€ï¼š<code>(n - 1)&amp;hash</code> ç®—å‡ºæ•°ç»„å†…çš„ä¸€ä¸ªä½ç½®ã€‚</p><p>ä¸ºä»€ä¹ˆä½¿ç”¨&amp;è¿ç®—ä¸ä½¿ç”¨å–æ¨¡è¿ç®—ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å–æ¨¡è¿ç®—æ€§èƒ½æ¯”è¾ƒå·®ï¼Œè€Œä¸”(n - 1)&amp;hashçš„æ•ˆæœå’Œhashå¯¹nå–æ¨¡ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</span><br><span class="line"></span><br><span class="line">ä¸ºä»€ä¹ˆæ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Ÿ</span><br><span class="line">å› ä¸ºæ•°ç»„çš„é•¿åº¦ä¸€ç›´æ˜¯2çš„næ¬¡æ–¹ï¼Œåªè¦ä»–ä¿æŒæ•°ç»„é•¿åº¦æ˜¯2çš„næ¬¡æ–¹ï¼Œé‚£ä¹ˆæ•ˆæœå°±æ˜¯ä¸€æ ·çš„ã€‚</span><br></pre></td></tr></table></figure><h3 id="â—HashMapå¦‚ä½•è§£å†³hashç¢°æ’ï¼Ÿ">â—HashMapå¦‚ä½•è§£å†³hashç¢°æ’ï¼Ÿ</h3><p>hashå†²çªï¼Œé“¾è¡¨+çº¢é»‘æ ‘ï¼ŒO(n)å’ŒO(logn)</p><h3 id="â—HashMapå¦‚ä½•è¿›è¡Œæ‰©å®¹ï¼Ÿ">â—HashMapå¦‚ä½•è¿›è¡Œæ‰©å®¹ï¼Ÿ</h3><p>2å€æ‰©å®¹ã€‚æ‰©å®¹ä¹‹åè¦è¿›è¡Œrehashã€‚å³hashå€¼ä¸æ–°æ•°ç»„é•¿åº¦<code>(n - 1)</code>è¿›è¡Œä¸æ“ä½œã€‚å¦‚æœå€¼ä¸åŸæ¥ä¸ä¸€æ ·ï¼Œæ–°çš„indexå°±æ˜¯<code>æ—§index + oldCap</code>ï¼Œé€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œé¿å…äº†rehashçš„æ—¶å€™ï¼Œè¿›è¡Œå–æ¨¡ï¼ˆæ•ˆç‡ä¸é«˜ï¼‰ã€‚</p><p>Hashè¡¨ä¸­æ•°ç»„çš„åˆ†æ‰‹æ‰‹åŠ¨åˆå§‹åŒ–ï¼Œå’Œè‡ªåŠ¨åˆå§‹åŒ–ï¼Œè‡ªåŠ¨åˆåˆå§‹ä¼šåœ¨ç¬¬ä¸€æ¬¡æ’å…¥å…ƒç´ æ—¶å¼€è¾Ÿç©ºé—´ï¼Œ<strong>é»˜è®¤é•¿åº¦ä¸º16</strong>ï¼Œæ‰©å®¹å› å­ä¸º0.75ï¼Œ<strong>æ¯æ¬¡æ‰©å®¹é‡ä¸ºè‡ªèº«çš„2å€é•¿åº¦</strong>ï¼Œæ‰©å®¹ä¹‹åå­˜å…¥æ•°ç»„çš„æ–°ç´¢å¼•ä½ç½®å°±ä¼šæ”¹å˜ã€‚æ‰‹åŠ¨åˆå§‹åŒ–çš„è¯ï¼Œå¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªå®šä¹‰åˆå§‹æ•°ç»„é•¿åº¦ï¼Œä½†HashMapä¸ä¸€å®šä¼šè‡ªä¸»è®¾ç½®çš„æ•°å€¼åˆå§‹åŒ–æ•°ç»„ï¼Œè€ŒæŒ‰2çš„næ¬¡æ–¹åˆ›å»ºã€‚</p><p>HashMap1.7ç‰ˆæœ¬çš„çš„æ‰©å®¹æ—¶æœºæ˜¯å…ˆåˆ¤æ–­æ˜¯å¦è¾¾åˆ°é˜ˆå€¼ï¼Œè¾¾åˆ°å…ˆæ‰©å®¹ï¼Œå†æ·»åŠ å…ƒç´ ï¼Œå¹¶ä¸”é‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œä¹Ÿå°±æ˜¯æ—§å…ƒç´ æŒ‚åœ¨æ–°å…ƒç´ ä¸‹ã€‚è€ŒHashMap1.8çš„æ‰©å®¹æ—¶æœºæ˜¯å…ˆæ·»åŠ å…ƒç´ æ˜¯å¦è¾¾åˆ°é˜ˆå€¼ï¼Œè¾¾åˆ°ç›´æ¥æ‰©å®¹ï¼Œä¸”ä½¿ç”¨çš„æ˜¯å°¾æ’æ³•ï¼Œå³æ–°å…ƒç´ æŒ‚åœ¨æ—§å…ƒç´ ä¸‹é¢ã€‚</p><p>åˆå§‹åŒ–åï¼Œå½“å­˜å…¥æ–°çš„é”®å€¼å¯¹æ—¶ï¼Œä¼šå…ˆåˆ¤æ–­æ•°ç»„é•¿åº¦æ˜¯å¦å¤§äº64ï¼Œå†åˆ¤æ–­é“¾è¡¨å…ƒç´ æ˜¯å¦å¤§äºç­‰äº8æ—¶ï¼Œå¦‚æœä¸¤è€…éƒ½æˆç«‹ï¼Œé“¾è¡¨ä¼šè‡ªåŠ¨è½¬æ¢æˆçº¢é»‘æ ‘ï¼Œå¦‚æœæ•°ç»„å°äº64ï¼Œä¼šä»ç¬¬9ä¸ªå¼€å§‹å…ˆæ‰©å®¹ï¼Œç›´åˆ°æ•°ç»„å¤§äºç­‰äº64æ—¶ï¼Œé“¾è¡¨é•¿åº¦å†å¢åŠ ï¼Œå°±ä¼šè½¬ä¸ºçº¢é»‘æ ‘ã€‚</p><h4 id="â”ä¸ºä»€ä¹ˆè¦è½¬ä¸ºçº¢é»‘æ ‘å‘¢ï¼Ÿ">â”ä¸ºä»€ä¹ˆè¦è½¬ä¸ºçº¢é»‘æ ‘å‘¢ï¼Ÿ</h4><p>é“¾è¡¨å–ä¸€ä¸ªæ•°éœ€è¦éå†é“¾è¡¨ï¼Œè€Œçº¢é»‘æ ‘ç›¸å¯¹æ•ˆç‡è¦é«˜ã€‚</p><h4 id="â”ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨çº¢é»‘æ ‘å‘¢ï¼Ÿ">â”ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨çº¢é»‘æ ‘å‘¢ï¼Ÿ</h4><p>HashMapæºç ä¸­æœ‰ç›¸å…³æè¿°ï¼š â€œå› ä¸ºæ ‘èŠ‚ç‚¹çš„å¤§å°æ˜¯é“¾è¡¨èŠ‚ç‚¹å¤§å°çš„ä¸¤å€ï¼Œæ‰€ä»¥åªæœ‰åœ¨å®¹å™¨ä¸­åŒ…å«è¶³å¤Ÿçš„èŠ‚ç‚¹ä¿è¯ä½¿ç”¨æ‰ç”¨å®ƒâ€ï¼Œæ˜¾ç„¶å°½ç®¡è½¬ä¸ºæ ‘ä½¿å¾—æŸ¥æ‰¾çš„é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯åœ¨èŠ‚ç‚¹æ•°æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œæ­¤æ—¶å¯¹äºçº¢é»‘æ ‘æ¥è¯´å†…å­˜ä¸Šçš„åŠ£åŠ¿ä¼šè¶…è¿‡æŸ¥æ‰¾ç­‰æ“ä½œçš„ä¼˜åŠ¿ï¼Œè‡ªç„¶ä½¿ç”¨é“¾è¡¨æ›´åŠ å¥½ï¼Œä½†æ˜¯åœ¨èŠ‚ç‚¹æ•°æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œç»¼åˆè€ƒè™‘ï¼Œçº¢é»‘æ ‘æ¯”é“¾è¡¨è¦å¥½ã€‚</p><h4 id="â”ä¸ºä»€ä¹ˆè½¬ä¸ºçº¢é»‘æ ‘çš„æ¡ä»¶æ˜¯8è€Œä¸æ˜¯ç¬¬9ç¬¬10ä¸ªå‘¢ï¼Ÿ">â”ä¸ºä»€ä¹ˆè½¬ä¸ºçº¢é»‘æ ‘çš„æ¡ä»¶æ˜¯8è€Œä¸æ˜¯ç¬¬9ç¬¬10ä¸ªå‘¢ï¼Ÿ</h4><p>æºç ä¸­æœ‰å¯¹è¿™ä¸ªè¿›è¡Œè®¡ç®—ï¼Œæ­£å¸¸çš„éšæœºå“ˆå¸Œç ä¸‹ï¼Œå“ˆå¸Œå†²çªå¤šåˆ°è¶…è¿‡8ä¸ªçš„æ¦‚ç‡ä¸åˆ°åƒä¸‡åˆ†ä¹‹ä¸€ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡äº†ï¼Œå†å¾€åè°ƒæ•´å¹¶æ²¡æœ‰å¾ˆå¤§æ„ä¹‰ã€‚å¦‚æœå“ˆå¸Œå†²çªæœ‰é‚£ä¹ˆå¤šï¼Œè¯´æ˜æå¤§å¯èƒ½æ˜¯äººä¸ºè®¾ç½®ï¼Œæ•…æ„åˆ¶é€ å“ˆå¸Œå†²çªå¯¼è‡´ï¼Œè¿™æ—¶å€™å°±è½¬ä¸ºåŒ–çº¢é»‘æ ‘ï¼Œæ¥ä¿è¯æŸ¥è¯¢æ•ˆç‡ã€‚</p><h4 id="â”é‚£ä»€ä¹ˆæ—¶å€™é€€å‡ºçº¢é»‘æ ‘å‘¢ï¼Ÿ">â”é‚£ä»€ä¹ˆæ—¶å€™é€€å‡ºçº¢é»‘æ ‘å‘¢ï¼Ÿ</h4><p>å½“å“ˆå¸Œå†²çªä¸ªæ•°ä»ç¬¬8ä¸ªå˜åˆ°ç¬¬6ä¸ªæ—¶ï¼Œçº¢é»‘æ ‘è½¬åŒ–ä¸ºé“¾è¡¨ã€‚</p><h4 id="â”6ä¸8ä¹‹é—´çš„ç¬¬7ä¸ªå†²çªæ—¶ï¼Œä¼šæ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Ÿ">â”6ä¸8ä¹‹é—´çš„ç¬¬7ä¸ªå†²çªæ—¶ï¼Œä¼šæ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Ÿ</h4><p>åˆ†æƒ…å†µçœ‹ã€‚8é€€6ï¼Œæ˜¯çº¢é»‘æ ‘è½¬é“¾è¡¨ï¼Œ6è¿›8ï¼Œæ˜¯é“¾è¡¨è½¬çº¢é»‘æ ‘ï¼Œä¸­é—´çš„7æ˜¯é˜²æ­¢é¢‘ç¹å˜åŠ¨åšçš„ä¸€ä¸ªé¢„ç•™ä½ï¼Œå¦‚æœæ˜¯8é€€6ï¼Œä¸­é—´çš„7å°±æ˜¯çº¢é»‘æ ‘ï¼›å¦‚æœæ˜¯6è¿›8ï¼Œä¸­é—´çš„7å°±æ˜¯é“¾è¡¨ã€‚</p><h3 id="ä¸ºä»€ä¹ˆ1-7æ˜¯å¤´æ’æ³•ï¼Œ1-8æ˜¯å°¾æ’æ³•ï¼Ÿ">ä¸ºä»€ä¹ˆ1.7æ˜¯å¤´æ’æ³•ï¼Œ1.8æ˜¯å°¾æ’æ³•ï¼Ÿ</h3><p>1.7ç‰ˆæœ¬ä½¿ç”¨å¤´æ’æ³•æ˜¯å› ä¸ºå¤´æ’æ³•æ˜¯æ“ä½œé€Ÿåº¦æœ€å¿«çš„ï¼Œæ‰¾åˆ°æ•°ç»„ä½ç½®å°±ç›´æ¥æ‰¾åˆ°æ’å…¥ä½ç½®äº†ï¼Œä½†è¿™æ ·æ’å…¥æ–¹æ³•åœ¨å¹¶å‘åœºæ™¯ä¸‹ä¼šå› ä¸ºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰©å®¹å‡ºç°å¾ªç¯åˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯Hashmapçš„æ­»é”é—®é¢˜ã€‚</p><p>1.8ç‰ˆæœ¬åŠ å…¥äº†çº¢é»‘æ ‘æ¥ä¼˜åŒ–å“ˆå¸Œæ¡¶ä¸­çš„éå†æ•ˆç‡ï¼Œç›¸æ¯”å¤´æ’æ³•è€Œè¨€ï¼Œå°¾æ’æ³•åœ¨æ“ä½œé¢å¤–çš„éå†æ¶ˆè€—ï¼ˆæŒ‡éå†å“ˆå¸Œæ¡¶ï¼‰å·²ç»å°å¾ˆå¤šï¼Œä¹Ÿå¯ä»¥é¿å…ä¹‹å‰çš„å¾ªç¯åˆ—è¡¨é—®é¢˜ï¼ŒåŒæ—¶å¦‚æœå·²ç»å˜æˆçº¢é»‘æ ‘äº†ï¼Œä¹Ÿä¸èƒ½å†ç”¨å¤´æ’æ³•äº†ï¼Œè€Œæ˜¯æŒ‰çº¢é»‘æ ‘è‡ªå·±çš„è§„åˆ™æ’åˆ—äº†ã€‚</p><h4 id="â—å¤šçº¿ç¨‹ä¸‹çš„HashMapçº¿ç¨‹å®‰å…¨å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ">â—å¤šçº¿ç¨‹ä¸‹çš„HashMapçº¿ç¨‹å®‰å…¨å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h4><p>HashMapæœ¬èº«å°±æ˜¯ä¸å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ä¸‹ï¼Œåœ¨æ·»åŠ å…ƒç´ æ—¶å®¹æ˜“å‡ºç°æ•°æ®è¦†ç›–æƒ…å†µè€Œä¸¢å¤±æ•°æ®ï¼Œä¹Ÿå¯èƒ½åœ¨æ‰©å®¹æ—¶ï¼Œè¿ç§»æ•°æ®å‡ºç°æ•°æ®è¦†ç›–æƒ…å†µè€Œä¸¢å¤±æ•°æ®ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
é›†åˆå¸¸è§é—®é¢˜ï¼Œå…¶ä¸­HashMapå¾ˆé‡è¦â—è¡¨ç¤ºå¿…æŒæ¡ï¼Œâ”è¡¨ç¤ºåŸºæœ¬ä¸ä¼šé—®&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.06.01 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
    <category term="Java" scheme="https://kiml.github.io/tags/Java/"/>
    
    <category term="JavaåŸºç¡€" scheme="https://kiml.github.io/tags/Java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="HashMap" scheme="https://kiml.github.io/tags/HashMap/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åäºŒå¤©-äºŒå‰æ ‘ç†è®ºåŸºç¡€ã€é€’å½’éå†ã€è¿­ä»£éå†ã€ç»Ÿä¸€è¿­ä»£</title>
    <link href="https://kiml.github.io/2024/06/01/100000019/"/>
    <id>https://kiml.github.io/2024/06/01/100000019/</id>
    <published>2024-06-01T03:17:20.000Z</published>
    <updated>2024-06-04T01:29:58.172Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>é€’å½’ã€è¿­ä»£ã€ç»Ÿä¸€è¿­ä»£ã€‚éƒ½æ˜¯çœ‹å®Œè§£æä¹‹åå®Œæˆçš„ã€‚ç»Ÿä¸€è¿­ä»£æœ‰ç‚¹éš¾ç†è§£ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24-06-03 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="144äºŒå‰æ ‘çš„å‰åºéå†">144äºŒå‰æ ‘çš„å‰åºéå†</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/binary-tree-preorder-traversal/description/" >https://leetcode.cn/problems/binary-tree-preorder-traversal/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    preOrder(root, list);  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * å‰åºéå†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list éå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// å½“å‰  </span></span><br><span class="line">    list.add(root.val);  </span><br><span class="line">    <span class="comment">// å·¦å­æ ‘  </span></span><br><span class="line">    preOrder(root.left, list);  </span><br><span class="line">    <span class="comment">// å³å­æ ‘  </span></span><br><span class="line">    preOrder(root.right, list);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * è¿­ä»£æ³•  </span></span><br><span class="line"><span class="comment"> * å‰åºéå† ä¸­å·¦å³  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> list;  </span><br><span class="line">    &#125;  </span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();  </span><br><span class="line">    stack.push(root);  </span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;  </span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pop();  </span><br><span class="line">        list.add(pop.val);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// æ ˆå…ˆè¿›åå‡ºï¼Œå…ˆè¿›å³  </span></span><br><span class="line">        <span class="keyword">if</span> (pop.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">            stack.push(pop.right);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (pop.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">            stack.push(pop.left);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="94äºŒå‰æ ‘çš„ä¸­åºéå†">94äºŒå‰æ ‘çš„ä¸­åºéå†</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/binary-tree-inorder-traversal/description/" >https://leetcode.cn/problems/binary-tree-inorder-traversal/description/<i class="fas fa-external-link-alt"></i></a>)<br>ä¸­åºéå†æ˜¯å·¦ä¸­å³ï¼Œå…ˆè®¿é—®çš„æ˜¯äºŒå‰æ ‘é¡¶éƒ¨çš„èŠ‚ç‚¹ï¼Œç„¶åä¸€å±‚ä¸€å±‚å‘ä¸‹è®¿é—®ï¼Œç›´åˆ°åˆ°è¾¾æ ‘å·¦é¢çš„æœ€åº•éƒ¨ï¼Œå†å¼€å§‹å¤„ç†èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯åœ¨æŠŠèŠ‚ç‚¹çš„æ•°å€¼æ”¾è¿›resultæ•°ç»„ä¸­ï¼‰ï¼Œè¿™å°±é€ æˆäº†<strong>å¤„ç†é¡ºåºå’Œè®¿é—®é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ã€‚</strong><br>é‚£ä¹ˆ<strong>åœ¨ä½¿ç”¨è¿­ä»£æ³•å†™ä¸­åºéå†ï¼Œå°±éœ€è¦å€Ÿç”¨æŒ‡é’ˆçš„éå†æ¥å¸®åŠ©è®¿é—®èŠ‚ç‚¹ï¼Œæ ˆåˆ™ç”¨æ¥å¤„ç†èŠ‚ç‚¹ä¸Šçš„å…ƒç´ ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    inOrder(root, list);  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * ä¸­åºéå†  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list éå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">inOrder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    inOrder(root.left, list);  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">    inOrder(root.right, list);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * è¿­ä»£æ³•  </span></span><br><span class="line"><span class="comment"> * ä¸­åºéå† å·¦ä¸­å³  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> list;  </span><br><span class="line">    &#125;  </span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();  </span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;  </span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty() || cur != <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (cur != <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="comment">// å…ˆéå†å·¦å­èŠ‚ç‚¹(ç›´è‡³åˆ°æœ€åä¸€ä¸ªå·¦å­èŠ‚ç‚¹)  </span></span><br><span class="line">            stack.push(cur);  </span><br><span class="line">            cur = cur.left;  </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">            <span class="comment">// æ­¤æ—¶ä»æ ˆé‡Œå¼¹å‡ºçš„æ•°æ®ï¼Œå°±æ˜¯è¦å¤„ç†çš„æ•°æ®  </span></span><br><span class="line">            cur = stack.pop();  </span><br><span class="line">            list.add(cur.val);  </span><br><span class="line">            cur = cur.right;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="145äºŒå‰æ ‘çš„ååºéå†">145äºŒå‰æ ‘çš„ååºéå†</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/binary-tree-postorder-traversal/description/" >https://leetcode.cn/problems/binary-tree-postorder-traversal/description/<i class="fas fa-external-link-alt"></i></a>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’æ³•</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    postOrder(root, list);  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * ååºéå†  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list éå†ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; list)</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    postOrder(root.left, list);  </span><br><span class="line">    postOrder(root.right, list);  </span><br><span class="line">    list.add(root.val);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * ååºéå† å·¦å³ä¸­  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root æ ¹èŠ‚ç‚¹  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç»“æœ  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;  </span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;  </span><br><span class="line">        <span class="keyword">return</span> list;  </span><br><span class="line">    &#125;  </span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();  </span><br><span class="line">    stack.push(root);  </span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;  </span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">pop</span> <span class="operator">=</span> stack.pop();  </span><br><span class="line">        list.add(pop.val);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// æ ˆå…ˆè¿›åå‡ºï¼Œå…ˆè¿›å³  </span></span><br><span class="line">        <span class="keyword">if</span> (pop.left != <span class="literal">null</span>) &#123;  </span><br><span class="line">            stack.push(pop.left);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (pop.right != <span class="literal">null</span>) &#123;  </span><br><span class="line">            stack.push(pop.right);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// ä¸Šéƒ¨åˆ†ä»£ç ä¸å‰åºç›¸åŒï¼Œleftå’Œrightéå†é¡ºåºé¢ å€’ã€‚å¾—åˆ°çš„æ•°ç»„ä¸ºä¸­å³å·¦éå†å¾—å‡ºçš„ç»“æœ  </span></span><br><span class="line">    <span class="comment">// ç¿»è½¬å¾—åˆ°çš„ç»“æœï¼Œå³ä¸ºå·¦å³ä¸­éå†å¾—å‡ºçš„ç»“æœ  </span></span><br><span class="line">    Collections.reverse(list);  </span><br><span class="line">    <span class="keyword">return</span> list;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="â—é€’å½’çš„ä¸‰è¦ç´ ">â—é€’å½’çš„ä¸‰è¦ç´ </h2><p>æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86.html" >https://programmercarl.com/äºŒå‰æ ‘çš„é€’å½’éå†.html<i class="fas fa-external-link-alt"></i></a>)</p><ol><li class="lvl-3"><p><strong>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼š</strong>Â ç¡®å®šå“ªäº›å‚æ•°æ˜¯é€’å½’çš„è¿‡ç¨‹ä¸­éœ€è¦å¤„ç†çš„ï¼Œé‚£ä¹ˆå°±åœ¨é€’å½’å‡½æ•°é‡ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼Œ å¹¶ä¸”è¿˜è¦æ˜ç¡®æ¯æ¬¡é€’å½’çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆè¿›è€Œç¡®å®šé€’å½’å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p></li><li class="lvl-3"><p><strong>ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼š</strong>Â å†™å®Œäº†é€’å½’ç®—æ³•, è¿è¡Œçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°æ ˆæº¢å‡ºçš„é”™è¯¯ï¼Œå°±æ˜¯æ²¡å†™ç»ˆæ­¢æ¡ä»¶æˆ–è€…ç»ˆæ­¢æ¡ä»¶å†™çš„ä¸å¯¹ï¼Œæ“ä½œç³»ç»Ÿä¹Ÿæ˜¯ç”¨ä¸€ä¸ªæ ˆçš„ç»“æ„æ¥ä¿å­˜æ¯ä¸€å±‚é€’å½’çš„ä¿¡æ¯ï¼Œå¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢ï¼Œæ“ä½œç³»ç»Ÿçš„å†…å­˜æ ˆå¿…ç„¶å°±ä¼šæº¢å‡ºã€‚</p></li><li class="lvl-3"><p><strong>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘ï¼š</strong>Â ç¡®å®šæ¯ä¸€å±‚é€’å½’éœ€è¦å¤„ç†çš„ä¿¡æ¯ã€‚åœ¨è¿™é‡Œä¹Ÿå°±ä¼šé‡å¤è°ƒç”¨è‡ªå·±æ¥å®ç°é€’å½’çš„è¿‡ç¨‹ã€‚</p></li></ol><h2 id="è¿­ä»£æ³•">è¿­ä»£æ³•</h2><p><strong>é€’å½’çš„å®ç°å°±æ˜¯ï¼šæ¯ä¸€æ¬¡é€’å½’è°ƒç”¨éƒ½ä¼šæŠŠå‡½æ•°çš„å±€éƒ¨å˜é‡ã€å‚æ•°å€¼å’Œè¿”å›åœ°å€ç­‰å‹å…¥è°ƒç”¨æ ˆä¸­</strong>æ‰€ä»¥æ‰€æœ‰é€’å½’çš„é¢˜ç›®ï¼Œç†è®ºä¸Šéƒ½å¯ä»¥ä½¿ç”¨æ ˆè§£å†³ã€‚é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E8%BF%AD%E4%BB%A3%E9%81%8D%E5%8E%86.html" >https://programmercarl.com/äºŒå‰æ ‘çš„è¿­ä»£éå†.html<i class="fas fa-external-link-alt"></i></a>)</p><h1>ç»Ÿä¸€è¿­ä»£</h1><p><strong>è¿­ä»£æ³•å®ç°çš„å…ˆä¸­ååºï¼Œå…¶å®é£æ ¼ä¹Ÿä¸æ˜¯é‚£ä¹ˆç»Ÿä¸€ï¼Œé™¤äº†å…ˆåºå’Œååºï¼Œæœ‰å…³è”ï¼Œä¸­åºå®Œå…¨å°±æ˜¯å¦ä¸€ä¸ªé£æ ¼äº†ï¼Œä¸€ä¼šç”¨æ ˆéå†ï¼Œä¸€ä¼šåˆç”¨æŒ‡é’ˆæ¥éå†ã€‚</strong><br>åœ¨è¿­ä»£æ³•çš„ä¸­åºéå†ä¸­æåˆ°è¯´ä½¿ç”¨æ ˆçš„è¯ï¼Œ<strong>æ— æ³•åŒæ—¶è§£å†³è®¿é—®èŠ‚ç‚¹ï¼ˆéå†èŠ‚ç‚¹ï¼‰å’Œå¤„ç†èŠ‚ç‚¹ï¼ˆå°†å…ƒç´ æ”¾è¿›ç»“æœé›†ï¼‰ä¸ä¸€è‡´çš„æƒ…å†µ</strong>ã€‚<strong>é‚£æˆ‘ä»¬å°±å°†è®¿é—®çš„èŠ‚ç‚¹æ”¾å…¥æ ˆä¸­ï¼ŒæŠŠè¦å¤„ç†çš„èŠ‚ç‚¹ä¹Ÿæ”¾å…¥æ ˆä¸­ä½†æ˜¯è¦åšæ ‡è®°ã€‚å°±æ˜¯è¦å¤„ç†çš„èŠ‚ç‚¹æ”¾å…¥æ ˆä¹‹åï¼Œç´§æ¥ç€æ”¾å…¥ä¸€ä¸ªç©ºæŒ‡é’ˆä½œä¸ºæ ‡è®°ã€‚</strong>Â è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥å«åšæ ‡è®°æ³•ã€‚é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%BB%9F%E4%B8%80%E8%BF%AD%E4%BB%A3%E6%B3%95.html" >https://programmercarl.com/äºŒå‰æ ‘çš„ç»Ÿä¸€è¿­ä»£æ³•.html<i class="fas fa-external-link-alt"></i></a>)</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
é€’å½’ã€è¿­ä»£ã€ç»Ÿä¸€è¿­ä»£ã€‚éƒ½æ˜¯çœ‹å®Œè§£æä¹‹åå®Œæˆçš„ã€‚ç»Ÿä¸€è¿­ä»£æœ‰ç‚¹éš¾ç†è§£ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24-06-03 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="äºŒå‰æ ‘" scheme="https://kiml.github.io/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç éšæƒ³å½•ç®—æ³•è®­ç»ƒè¥ç¬¬åä¸€å¤©-239æ»‘åŠ¨çª—å£æœ€å¤§å€¼ã€347å‰ K ä¸ªé«˜é¢‘å…ƒç´ </title>
    <link href="https://kiml.github.io/2024/05/31/100000016/"/>
    <id>https://kiml.github.io/2024/05/31/100000016/</id>
    <published>2024-05-31T02:33:19.000Z</published>
    <updated>2024-06-01T03:00:19.391Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>çŠ¶æ€ï¼š239è¶…æ—¶ï¼Œ347ç›´æ¥ç”¨çš„Streamæµã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">24.05.31 åˆå§‹è®°å½•</span><br><span class="line">24.06.01 å®Œæˆé¢˜ç›®</span><br></pre></td></tr></table></figure><span id="more"></span><h1>åˆæ­¥é¢˜è§£</h1><h2 id="239æ»‘åŠ¨çª—å£æœ€å¤§å€¼">239æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/sliding-window-maximum/description/" >https://leetcode.cn/problems/sliding-window-maximum/description/<i class="fas fa-external-link-alt"></i></a>)<br>æš´åŠ›è§£æ³•ï¼šå¾ªç¯åˆ¤æ–­æœ€å¤§å€¼ï¼ˆè¶…æ—¶ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LE239</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);  </span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> scanner.nextLine();  </span><br><span class="line">        <span class="type">int</span>[] split = Arrays.stream(s.split(<span class="string">&quot;,&quot;</span>)).mapToInt(Integer::parseInt).toArray();  </span><br><span class="line">        <span class="type">int</span>[] ints = maxSlidingWindow(split, Integer.parseInt(scanner.nextLine()));  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> anInt : ints) &#123;  </span><br><span class="line">            System.out.println(anInt);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] maxSlidingWindow(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;  </span><br><span class="line">        <span class="keyword">if</span> (nums.length &lt;= k) &#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;getMax(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>)&#125;;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= nums.length - k; i++) &#123;  </span><br><span class="line">            <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> getMax(nums, i, i + k - <span class="number">1</span>);  </span><br><span class="line">            list.add(max);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> list.stream().mapToInt(i -&gt; i).toArray();  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;  </span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Integer.MIN_VALUE;  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= j; k++) &#123;  </span><br><span class="line">            max = Math.max(max, nums[k]);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> max;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="347å‰-K-ä¸ªé«˜é¢‘å…ƒç´ ">347å‰ K ä¸ªé«˜é¢‘å…ƒç´ </h2><p>é¢˜ç›®é“¾æ¥ï¼š(<a class="link"   href="https://leetcode.cn/problems/top-k-frequent-elements/description/" >https://leetcode.cn/problems/top-k-frequent-elements/description/<i class="fas fa-external-link-alt"></i></a>)</p><p>ç›´æ¥ç”¨Streamæµçš„è§£æ³•ï¼Œä¼°è®¡ä¸Šç­ä¼šç”¨è¿™ä¸ªã€‚ã€‚ã€‚ç”šè‡³å¯ä»¥ä¼˜åŒ–æˆä¸€è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] topKFrequent(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;  </span><br><span class="line">    <span class="comment">// mapç”¨äºè®¡æ•°  </span></span><br><span class="line">    TreeMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;  </span><br><span class="line">        map.put(num, map.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> map.entrySet().stream()  </span><br><span class="line">            .sorted((o1, o2) -&gt; o2.getValue() - o1.getValue())  </span><br><span class="line">            .limit(k)  </span><br><span class="line">            .map(Map.Entry::getKey)  </span><br><span class="line">            .mapToInt(i -&gt; i)  </span><br><span class="line">            .toArray();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>çœ‹è§£æ</h1><h2 id="239æ»‘åŠ¨çª—å£æœ€å¤§å€¼-2">239æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0239.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC.html#%E6%80%9D%E8%B7%AF" >https://programmercarl.com/0239.æ»‘åŠ¨çª—å£æœ€å¤§å€¼.html#æ€è·¯<i class="fas fa-external-link-alt"></i></a>)</p><blockquote><p>æ€è·¯ï¼šè¿™é¢˜æ”¾åœ¨é˜Ÿåˆ—ä¸“é¢˜ï¼Œè‚¯å®šæ˜¯è¦ç”¨åˆ°é˜Ÿåˆ—æ€æƒ³çš„ã€‚æŒ‰æš´åŠ›çš„è§£æ³•ï¼Œæ±‚æœ€å¤§å€¼çš„é‚£ä¸ªå¾ªç¯ï¼ˆè¿™æ ·æ•ˆç‡å°±æ˜¯<code>O(n * k)</code>ï¼‰ï¼Œåœ¨è¿™è¾¹å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—è§£å†³ã€‚<br><strong>å…¶å®é˜Ÿåˆ—æ²¡æœ‰å¿…è¦ç»´æŠ¤çª—å£é‡Œçš„æ‰€æœ‰å…ƒç´ ï¼Œåªéœ€è¦ç»´æŠ¤æœ‰å¯èƒ½æˆä¸ºçª—å£é‡Œæœ€å¤§å€¼çš„å…ƒç´ å°±å¯ä»¥äº†ï¼ŒåŒæ—¶ä¿è¯é˜Ÿåˆ—é‡Œçš„å…ƒç´ æ•°å€¼æ˜¯ç”±å¤§åˆ°å°çš„ã€‚</strong><br>é‚£ä¹ˆè¿™ä¸ªç»´æŠ¤å…ƒç´ å•è°ƒé€’å‡çš„é˜Ÿåˆ—å°±å«åš<strong>å•è°ƒé˜Ÿåˆ—ï¼Œå³å•è°ƒé€’å‡æˆ–å•è°ƒé€’å¢çš„é˜Ÿåˆ—ã€‚Javaä¸­æ²¡æœ‰ç›´æ¥æ”¯æŒå•è°ƒé˜Ÿåˆ—ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å®ç°ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—</strong></p></blockquote><p>è®¾è®¡å•è°ƒé˜Ÿåˆ—çš„æ—¶å€™ï¼Œpopï¼Œå’Œpushæ“ä½œè¦ä¿æŒå¦‚ä¸‹è§„åˆ™ï¼š</p><ol><li class="lvl-3"><p>pop(value)ï¼šå¦‚æœçª—å£ç§»é™¤çš„å…ƒç´ valueç­‰äºå•è°ƒé˜Ÿåˆ—çš„å‡ºå£å…ƒç´ ï¼Œé‚£ä¹ˆé˜Ÿåˆ—å¼¹å‡ºå…ƒç´ ï¼Œå¦åˆ™ä¸ç”¨ä»»ä½•æ“ä½œ</p></li><li class="lvl-3"><p>push(value)ï¼šå¦‚æœpushçš„å…ƒç´ valueå¤§äºå…¥å£å…ƒç´ çš„æ•°å€¼ï¼Œé‚£ä¹ˆå°±å°†é˜Ÿåˆ—å…¥å£çš„å…ƒç´ å¼¹å‡ºï¼Œç›´åˆ°pushå…ƒç´ çš„æ•°å€¼å°äºç­‰äºé˜Ÿåˆ—å…¥å£å…ƒç´ çš„æ•°å€¼ä¸ºæ­¢ï¼ˆ<strong>æ‰€ä»¥è¿™é‡Œè¦ç”¨while</strong>ï¼‰</p></li></ol><p>ä¿æŒå¦‚ä¸Šè§„åˆ™ï¼Œæ¯æ¬¡çª—å£ç§»åŠ¨çš„æ—¶å€™ï¼Œåªè¦é—®que.peek()å°±å¯ä»¥è¿”å›å½“å‰çª—å£çš„æœ€å¤§å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * å®šä¹‰ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—  </span></span><br><span class="line"><span class="comment"> */</span>  </span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;  </span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> num)</span> &#123;  </span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty() &amp;&amp; num &gt; deque.getLast()) &#123;  </span><br><span class="line">            deque.removeLast();  </span><br><span class="line">        &#125;  </span><br><span class="line">        deque.add(num);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­é˜Ÿé¡¶å…ƒç´ æ˜¯å¦æ˜¯è¦ç§»é™¤çš„å…ƒç´   </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pull</span><span class="params">(<span class="type">int</span> num)</span> &#123;  </span><br><span class="line">        <span class="keyword">if</span> (!deque.isEmpty() &amp;&amp; deque.peek() == num) &#123;  </span><br><span class="line">            deque.poll();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> deque.peek();  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] maxSlidingWindow(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;  </span><br><span class="line">    <span class="type">MyQueue</span> <span class="variable">myQueue</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyQueue</span>();  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;  </span><br><span class="line">        myQueue.push(nums[i]);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;  </span><br><span class="line">    <span class="type">int</span>[] ints = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length - k + <span class="number">1</span>];  </span><br><span class="line">    ints[j++] = myQueue.peek();  </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k; i &lt;nums.length; i++) &#123;  </span><br><span class="line">        <span class="comment">// çª—å£æ»‘åŠ¨ï¼Œç§»é™¤å…ƒç´ ï¼ˆç§»é™¤æ—¶è¦åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å•è°ƒé˜Ÿåˆ—å†…ï¼‰  </span></span><br><span class="line">        myQueue.pull(nums[i - k]);  </span><br><span class="line">        <span class="comment">// çª—å£æ»‘åŠ¨ï¼Œæ·»åŠ æœ€æ–°å…ƒç´ åˆ°å•è°ƒé˜Ÿåˆ—  </span></span><br><span class="line">        myQueue.push(nums[i]);  </span><br><span class="line">        <span class="comment">// è·å–å•è°ƒé˜Ÿåˆ—é˜Ÿé¡¶å…ƒç´ ï¼ˆæ ¹æ®å®šä¹‰çš„è§„åˆ™ï¼Œä¸€å®šæ˜¯åŒºé—´å†…æœ€å¤§çš„ï¼‰  </span></span><br><span class="line">        ints[j++] = myQueue.peek();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> ints;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="347å‰-K-ä¸ªé«˜é¢‘å…ƒç´ -2">347å‰ K ä¸ªé«˜é¢‘å…ƒç´ </h2><p>é¢˜ç›®é“¾æ¥/æ–‡ç« è®²è§£/è§†é¢‘è®²è§£ï¼š(<a class="link"   href="https://programmercarl.com/0347.%E5%89%8DK%E4%B8%AA%E9%AB%98%E9%A2%91%E5%85%83%E7%B4%A0.html" >https://programmercarl.com/0347.å‰Kä¸ªé«˜é¢‘å…ƒç´ .html<i class="fas fa-external-link-alt"></i></a>)<br>è¿™é¢˜å±äºï¼šå‰Kä¸ªå¤§æ•°é—®é¢˜ã€‚è¿™ç§é—®é¢˜ä¸€èˆ¬ç”¨<strong>å¤§é¡¶å †</strong>ï¼ˆæ ¹èŠ‚ç‚¹æœ€å¤§ï¼‰æˆ–<strong>å°é¡¶å †</strong>ï¼ˆæ ¹èŠ‚ç‚¹æœ€å°ï¼‰ã€‚éœ€è¦ä½¿ç”¨å°é¡¶å †ï¼Œ<strong>å› ä¸ºè¦ç»Ÿè®¡æœ€å¤§å‰kä¸ªå…ƒç´ ï¼Œåªæœ‰å°é¡¶å †æ¯æ¬¡å°†æœ€å°çš„å…ƒç´ å¼¹å‡ºï¼Œæœ€åå°é¡¶å †é‡Œç§¯ç´¯çš„æ‰æ˜¯å‰kä¸ªæœ€å¤§å…ƒç´ ã€‚</strong></p><p>emmmmmæ„Ÿè§‰å’ŒStreamæµæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ˆå¯èƒ½åœ¨äºä»–ç”¨çš„å®¹å™¨å§ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Comparatoræ¥å£è¯´æ˜:</span></span><br><span class="line"><span class="comment"> * è¿”å›è´Ÿæ•°ï¼Œå½¢å‚ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ’åœ¨å‰é¢ï¼›è¿”å›æ­£æ•°ï¼Œå½¢å‚ä¸­ç¬¬äºŒä¸ªå‚æ•°æ’åœ¨å‰é¢</span></span><br><span class="line"><span class="comment"> * å¯¹äºé˜Ÿåˆ—ï¼šæ’åœ¨å‰é¢æ„å‘³ç€å¾€é˜Ÿå¤´é </span></span><br><span class="line"><span class="comment"> * å¯¹äºå †ï¼ˆä½¿ç”¨PriorityQueueå®ç°ï¼‰ï¼šä»é˜Ÿå¤´åˆ°é˜Ÿå°¾æŒ‰ä»å°åˆ°å¤§æ’å°±æ˜¯æœ€å°å †ï¼ˆå°é¡¶å †ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment"> *                                ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾æŒ‰ä»å¤§åˆ°å°æ’å°±æ˜¯æœ€å¤§å †ï¼ˆå¤§é¡¶å †ï¼‰---&gt;é˜Ÿå¤´å…ƒç´ ç›¸å½“äºå †çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">//è§£æ³•1ï¼šåŸºäºå¤§é¡¶å †å®ç°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] topKFrequent1(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">//keyä¸ºæ•°ç»„å…ƒç´ å€¼,valä¸ºå¯¹åº”å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            map.put(num, map.getOrDefault(num,<span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜å‚¨äºŒå…ƒç»„(num, cnt),cntè¡¨ç¤ºå…ƒç´ å€¼numåœ¨æ•°ç»„ä¸­çš„å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="comment">//å‡ºç°æ¬¡æ•°æŒ‰ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾çš„é¡ºåºæ˜¯ä»å¤§åˆ°å°æ’,å‡ºç°æ¬¡æ•°æœ€å¤šçš„åœ¨é˜Ÿå¤´(ç›¸å½“äºå¤§é¡¶å †)</span></span><br><span class="line">        PriorityQueue&lt;<span class="type">int</span>[]&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((pair1, pair2) -&gt; pair2[<span class="number">1</span>] - pair1[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;<span class="comment">//å¤§é¡¶å †éœ€è¦å¯¹æ‰€æœ‰å…ƒç´ è¿›è¡Œæ’åº</span></span><br><span class="line">            pq.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;entry.getKey(), entry.getValue()&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123; <span class="comment">//ä¾æ¬¡ä»é˜Ÿå¤´å¼¹å‡ºkä¸ª,å°±æ˜¯å‡ºç°é¢‘ç‡å‰ké«˜çš„å…ƒç´ </span></span><br><span class="line">            ans[i] = pq.poll()[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è§£æ³•2ï¼šåŸºäºå°é¡¶å †å®ç°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] topKFrequent2(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">//keyä¸ºæ•°ç»„å…ƒç´ å€¼,valä¸ºå¯¹åº”å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            map.put(num, map.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜å‚¨äºŒå…ƒç»„(num, cnt),cntè¡¨ç¤ºå…ƒç´ å€¼numåœ¨æ•°ç»„ä¸­çš„å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="comment">//å‡ºç°æ¬¡æ•°æŒ‰ä»é˜Ÿå¤´åˆ°é˜Ÿå°¾çš„é¡ºåºæ˜¯ä»å°åˆ°å¤§æ’,å‡ºç°æ¬¡æ•°æœ€ä½çš„åœ¨é˜Ÿå¤´(ç›¸å½“äºå°é¡¶å †)</span></span><br><span class="line">        PriorityQueue&lt;<span class="type">int</span>[]&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((pair1, pair2) -&gt; pair1[<span class="number">1</span>] - pair2[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123; <span class="comment">//å°é¡¶å †åªéœ€è¦ç»´æŒkä¸ªå…ƒç´ æœ‰åº</span></span><br><span class="line">            <span class="keyword">if</span> (pq.size() &lt; k) &#123; <span class="comment">//å°é¡¶å †å…ƒç´ ä¸ªæ•°å°äºkä¸ªæ—¶ç›´æ¥åŠ </span></span><br><span class="line">                pq.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;entry.getKey(), entry.getValue()&#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (entry.getValue() &gt; pq.peek()[<span class="number">1</span>]) &#123; <span class="comment">//å½“å‰å…ƒç´ å‡ºç°æ¬¡æ•°å¤§äºå°é¡¶å †çš„æ ¹ç»“ç‚¹(è¿™kä¸ªå…ƒç´ ä¸­å‡ºç°æ¬¡æ•°æœ€å°‘çš„é‚£ä¸ª)</span></span><br><span class="line">                    pq.poll(); <span class="comment">//å¼¹å‡ºé˜Ÿå¤´(å°é¡¶å †çš„æ ¹ç»“ç‚¹),å³æŠŠå †é‡Œå‡ºç°æ¬¡æ•°æœ€å°‘çš„é‚£ä¸ªåˆ é™¤,ç•™ä¸‹çš„å°±æ˜¯å‡ºç°æ¬¡æ•°å¤šçš„äº†</span></span><br><span class="line">                    pq.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;entry.getKey(), entry.getValue()&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123; <span class="comment">//ä¾æ¬¡å¼¹å‡ºå°é¡¶å †,å…ˆå¼¹å‡ºçš„æ˜¯å †çš„æ ¹,å‡ºç°æ¬¡æ•°å°‘,åé¢å¼¹å‡ºçš„å‡ºç°æ¬¡æ•°å¤š</span></span><br><span class="line">            ans[i] = pq.poll()[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
çŠ¶æ€ï¼š239è¶…æ—¶ï¼Œ347ç›´æ¥ç”¨çš„Streamæµã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.05.31 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24.06.01 å®Œæˆé¢˜ç›®&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="ä»£ç éšæƒ³å½•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    
    
    <category term="é˜Ÿåˆ—" scheme="https://kiml.github.io/tags/%E9%98%9F%E5%88%97/"/>
    
    <category term="å•è°ƒé˜Ÿåˆ—" scheme="https://kiml.github.io/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/"/>
    
    <category term="ä¼˜å…ˆçº§é˜Ÿåˆ—" scheme="https://kiml.github.io/tags/%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•-SPI</title>
    <link href="https://kiml.github.io/2024/05/30/100000017/"/>
    <id>https://kiml.github.io/2024/05/30/100000017/</id>
    <published>2024-05-30T08:37:53.000Z</published>
    <updated>2024-06-02T14:30:11.967Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>SPIç›¸å…³çš„é¢è¯•é—®é¢˜åŠç”¨æ³•</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.05.30 åˆå§‹è®°å½•</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="SPIä»‹ç»">SPIä»‹ç»</h2><p>â€‹SPIå…¨ç§°Service Provider Interfaceï¼Œæ˜¯Javaæä¾›çš„ä¸€å¥—ç”¨æ¥è¢«ç¬¬ä¸‰æ–¹å®ç°æˆ–è€…æ‰©å±•çš„APIï¼Œå®ƒå¯ä»¥ç”¨æ¥å¯ç”¨æ¡†æ¶æ‰©å±•å’Œæ›¿æ¢ç»„ä»¶ã€‚<br>Javaçš„SPIæœºåˆ¶å°±æ˜¯å°†ä¸€äº›==<strong>ç±»ä¿¡æ¯å†™åœ¨çº¦å®šçš„æ–‡ä»¶ä¸­</strong>==ï¼Œç„¶åç”±ç‰¹å®šçš„ç±»åŠ è½½å™¨ServiceLoaderåŠ è½½è§£ææ–‡ä»¶è·å–èµ„æºã€‚<br>Java SPI åŸºäº â€œ<strong>æ¥å£ç¼–ç¨‹ï¼‹ç­–ç•¥æ¨¡å¼ï¼‹é…ç½®æ–‡ä»¶</strong>(çº¦å®š)â€ç»„åˆå®ç°çš„åŠ¨æ€åŠ è½½æœºåˆ¶ã€‚å®ƒæä¾›äº†ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå…è®¸åœ¨ç¨‹åºå¤–éƒ¨åŠ¨æ€æŒ‡å®šå…·ä½“å®ç°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯è°ƒç”¨æ–¹è°ƒç”¨å®ç°å¥½çš„æ¥å£ï¼Œä½†æ˜¯å½“æ¥å£å­˜åœ¨äºè°ƒç”¨æ–¹è¿™è¾¹æ—¶ï¼Œå°±æ˜¯ SPI ï¼Œç”±æ¥å£è°ƒç”¨æ–¹ç¡®å®šæ¥å£è§„åˆ™ï¼Œç„¶åç”±ä¸åŒçš„å‚å•†å»æ ¹æ®è¿™ä¸ªè§„åˆ™å¯¹è¿™ä¸ªæ¥å£è¿›è¡Œå®ç°ï¼Œä»è€Œæä¾›æœåŠ¡ã€‚â€‹ä»¥ä¸‹æ˜¯SPIçš„ä¸€äº›è¿ç”¨åœºæ™¯:</p><table><thead><tr><th>åœºæ™¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ•°æ®åº“é©±åŠ¨</td><td>æ•°æ®åº“é©±åŠ¨åŠ è½½æ¥å£å®ç°ç±»çš„åŠ è½½ JDBCåŠ è½½ä¸åŒç±»å‹æ•°æ®åº“çš„é©±åŠ¨</td></tr><tr><td>æ—¥å¿—é—¨é¢SLF4Jæ¥å£å®ç°ç±»åŠ è½½</td><td>SLF4JåŠ è½½ä¸åŒæä¾›å•†çš„æ—¥å¿—å®ç°ç±»</td></tr><tr><td>Spring</td><td>Springä¸­å¤§é‡ä½¿ç”¨äº†SPI,æ¯”å¦‚ï¼šå¯¹servlet3.0è§„èŒƒå¯¹ServletContainerInitializerçš„å®ç°ã€è‡ªåŠ¨ç±»å‹è½¬æ¢Type Conversion SPI(Converter SPIã€Formatter SPI)ç­‰</td></tr><tr><td>Dubbo</td><td>Dubboä¸­ä¹Ÿå¤§é‡ä½¿ç”¨SPIçš„æ–¹å¼å®ç°æ¡†æ¶çš„æ‰©å±•, ä¸è¿‡å®ƒå¯¹Javaæä¾›çš„åŸç”ŸSPIåšäº†å°è£…ï¼Œå…è®¸ç”¨æˆ·æ‰©å±•å®ç°Filteræ¥å£</td></tr><tr><td>SpringBoot</td><td>SpringBootåŸºäºSPIæ€æƒ³å®ç°è‡ªåŠ¨è£…é…</td></tr><tr><td>æ’ä»¶æ‰©å±•</td><td>å¼€æºæ¡†æ¶ï¼Œæƒ³ä½¿ç”¨åˆ«äººçš„æ’ä»¶ï¼Œæ‰©å±•æŸä¸ªåŠŸèƒ½ã€‚</td></tr></tbody></table><h2 id="ServiceLoader"><a class="link"   href="https://javaguide.cn/java/basis/spi.html#serviceloader" >ServiceLoader<i class="fas fa-external-link-alt"></i></a></h2><p>ç‚¹å‡»æ ‡é¢˜è·³è½¬é“¾æ¥åˆ°JavaGuideã€‚</p><h2 id="é¢è¯•å¤§ç™½è¯">é¢è¯•å¤§ç™½è¯</h2><p>Javaä¸­çš„SPIå°±æ˜¯ä½ æä¾›ä¸€ä¸ªæ¥å£ï¼Œç„¶åè®©åˆ«äººæä¾›å®ç°ç±»ã€‚ç„¶åå°†è¿™ä¸ªå®ç°æ”¾åœ¨<code>resources/META-INF/services/</code>ä¸­ã€‚è¿™æ ·Javaå¯åŠ¨çš„æ—¶å€™å°±ä¼šå»æ‰«æè¿™ä¸ªä¸‹é¢çš„jaråŒ…ï¼Œå¹¶æŠŠä»–åŠ è½½è¿›æ¥ã€‚ä¸€èˆ¬æ¥è¯´ç”¨åœ¨å¼€æºæ¡†æ¶ä¸­çš„æ’ä»¶æ‰©å±•ï¼Œç„¶åæ¯”è¾ƒå¸¸è§çš„æ€æƒ³æç°å°±æ˜¯Javaçš„JDBCå®ç°ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±ä½¿ç”¨çš„æ•°æ®åº“ï¼Œå°†å¯¹åº”çš„jaråŒ…å¼•ç”¨è¿›æ¥ã€‚</p><p>ï¼ˆDubboä¸­å¯èƒ½é—®åˆ°çš„é—®é¢˜ï¼‰Dubboä¸­ä¹Ÿä½¿ç”¨äº†è¿™ä¸ªæ€æƒ³: æ¯”å¦‚è¯´æœ‰ä¸€è¡Œä»£ç æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Protocol</span> <span class="variable">protocol</span> <span class="operator">=</span> ExtensionLoader.getExtensionLoader(Protocol.class).getAdaptiveExtension();</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä½¿ç”¨Protocolæ¥å£æ—¶ï¼Œdubboä»–ä¼šå»æ‰¾ä¸€ä¸ªä½ é…ç½®çš„Protocolï¼Œä»–å°±ä¼šå°†ä½ é…ç½®çš„Protocolå®ç°ç±»ï¼ŒåŠ è½½åˆ°jvmä¸­æ¥ï¼Œç„¶åå®ä¾‹åŒ–å¯¹è±¡ï¼Œå°±ç”¨ä½ çš„é‚£ä¸ªProtocolå®ç°ç±»å°±å¯ä»¥äº†ã€‚è¿™ä¸ªProtocolå°±æ˜¯ç”¨æ¥é…ç½®ä»–çš„ç½‘ç»œåè®®çš„ï¼Œç„¶ååœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯dubboåè®®ï¼Œå°±æ˜¯DubboProtocolã€‚dubboé‡Œé¢æä¾›äº†å¤§é‡çš„ç±»ä¼¼ä¸Šé¢çš„æ‰©å±•ç‚¹ï¼Œå°±æ˜¯è¯´ï¼Œä½ å¦‚æœè¦æ‰©å±•ä¸€ä¸ªä¸œè¥¿ï¼Œåªè¦è‡ªå·±å†™ä¸ªjarï¼Œè®©ä½ çš„consumeræˆ–è€…æ˜¯providerå·¥ç¨‹ï¼Œä¾èµ–ä½ çš„é‚£ä¸ªjarï¼Œåœ¨ä½ çš„jaré‡ŒæŒ‡å®šç›®å½•ä¸‹é…ç½®å¥½æ¥å£åç§°å¯¹åº”çš„æ–‡ä»¶ï¼Œé‡Œé¢é€šè¿‡key=å®ç°ç±»ï¼ˆè¿™äº›éƒ½å¯ä»¥åœ¨å®˜ç½‘çš„æ–‡æ¡£é‡Œæ‰¾åˆ°ï¼‰ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
SPIç›¸å…³çš„é¢è¯•é—®é¢˜åŠç”¨æ³•&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.05.30 åˆå§‹è®°å½•&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="å…«è‚¡æ–‡" scheme="https://kiml.github.io/categories/%E9%9D%A2%E8%AF%95/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
    <category term="SPI" scheme="https://kiml.github.io/tags/SPI/"/>
    
    <category term="é¢è¯•é¢˜" scheme="https://kiml.github.io/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
    <category term="JavaåŸºç¡€" scheme="https://kiml.github.io/tags/Java%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>ã€ä»£ç æ¨¡æ¿ã€‘æ–‡ä»¶å­˜å‚¨</title>
    <link href="https://kiml.github.io/2024/05/30/100000014/"/>
    <id>https://kiml.github.io/2024/05/30/100000014/</id>
    <published>2024-05-30T07:13:41.000Z</published>
    <updated>2024-06-01T03:35:56.227Z</updated>
    
    <content type="html"><![CDATA[<ul class="lvl-0"><li class="lvl-2"><p>å‰è¨€<br>é¡¹ç›®ä¸­å¸¸ç”¨åˆ°æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ã€‚</p></li><li class="lvl-2"><p>æ›´æ–°</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">24.05.30 åˆå§‹è®°å½•ï¼ˆMinioï¼Œé˜¿é‡Œäº‘OSSï¼‰</span><br></pre></td></tr></table></figure><span id="more"></span><h1>æ–‡ä»¶ä¸Šä¼ </h1><ol><li class="lvl-3"><p>æ ¡éªŒ</p><ul class="lvl-2"><li class="lvl-6">æ–‡ä»¶æ˜¯å¦ä¸ºç©º</li><li class="lvl-6">æ–‡ä»¶çš„æ ¼å¼</li><li class="lvl-6">æ–‡ä»¶çš„å¤§å°</li></ul></li><li class="lvl-3"><p>æ–‡ä»¶é‡å‘½å</p></li><li class="lvl-3"><p>æ–‡ä»¶ç›®å½•åˆ†ç¦»</p><ul class="lvl-2"><li class="lvl-6">ä½¿ç”¨ç›®å½•åˆ†ç¦»ç®—æ³•(HashæŠŠhashå€¼ä½œä¸ºç›®å½•åç§°)</li><li class="lvl-6">æŒ‰ç…§æ—¥æœŸåˆ†ç›®å½•(æ¯å¤©åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•)</li><li class="lvl-6">æŒ‰ç…§ç”¨æˆ·ååˆ†ç›®å½•</li></ul></li><li class="lvl-3"><p>å›¾ç‰‡ä¿å­˜åœ°ç‚¹</p><ul class="lvl-2"><li class="lvl-6">webæœåŠ¡å™¨ï¼ˆé¡¹ç›®æ‰€è¿è¡Œåœ¨çš„ç”µè„‘ï¼‰</li><li class="lvl-6">äº‘å­˜å‚¨æœåŠ¡å•†</li><li class="lvl-6">è‡ªå·±æ­å»ºæ–‡ä»¶æœåŠ¡å™¨ï¼ˆFastDFS Minioï¼‰</li></ul></li></ol><h2 id="é€šç”¨éƒ¨åˆ†ä»£ç ">é€šç”¨éƒ¨åˆ†ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment"> * æ–‡ä»¶ä¸Šä¼   </span></span><br><span class="line"><span class="comment"> *  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> file æ–‡ä»¶  </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Boolean  </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;common&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">uploadPic</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// æ ¡éªŒ</span></span><br><span class="line">        <span class="comment">// æ ¡éªŒæ–‡ä»¶æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span> (ObjectUtil.isNull(file)) <span class="keyword">return</span> R.error(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶ä¸èƒ½ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="comment">// æ ¡éªŒæ–‡ä»¶çš„æ ¼å¼</span></span><br><span class="line">        <span class="keyword">if</span> (!StrUtil.containsAnyIgnoreCase(FileUtil.getSuffix(file.getOriginalFilename()), <span class="string">&quot;jpg&quot;</span>, <span class="string">&quot;png&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶æ ¼å¼é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¡éªŒæ–‡ä»¶çš„å¤§å°</span></span><br><span class="line">        <span class="keyword">if</span> (file.getSize() / <span class="number">1024</span> / <span class="number">1024</span> &gt; <span class="number">2</span>) <span class="keyword">return</span> R.error(<span class="string">&quot;æ–‡ä»¶è¿‡å¤§ï¼Œé™åˆ¶åœ¨2MBä»¥å†…&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç»™æ–‡ä»¶è¿›è¡Œé‡å‘½å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.fastUUID().toString() + <span class="string">&quot;.&quot;</span> + FileUtil.getSuffix(file.getOriginalFilename());</span><br><span class="line">        <span class="comment">// ç»™æ–‡ä»¶ç›®å½•åˆ†ç¦»</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å›¾ç‰‡ä¿å­˜åœ°ç‚¹ï¼ˆä¸åŒä¿å­˜åœ°ç‚¹å®ç°æ–¹å¼ä¸åŒï¼‰</span></span><br><span class="line">        .....</span><br><span class="line">        <span class="keyword">return</span> R.success(fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸åŒçš„ä¿å­˜åœ°ç‚¹">ä¸åŒçš„ä¿å­˜åœ°ç‚¹</h2><h2 id="webæœåŠ¡å™¨ï¼ˆé¡¹ç›®æ‰€è¿è¡Œåœ¨çš„ç”µè„‘ï¼‰">webæœåŠ¡å™¨ï¼ˆé¡¹ç›®æ‰€è¿è¡Œåœ¨çš„ç”µè„‘ï¼‰</h2><ol><li class="lvl-3"><p>æ–‡ä»¶ä¸Šä¼ éƒ¨åˆ†ä»£ç </p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ç§æƒ…å†µä¸‹ï¼Œæ–‡ä»¶å­˜å‚¨è·¯å¾„ä¸ºæœåŠ¡å™¨ä¸Šçš„è·¯å¾„åç§°</span></span><br><span class="line">file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\images\\&quot;</span> + fileName));</span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>ä¸‹è½½</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>å‰ç«¯ç›´æ¥è®¿é—®æœåŠ¡å™¨åŸŸå+å­˜å‚¨åœ°å€</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç ä¸­éœ€è¦æ·»åŠ è®¿é—®èµ„æºæ˜ å°„åœ°å€</span></span><br><span class="line"><span class="comment">// åœ¨æ‹¦æˆªå™¨ä¸­é…ç½®</span></span><br><span class="line"><span class="meta">@Configuration</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;  </span><br><span class="line">    <span class="meta">@Autowired</span>  </span><br><span class="line">    <span class="keyword">private</span> AuthInterceptor authInterceptor;  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DWG</span> <span class="operator">=</span> <span class="string">&quot;file:&quot;</span> + <span class="string">&quot;D:/images/&quot;</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ è®¿é—®èµ„æºçš„åœ°å€</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/virtual/**&quot;</span>).addResourceLocations(DWG);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;  </span><br><span class="line">        registry.addInterceptor(authInterceptor)  </span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)  </span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/**/login/**&quot;</span>, <span class="string">&quot;/**/*.html&quot;</span>, <span class="string">&quot;/**/*.js&quot;</span>, <span class="string">&quot;/**/*.css&quot;</span>, <span class="string">&quot;/doc.*&quot;</span>,  </span><br><span class="line">                        <span class="string">&quot;/swagger-ui.*&quot;</span>,  </span><br><span class="line">                        <span class="string">&quot;/swagger-resources&quot;</span>,  </span><br><span class="line">                        <span class="string">&quot;/webjars/**&quot;</span>,  </span><br><span class="line">                        <span class="string">&quot;/v2/api-docs/**&quot;</span>,  </span><br><span class="line">                        <span class="string">&quot;/virtual/**&quot;</span>  </span><br><span class="line">                );  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>å‰ç«¯é€šè¿‡æ¥å£ä¸‹è½½æ–‡ä»¶</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;download&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">downloadPic</span><span class="params">(String name, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\images\\&quot;</span> + name);</span><br><span class="line">    <span class="type">ServletOutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line"></span><br><span class="line">    <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((len = fileInputStream.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        outputStream.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fileInputStream.close();</span><br><span class="line">    outputStream.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº‘å­˜å‚¨æœåŠ¡å•†">äº‘å­˜å‚¨æœåŠ¡å•†</h2><p>é€šè¿‡å¼€é€šäº‘å­˜å‚¨æœåŠ¡å•†çš„OSSæœåŠ¡ï¼Œè°ƒç”¨æä¾›çš„APIï¼Œå®ç°æ–‡ä»¶å­˜å‚¨ã€‚ä¸€èˆ¬åé¢ä¸¤ç§æƒ…å†µä¼šç›´æ¥ç¼–å†™Utilç±»æ–¹ä¾¿å¤šå¤„è°ƒç”¨ã€‚</p><h3 id="é˜¿é‡Œäº‘">é˜¿é‡Œäº‘</h3><h4 id="Mavenä¾èµ–">Mavenä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aliyun:</span>  </span><br><span class="line">  <span class="attr">oss:</span>  </span><br><span class="line">    <span class="attr">endpoint:</span> <span class="string">oss-cn-hangzhou.aliyuncs.com</span>  </span><br><span class="line">    <span class="attr">accessKeyId:</span> <span class="string">xxxxxxxxxxxxxxxx</span>  </span><br><span class="line">    <span class="attr">accessKeySecret:</span> <span class="string">xxxxxxxxxxxxxxxx</span>  </span><br><span class="line">    <span class="attr">bucket:</span>  <span class="string">xxxxxxxxxxxxxxxx</span></span><br><span class="line">    <span class="attr">userFolder:</span> <span class="string">user/</span>  </span><br><span class="line">    <span class="attr">managerFolder:</span> <span class="string">manager/</span></span><br></pre></td></tr></table></figure><h4 id="ä»£ç ">ä»£ç </h4><ul class="lvl-0"><li class="lvl-2"><p>OssAutoConfiguration.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  </span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123;OSSClient.class&#125;)</span>  </span><br><span class="line"><span class="meta">@EnableConfigurationProperties(OssProperties.class)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OssAutoConfiguration</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> OssProperties ossProperties;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OssAutoConfiguration</span><span class="params">(<span class="keyword">final</span> OssProperties ossProperties)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.ossProperties = ossProperties;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Bean</span>  </span><br><span class="line">    <span class="keyword">public</span> OssClientFactoryBean <span class="title function_">ossClientFactoryBean</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">final</span> <span class="type">OssClientFactoryBean</span> <span class="variable">factoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OssClientFactoryBean</span>();  </span><br><span class="line">        factoryBean.setEndpoint(<span class="built_in">this</span>.ossProperties.getEndpoint());  </span><br><span class="line">        factoryBean.setAccessKeyId(<span class="built_in">this</span>.ossProperties.getAccessKeyId());  </span><br><span class="line">        factoryBean.setAccessKeySecret(<span class="built_in">this</span>.ossProperties.getAccessKeySecret());  </span><br><span class="line">        <span class="keyword">return</span> factoryBean;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>OssClientFactoryBean.class</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OssClientFactoryBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;OSSClient&gt;, InitializingBean, DisposableBean &#123;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> OSSClient ossClient;  </span><br><span class="line">    <span class="keyword">private</span> String endpoint;  </span><br><span class="line">    <span class="keyword">private</span> String accessKeyId;  </span><br><span class="line">    <span class="keyword">private</span> String accessKeySecret;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> OSSClient <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.ossClient;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;  </span><br><span class="line">        <span class="keyword">return</span> OSSClient.class;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.ossClient != <span class="literal">null</span>) &#123;  </span><br><span class="line">            <span class="built_in">this</span>.ossClient.shutdown();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;  </span><br><span class="line">        Assert.notNull(<span class="built_in">this</span>.endpoint, <span class="string">&quot;&#x27;aliyun.oss.endpoint&#x27; must be not null&quot;</span>);  </span><br><span class="line">        Assert.notNull(<span class="built_in">this</span>.accessKeyId, <span class="string">&quot;&#x27;aliyun.oss.accessKeyId&#x27; must be not null&quot;</span>);  </span><br><span class="line">        Assert.notNull(<span class="built_in">this</span>.accessKeySecret, <span class="string">&quot;&#x27;aliyun.oss.accessKeySecret&#x27; must be not null&quot;</span>);  </span><br><span class="line">        <span class="built_in">this</span>.ossClient = <span class="keyword">new</span> <span class="title class_">OSSClient</span>(<span class="built_in">this</span>.endpoint, <span class="built_in">this</span>.accessKeyId, <span class="built_in">this</span>.accessKeySecret);  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEndpoint</span><span class="params">(<span class="keyword">final</span> String endpoint)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.endpoint = endpoint;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccessKeyId</span><span class="params">(<span class="keyword">final</span> String accessKeyId)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.accessKeyId = accessKeyId;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccessKeySecret</span><span class="params">(<span class="keyword">final</span> String accessKeySecret)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.accessKeySecret = accessKeySecret;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>OssProperties.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span>  </span><br><span class="line"><span class="meta">@Setter</span>  </span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;aliyun.oss&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OssProperties</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String endpoint;  </span><br><span class="line">    <span class="keyword">private</span> String accessKeyId;  </span><br><span class="line">    <span class="keyword">private</span> String accessKeySecret;  </span><br><span class="line">    <span class="keyword">private</span> String bucket;  </span><br><span class="line">    <span class="keyword">private</span> String userFolder;  </span><br><span class="line">    <span class="keyword">private</span> String managerFolder;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>OssUtil.class</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span>  </span><br><span class="line"><span class="meta">@Component</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OssUtil</span> &#123;  </span><br><span class="line">    <span class="meta">@Autowired</span>  </span><br><span class="line">    <span class="keyword">private</span> OSSClient ossClient;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Autowired</span>  </span><br><span class="line">    <span class="keyword">private</span> OssProperties ossProperties;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * ä¸Šä¼ æ–‡ä»¶  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> folder &quot;éœ€è¦åŠ / å¦‚&quot;xxx/&quot;&quot;  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ–‡ä»¶åœ°å€  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(MultipartFile file, String folder)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">bucketName</span> <span class="operator">=</span> ossProperties.getBucket();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// åˆ¤æ–­Bucketçš„å­˜åœ¨  </span></span><br><span class="line">        <span class="keyword">if</span> (!ossClient.doesBucketExist(bucketName)) &#123;  </span><br><span class="line">            <span class="comment">// åˆ›å»ºå­˜å‚¨ç©ºé—´  </span></span><br><span class="line">            <span class="type">Bucket</span> <span class="variable">bucket</span> <span class="operator">=</span> ossClient.createBucket(bucketName);  </span><br><span class="line">            bucketName = bucket.getName();  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">String</span> <span class="variable">objectName</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="comment">// ä»¥è¾“å…¥æµçš„å½¢å¼ä¸Šä¼ æ–‡ä»¶  </span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> file.getInputStream();  </span><br><span class="line">            <span class="comment">// æ–‡ä»¶å  </span></span><br><span class="line">            <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();  </span><br><span class="line">            <span class="keyword">if</span> (ObjectUtil.isNull(originalFilename)) &#123;  </span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">LogicException</span>(<span class="string">&quot;æ–‡ä»¶åç§°è·å–å¤±è´¥&quot;</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">            <span class="type">val</span> <span class="variable">suffix</span> <span class="operator">=</span> originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));  </span><br><span class="line">            <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.fastUUID().toString() + suffix.toLowerCase();  </span><br><span class="line">            objectName = folder + DateUtil.format(<span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="string">&quot;yy-MM/dd&quot;</span>) + <span class="string">&quot;/&quot;</span> + fileName;  </span><br><span class="line">  </span><br><span class="line">            <span class="comment">// æ–‡ä»¶å¤§å°  </span></span><br><span class="line">            <span class="type">long</span> <span class="variable">fileSize</span> <span class="operator">=</span> file.getSize();  </span><br><span class="line">  </span><br><span class="line">            <span class="comment">// åˆ›å»ºä¸Šä¼ Objectçš„Metadata  </span></span><br><span class="line">            <span class="type">ObjectMetadata</span> <span class="variable">metadata</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMetadata</span>();  </span><br><span class="line">            <span class="comment">// ä¸Šä¼ çš„æ–‡ä»¶çš„é•¿åº¦  </span></span><br><span class="line">            metadata.setContentLength(is.available());  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectè¢«ä¸‹è½½æ—¶çš„ç½‘é¡µçš„ç¼“å­˜è¡Œä¸º  </span></span><br><span class="line">            metadata.setCacheControl(<span class="string">&quot;no-cache&quot;</span>);  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectä¸‹è®¾ç½®Header  </span></span><br><span class="line">            metadata.setHeader(<span class="string">&quot;Pragma&quot;</span>, <span class="string">&quot;no-cache&quot;</span>);  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectè¢«ä¸‹è½½æ—¶çš„å†…å®¹ç¼–ç æ ¼å¼  </span></span><br><span class="line">            metadata.setContentEncoding(<span class="string">&quot;utf-8&quot;</span>);  </span><br><span class="line">            <span class="comment">// æ–‡ä»¶çš„MIMEï¼Œå®šä¹‰æ–‡ä»¶çš„ç±»å‹åŠç½‘é¡µç¼–ç ï¼Œå†³å®šæµè§ˆå™¨å°†ä»¥ä»€ä¹ˆå½¢å¼ã€ä»€ä¹ˆç¼–ç è¯»å–æ–‡ä»¶ã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰æŒ‡å®šåˆ™æ ¹æ®Keyæˆ–æ–‡ä»¶åçš„æ‰©å±•åç”Ÿæˆï¼Œ  </span></span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰©å±•ååˆ™å¡«é»˜è®¤å€¼application/octet-stream  </span></span><br><span class="line">            metadata.setContentType(AliyunOssFileTypeEnum.getText(suffix.toLowerCase()));  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectè¢«ä¸‹è½½æ—¶çš„åç§°ï¼ˆæŒ‡ç¤ºMINMEç”¨æˆ·ä»£ç†å¦‚ä½•æ˜¾ç¤ºé™„åŠ çš„æ–‡ä»¶ï¼Œæ‰“å¼€æˆ–ä¸‹è½½ï¼ŒåŠæ–‡ä»¶åç§°ï¼‰  </span></span><br><span class="line">            metadata.setContentDisposition(<span class="string">&quot;filename/filesize=&quot;</span> + originalFilename + <span class="string">&quot;/&quot;</span> + fileSize + <span class="string">&quot;Byte.&quot;</span>);  </span><br><span class="line">            <span class="comment">// ä¸Šä¼ æ–‡ä»¶ (ä¸Šä¼ æ–‡ä»¶æµçš„å½¢å¼)  </span></span><br><span class="line">            <span class="type">PutObjectResult</span> <span class="variable">putResult</span> <span class="operator">=</span> ossClient.putObject(bucketName, objectName, is, metadata);  </span><br><span class="line">            <span class="comment">// è§£æç»“æœ  </span></span><br><span class="line">            <span class="type">String</span> <span class="variable">resultStr</span> <span class="operator">=</span> putResult.getETag();  </span><br><span class="line">            log.info(<span class="string">&quot;å”¯ä¸€MD5æ•°å­—ç­¾å:&quot;</span> + resultStr);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (OSSException oe) &#123;  </span><br><span class="line">            <span class="comment">// oe.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;ä¸Šä¼ é˜¿é‡Œäº‘OSSæœåŠ¡å™¨å¼‚å¸¸.&quot;</span> + oe.getMessage(), oe);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClientException ce) &#123;  </span><br><span class="line">            <span class="comment">// ce.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;é˜¿é‡Œäº‘OSSæœåŠ¡è¿æ¥å¼‚å¸¸.&quot;</span> + ce.getMessage(), ce);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">            <span class="comment">// e.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;æ–‡ä»¶æµå¼‚å¸¸.&quot;</span> + e.getMessage(), e);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;https://&quot;</span> + ossProperties.getBucket() + <span class="string">&quot;.&quot;</span> + ossProperties.getEndpoint() + <span class="string">&quot;/&quot;</span> + objectName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * ä¸Šä¼ æ–‡ä»¶ byte ()  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> folder &quot;éœ€è¦åŠ / å¦‚&quot;xxx/&quot;&quot;  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ–‡ä»¶åœ°å€  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">imgUploadByByte</span><span class="params">(<span class="type">byte</span>[] bytes, String folder)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">bucketName</span> <span class="operator">=</span> ossProperties.getBucket();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// åˆ¤æ–­Bucketçš„å­˜åœ¨  </span></span><br><span class="line">        <span class="keyword">if</span> (!ossClient.doesBucketExist(bucketName)) &#123;  </span><br><span class="line">            <span class="comment">// åˆ›å»ºå­˜å‚¨ç©ºé—´  </span></span><br><span class="line">            <span class="type">Bucket</span> <span class="variable">bucket</span> <span class="operator">=</span> ossClient.createBucket(bucketName);  </span><br><span class="line">            bucketName = bucket.getName();  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">String</span> <span class="variable">objectName</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(bytes);  </span><br><span class="line">  </span><br><span class="line">            <span class="type">val</span> <span class="variable">suffix</span> <span class="operator">=</span> <span class="string">&quot;jpg&quot;</span>;  </span><br><span class="line">            <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.fastUUID().toString() +suffix;  </span><br><span class="line">            objectName = folder + DateUtil.format(<span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="string">&quot;yy-MM/dd&quot;</span>) + <span class="string">&quot;/&quot;</span> + fileName;  </span><br><span class="line">  </span><br><span class="line">            <span class="comment">// åˆ›å»ºä¸Šä¼ Objectçš„Metadata  </span></span><br><span class="line">            <span class="type">ObjectMetadata</span> <span class="variable">metadata</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMetadata</span>();  </span><br><span class="line">            <span class="comment">// ä¸Šä¼ çš„æ–‡ä»¶çš„é•¿åº¦  </span></span><br><span class="line">            metadata.setContentLength(inputStream.available());  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectè¢«ä¸‹è½½æ—¶çš„ç½‘é¡µçš„ç¼“å­˜è¡Œä¸º  </span></span><br><span class="line">            metadata.setCacheControl(<span class="string">&quot;no-cache&quot;</span>);  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectä¸‹è®¾ç½®Header  </span></span><br><span class="line">            metadata.setHeader(<span class="string">&quot;Pragma&quot;</span>, <span class="string">&quot;no-cache&quot;</span>);  </span><br><span class="line">            <span class="comment">// æŒ‡å®šè¯¥Objectè¢«ä¸‹è½½æ—¶çš„å†…å®¹ç¼–ç æ ¼å¼  </span></span><br><span class="line">            metadata.setContentEncoding(<span class="string">&quot;utf-8&quot;</span>);  </span><br><span class="line">            <span class="comment">// æ–‡ä»¶çš„MIMEï¼Œå®šä¹‰æ–‡ä»¶çš„ç±»å‹åŠç½‘é¡µç¼–ç ï¼Œå†³å®šæµè§ˆå™¨å°†ä»¥ä»€ä¹ˆå½¢å¼ã€ä»€ä¹ˆç¼–ç è¯»å–æ–‡ä»¶ã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰æŒ‡å®šåˆ™æ ¹æ®Keyæˆ–æ–‡ä»¶åçš„æ‰©å±•åç”Ÿæˆï¼Œ  </span></span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰©å±•ååˆ™å¡«é»˜è®¤å€¼application/octet-stream  </span></span><br><span class="line">            metadata.setContentType(AliyunOssFileTypeEnum.getText(suffix));  </span><br><span class="line">            <span class="comment">// ä¸Šä¼ æ–‡ä»¶ (ä¸Šä¼ æ–‡ä»¶æµçš„å½¢å¼)  </span></span><br><span class="line">            <span class="type">PutObjectResult</span> <span class="variable">putResult</span> <span class="operator">=</span> ossClient.putObject(bucketName, objectName, inputStream, metadata);  </span><br><span class="line">            <span class="comment">// è§£æç»“æœ  </span></span><br><span class="line">            <span class="type">String</span> <span class="variable">resultStr</span> <span class="operator">=</span> putResult.getETag();  </span><br><span class="line">            log.info(<span class="string">&quot;å”¯ä¸€MD5æ•°å­—ç­¾å:&quot;</span> + resultStr);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (OSSException oe) &#123;  </span><br><span class="line">            <span class="comment">// oe.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;ä¸Šä¼ é˜¿é‡Œäº‘OSSæœåŠ¡å™¨å¼‚å¸¸.&quot;</span> + oe.getMessage(), oe);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClientException ce) &#123;  </span><br><span class="line">            <span class="comment">// ce.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;é˜¿é‡Œäº‘OSSæœåŠ¡è¿æ¥å¼‚å¸¸.&quot;</span> + ce.getMessage(), ce);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;  </span><br><span class="line">            <span class="comment">// e.printStackTrace();  </span></span><br><span class="line">            log.error(<span class="string">&quot;æ–‡ä»¶æµå¼‚å¸¸.&quot;</span> + e.getMessage(), e);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;https://&quot;</span> + ossProperties.getBucket() + <span class="string">&quot;.&quot;</span> + ossProperties.getEndpoint() + <span class="string">&quot;/&quot;</span> + objectName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ ¹æ®objectNameåˆ é™¤OSSæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶  </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> objectName     æ¨¡æ‹Ÿæ–‡ä»¶å¤¹å å¦‚&quot;qj_nanjing/&quot; + Bucketä¸‹çš„æ–‡ä»¶çš„è·¯å¾„å+æ–‡ä»¶å å¦‚ï¼š&quot;upload/cake.jpg&quot;  </span></span><br><span class="line"><span class="comment">     */</span>   </span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">deleteFile</span><span class="params">(String objectName)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">bucketName</span> <span class="operator">=</span> ossProperties.getBucket();  </span><br><span class="line">        ossClient.deleteObject(bucketName, objectName);  </span><br><span class="line">        log.info(<span class="string">&quot;åˆ é™¤&quot;</span> + bucketName + <span class="string">&quot;ä¸‹çš„æ–‡ä»¶&quot;</span> + objectName + <span class="string">&quot;æˆåŠŸ&quot;</span>);  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ ¹æ®urlè·å–objectName  </span></span><br><span class="line"><span class="comment">     *     * <span class="doctag">@param</span> url url  </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getObjectNameByUrl</span><span class="params">(String url)</span> &#123;  </span><br><span class="line"><span class="comment">//        url = url.replace(&quot;https://&quot; + ossProperties.getBucket() + &quot;.&quot; + ossProperties.getEndpoint() + &quot;/&quot;, &quot;&quot;);  </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">firstIndex</span> <span class="operator">=</span> url.indexOf(<span class="string">&quot;/&quot;</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">secondIndex</span> <span class="operator">=</span> url.indexOf(<span class="string">&quot;/&quot;</span>, firstIndex + <span class="number">1</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">thirdIndex</span> <span class="operator">=</span> url.indexOf(<span class="string">&quot;/&quot;</span>, secondIndex + <span class="number">1</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">suffix</span> <span class="operator">=</span> url.lastIndexOf(<span class="string">&quot;?&quot;</span>) &gt; <span class="number">0</span> ? url.lastIndexOf(<span class="string">&quot;?&quot;</span>) : url.length();  </span><br><span class="line">        url = url.substring(thirdIndex + <span class="number">1</span>, suffix);  </span><br><span class="line">        <span class="keyword">return</span> url;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * è·å–ä¸Šä¼ æ–‡ä»¶url (éå…¬å…±è¯»å†™æ—¶)  </span></span><br><span class="line"><span class="comment">     *     * <span class="doctag">@param</span> objectName æ¨¡æ‹Ÿæ–‡ä»¶å¤¹å å¦‚&quot;qj_nanjing/&quot; + Bucketä¸‹çš„æ–‡ä»¶çš„è·¯å¾„å+æ–‡ä»¶å å¦‚ï¼š&quot;upload/cake.jpg&quot;  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> url  </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUrl</span><span class="params">(String objectName)</span> &#123;  </span><br><span class="line">        <span class="comment">//è®¾ç½®URlè¿‡æœŸæ—¶é—´ä¸º99å¹´ï¼š3600L*1000*24*365*99  </span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">expiration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>().getTime() + <span class="number">3600L</span> * <span class="number">1000</span> * <span class="number">24</span> * <span class="number">365</span> * <span class="number">99</span>);  </span><br><span class="line">        <span class="type">GeneratePresignedUrlRequest</span> <span class="variable">generatePresignedUrlRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GeneratePresignedUrlRequest</span>(ossProperties.getBucket(), objectName);  </span><br><span class="line">        generatePresignedUrlRequest.setExpiration(expiration);  </span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> ossClient.generatePresignedUrl(generatePresignedUrlRequest);  </span><br><span class="line">        <span class="keyword">return</span> url.toString();  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Minio">Minio</h3><h4 id="Mavenä¾èµ–-2">Mavenä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.minio<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>minio<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--SPI--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶-2">é…ç½®æ–‡ä»¶</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">minio:</span>  </span><br><span class="line">  <span class="attr">endpoint:</span> <span class="string">xxxxxxxxxxxxxxxxxxxxxx</span> <span class="comment">#MinIOæœåŠ¡æ‰€åœ¨åœ°å€  </span></span><br><span class="line">  <span class="attr">bucketName:</span> <span class="string">xxxxxxxxxxx</span> <span class="comment">#å­˜å‚¨æ¡¶åç§°  </span></span><br><span class="line">  <span class="attr">accessKey:</span> <span class="string">xxxxxxxxxxxxxxxx</span> <span class="comment">#è®¿é—®çš„key  </span></span><br><span class="line">  <span class="attr">secretKey:</span> <span class="string">xxxxxxxxxxxxxxxxxxx</span> <span class="comment">#è®¿é—®çš„ç§˜é’¥</span></span><br></pre></td></tr></table></figure><h4 id="ä»£ç -2">ä»£ç </h4><ul class="lvl-0"><li class="lvl-2"><p>MinioProp.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;minio&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MinioProp</span> &#123;  </span><br><span class="line">    <span class="keyword">private</span> String endpoint;  </span><br><span class="line">    <span class="keyword">private</span> String accessKey;  </span><br><span class="line">    <span class="keyword">private</span> String secretKey;  </span><br><span class="line">    <span class="keyword">private</span> String bucketName;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEndpoint</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> endpoint;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEndpoint</span><span class="params">(String endpoint)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.endpoint = endpoint;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAccessKey</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> accessKey;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccessKey</span><span class="params">(String accessKey)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.accessKey = accessKey;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSecretKey</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> secretKey;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSecretKey</span><span class="params">(String secretKey)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.secretKey = secretKey;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBucketName</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> bucketName;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBucketName</span><span class="params">(String bucket)</span> &#123;  </span><br><span class="line">        <span class="built_in">this</span>.bucketName = bucket;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>OSSFile.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OSSFile</span> &#123;  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶å  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">private</span> String fileName;  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶å­˜å‚¨åœ°å€  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">private</span> String url;  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ObjectName  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">private</span> String objectName;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>MinioUtil.java</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>  </span><br><span class="line"><span class="meta">@Slf4j</span>  </span><br><span class="line"><span class="meta">@EnableConfigurationProperties(MinioProp.class)</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MinioUtil</span> &#123;  </span><br><span class="line">    <span class="meta">@Resource</span>  </span><br><span class="line">    <span class="keyword">private</span> MinioProp prop;  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> MinioClient minioClient;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆ›å»ºminioClient  </span></span><br><span class="line"><span class="comment">     */</span>    <span class="meta">@PostConstruct</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createMinioClient</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">null</span> == minioClient) &#123;  </span><br><span class="line">                log.info(<span class="string">&quot;minioClient create start&quot;</span>);  </span><br><span class="line">                minioClient = MinioClient.builder().endpoint(prop.getEndpoint())  </span><br><span class="line">                        .credentials(prop.getAccessKey(), prop.getSecretKey())  </span><br><span class="line">                        .build();  </span><br><span class="line">                createBucket();  </span><br><span class="line">                log.info(<span class="string">&quot;minioClient create end&quot;</span>);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            log.error(<span class="string">&quot;è¿æ¥MinIOæœåŠ¡å™¨å¼‚å¸¸ï¼š&quot;</span> + e);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–Bucket  </span></span><br><span class="line"><span class="comment">     *     * <span class="doctag">@throws</span> Exception å¼‚å¸¸  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createBucket</span><span class="params">()</span>  </span><br><span class="line">            <span class="keyword">throws</span> IOException, InvalidKeyException, InvalidResponseException, InsufficientDataException, NoSuchAlgorithmException, ServerException, InternalException, XmlParserException, InvalidBucketNameException, ErrorResponseException, RegionConflictException &#123;  </span><br><span class="line">        <span class="keyword">if</span> (!minioClient.bucketExists(BucketExistsArgs.builder().bucket(prop.getBucketName()).build())) &#123;  </span><br><span class="line">            minioClient.makeBucket(MakeBucketArgs.builder().bucket(prop.getBucketName()).build());  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æŸ¥çœ‹å­˜å‚¨bucketæ˜¯å¦å­˜åœ¨  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean  </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">bucketExists</span><span class="params">(String bucketName)</span> &#123;  </span><br><span class="line">        Boolean found;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            found = minioClient.bucketExists(BucketExistsArgs.builder().bucket(bucketName).build());  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> found;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆ›å»ºå­˜å‚¨bucket  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Boolean  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">makeBucket</span><span class="params">(String bucketName)</span> &#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="keyword">if</span> (!bucketExists(bucketName)) &#123;  </span><br><span class="line">                minioClient.makeBucket(MakeBucketArgs.builder()  </span><br><span class="line">                        .bucket(bucketName)  </span><br><span class="line">                        .build());  </span><br><span class="line">                <span class="type">String</span> <span class="variable">policyJson</span> <span class="operator">=</span> <span class="string">&quot;&#123;\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\&quot;Version\&quot;: \&quot;&quot;</span>+<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-mm-dd&quot;</span>).format(System.currentTimeMillis())+<span class="string">&quot;\&quot;,\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\&quot;Statement\&quot;: [&#123;\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Effect\&quot;: \&quot;Allow\&quot;,\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Principal\&quot;: &#123;\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\t\&quot;AWS\&quot;: [\&quot;*\&quot;]\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t&#125;,\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Action\&quot;: [\&quot;s3:GetBucketLocation\&quot;, \&quot;s3:ListBucket\&quot;, \&quot;s3:ListBucketMultipartUploads\&quot;],\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Resource\&quot;: [\&quot;arn:aws:s3:::&quot;</span> + bucketName + <span class="string">&quot;\&quot;]\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t&#125;, &#123;\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Effect\&quot;: \&quot;Allow\&quot;,\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Principal\&quot;: &#123;\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\t\&quot;AWS\&quot;: [\&quot;*\&quot;]\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t&#125;,\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Action\&quot;: [\&quot;s3:AbortMultipartUpload\&quot;, \&quot;s3:DeleteObject\&quot;, \&quot;s3:GetObject\&quot;, \&quot;s3:ListMultipartUploadParts\&quot;, \&quot;s3:PutObject\&quot;],\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t\t\&quot;Resource\&quot;: [\&quot;arn:aws:s3:::&quot;</span> + bucketName + <span class="string">&quot;/*\&quot;]\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;\t&#125;]\n&quot;</span> +  </span><br><span class="line">                        <span class="string">&quot;&#125;\n&quot;</span>;  </span><br><span class="line">                minioClient.setBucketPolicy(SetBucketPolicyArgs.builder().bucket(bucketName).config(policyJson).build());  </span><br><span class="line">                log.info(<span class="string">&quot;bucketsï¼šã€&#123;&#125;ã€‘,åˆ›å»º[readwrite]ç­–ç•¥æˆåŠŸï¼&quot;</span>, bucketName);  </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">                log.info(<span class="string">&quot;minio bucket-&gt;&gt;&gt;ã€&#123;&#125;ã€‘already exists&quot;</span>, bucketName);  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆ é™¤å­˜å‚¨bucket  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Boolean  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">removeBucket</span><span class="params">(String bucketName)</span> &#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            minioClient.removeBucket(RemoveBucketArgs.builder()  </span><br><span class="line">                    .bucket(bucketName)  </span><br><span class="line">                    .build());  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * è·å–å…¨éƒ¨bucket  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">public</span> List&lt;Bucket&gt; <span class="title function_">getAllBuckets</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            List&lt;Bucket&gt; buckets = minioClient.listBuckets();  </span><br><span class="line">            <span class="keyword">return</span> buckets;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸Šä¼   </span></span><br><span class="line"><span class="comment">     *  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file æ–‡ä»¶  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Boolean  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">public</span> OSSFile <span class="title function_">upload</span><span class="params">(MultipartFile file)</span> &#123;  </span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();  </span><br><span class="line">        <span class="keyword">if</span> (StrUtil.isBlank(originalFilename))&#123;  </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">// é‡å‘½å  </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.fastUUID() + originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));  </span><br><span class="line">        <span class="type">String</span> <span class="variable">objectName</span> <span class="operator">=</span> DateUtil.format(<span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="string">&quot;yy-MM/dd&quot;</span>) + <span class="string">&quot;/&quot;</span> + fileName;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="type">PutObjectArgs</span> <span class="variable">objectArgs</span> <span class="operator">=</span> PutObjectArgs.builder().bucket(prop.getBucketName()).object(objectName)  </span><br><span class="line">                    .stream(file.getInputStream(), file.getSize(), -<span class="number">1</span>).contentType(file.getContentType()).build();  </span><br><span class="line">            <span class="comment">//æ–‡ä»¶åç§°ç›¸åŒä¼šè¦†ç›–  </span></span><br><span class="line">            minioClient.putObject(objectArgs);  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        <span class="type">OSSFile</span> <span class="variable">ossFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSFile</span>();  </span><br><span class="line">        ossFile.setFileName(originalFilename);  </span><br><span class="line">        ossFile.setObjectName(objectName);  </span><br><span class="line">        ossFile.setUrl(prop.getEndpoint() + <span class="string">&quot;/&quot;</span> + prop.getBucketName() + <span class="string">&quot;/&quot;</span> + objectName);  </span><br><span class="line">        <span class="keyword">return</span> ossFile;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * é¢„è§ˆå›¾ç‰‡  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">preview</span><span class="params">(String fileName)</span>&#123;  </span><br><span class="line">        <span class="comment">// æŸ¥çœ‹æ–‡ä»¶åœ°å€  </span></span><br><span class="line">        <span class="type">GetPresignedObjectUrlArgs</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetPresignedObjectUrlArgs</span>().builder().bucket(prop.getBucketName()).object(fileName).method(Method.GET).build();  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> minioClient.getPresignedObjectUrl(build);  </span><br><span class="line">            <span class="keyword">return</span> url;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸‹è½½  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName æ–‡ä»¶åç§°  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> res response  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Boolean  </span></span><br><span class="line"><span class="comment">     */</span>    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">download</span><span class="params">(String fileName, HttpServletResponse res)</span> &#123;  </span><br><span class="line">        <span class="type">GetObjectArgs</span> <span class="variable">objectArgs</span> <span class="operator">=</span> GetObjectArgs.builder().bucket(prop.getBucketName())  </span><br><span class="line">                .object(fileName).build();  </span><br><span class="line">        <span class="keyword">try</span> (<span class="type">InputStream</span> <span class="variable">response</span> <span class="operator">=</span> minioClient.getObject(objectArgs))&#123;  </span><br><span class="line">            <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];  </span><br><span class="line">            <span class="type">int</span> len;  </span><br><span class="line">            <span class="keyword">try</span> (<span class="type">FastByteArrayOutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FastByteArrayOutputStream</span>())&#123;  </span><br><span class="line">                <span class="keyword">while</span> ((len=response.read(buf))!=-<span class="number">1</span>)&#123;  </span><br><span class="line">                    os.write(buf,<span class="number">0</span>,len);  </span><br><span class="line">                &#125;  </span><br><span class="line">                os.flush();  </span><br><span class="line">                <span class="type">byte</span>[] bytes = os.toByteArray();  </span><br><span class="line">                res.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);  </span><br><span class="line">                <span class="comment">// è®¾ç½®å¼ºåˆ¶ä¸‹è½½ä¸æ‰“å¼€  </span></span><br><span class="line">                <span class="comment">// res.setContentType(&quot;application/force-download&quot;);  </span></span><br><span class="line">                res.addHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;fileName=&quot;</span> + fileName);  </span><br><span class="line">                <span class="keyword">try</span> (<span class="type">ServletOutputStream</span> <span class="variable">stream</span> <span class="operator">=</span> res.getOutputStream())&#123;  </span><br><span class="line">                    stream.write(bytes);  </span><br><span class="line">                    stream.flush();  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * æŸ¥çœ‹æ–‡ä»¶å¯¹è±¡  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å­˜å‚¨bucketå†…æ–‡ä»¶å¯¹è±¡ä¿¡æ¯  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> List&lt;Item&gt; <span class="title function_">listObjects</span><span class="params">()</span> &#123;  </span><br><span class="line">        Iterable&lt;Result&lt;Item&gt;&gt; results = minioClient.listObjects(  </span><br><span class="line">                ListObjectsArgs.builder().bucket(prop.getBucketName()).build());  </span><br><span class="line">        List&lt;Item&gt; items = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            <span class="keyword">for</span> (Result&lt;Item&gt; result : results) &#123;  </span><br><span class="line">                items.add(result.get());  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> items;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">     * åˆ é™¤  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception  </span></span><br><span class="line"><span class="comment">     */</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(String fileName)</span>&#123;  </span><br><span class="line">        <span class="keyword">try</span> &#123;  </span><br><span class="line">            minioClient.removeObject( RemoveObjectArgs.builder().bucket(prop.getBucketName()).object(fileName).build());  </span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‹“å±•">æ‹“å±•</h4><p>Minioè¿™ä¸ªè¢«å†™æˆäº†SPIåŠ è½½åˆ°åˆ«çš„æœåŠ¡ä¸­ï¼Œè¿™è¾¹å†åŠ ä¸€ä¸‹å…³äºSPIçš„çŸ¥è¯†ã€‚<img                       lazyload                     alt="image"                     data-src="https://blog-resources.oss-cn-hangzhou.aliyuncs.com/240530/Snipaste_2024-05-30_16-20-31.png"                      alt=""                ><br>å¦‚å›¾resourcesæ–‡ä»¶å¤¹ä¸‹çš„META-INFæ–‡ä»¶å¤¹ä¸‹çš„spring.factoriesæ–‡ä»¶ã€‚å¦‚æœè¦æŠŠMinioUtilè¿™ä¸ªæ–¹æ³•åŠ è½½åˆ°åˆ«çš„é¡¹ç›®ä¸­ï¼Œå¯ä»¥è¿™ä¹ˆå†™ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.hzjzxx.minio.utils.MinioUtil</span><br></pre></td></tr></table></figure><p>å…³äºSPIçš„çŸ¥è¯†ï¼š</p><blockquote><p>å†…é“¾ï¼š[[é¢è¯•-SPI]]<br>å¤–é“¾ï¼š<a class="link"   href="https://kiml.site/2024/05/30/100000015/" >SPIç›¸å…³<i class="fas fa-external-link-alt"></i></a></p></blockquote>]]></content>
    
    
    <summary type="html">&lt;ul class=&quot;lvl-0&quot;&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;å‰è¨€&lt;br&gt;
é¡¹ç›®ä¸­å¸¸ç”¨åˆ°æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;lvl-2&quot;&gt;
&lt;p&gt;æ›´æ–°&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;24.05.30 åˆå§‹è®°å½•ï¼ˆMinioï¼Œé˜¿é‡Œäº‘OSSï¼‰&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="åç«¯é¡¹ç›®" scheme="https://kiml.github.io/categories/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/"/>
    
    <category term="å‡†å¤‡å·¥ä½œ" scheme="https://kiml.github.io/categories/%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/"/>
    
    
    <category term="Minio" scheme="https://kiml.github.io/tags/Minio/"/>
    
    <category term="Oss" scheme="https://kiml.github.io/tags/Oss/"/>
    
  </entry>
  
</feed>
